{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailRadio.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailRadio.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJGOi92c2NvZGUvZ29jb2RlL2Nsb3VkTXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBzZWFyY2hSZXN1bHQgfSBmcm9tICJuZXR3b3JrL3NlYXJjaCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGV0YWlsUmFkaW8iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByYWRpb0xpc3Q6IFtdLAogICAgICBvZmZzZXQ6IDAsCiAgICAgIGhhc01vcmU6ICIiLAogICAgICBkalJhZGlvc0NvdW50OiA0MAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOi3r+eUsei3s+i9rAogICAgdG9SYWRpbzogZnVuY3Rpb24gdG9SYWRpbyhpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3N0YXRpb25EZXRhaWwvIiArIGlkKTsKICAgIH0sCiAgICBnZXRTZWFyY2hSZXN1bHQ6IGZ1bmN0aW9uIGdldFNlYXJjaFJlc3VsdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGxvYWRpbmcubG9hZGluZ1Nob3coKTsKICAgICAgc2VhcmNoUmVzdWx0KHRoaXMuJHJvdXRlLnBhcmFtcy5rZXl3b3JkcywgNDAsIHRoaXMub2Zmc2V0ICogNDAsIDEwMDkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmhhc01vcmUgPSByZXMuZGF0YS5yZXN1bHQuZGpSYWRpb3MgfHwgbnVsbDsKCiAgICAgICAgaWYgKF90aGlzLmhhc01vcmUgIT09IG51bGwpIHsKICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXMuZGF0YS5yZXN1bHQuZGpSYWRpb3MpLAogICAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgX3RoaXMucmFkaW9MaXN0LnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICBwaWNVcmw6IGl0ZW0ucGljVXJsLAogICAgICAgICAgICAgICAgbmlja25hbWU6IGl0ZW0uZGoubmlja25hbWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLm9mZnNldCsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3Quc2hvdygi5rKh5pyJ5pu05aSa5LqGOigiLCAxOTAwKTsKCiAgICAgICAgICBfdGhpcy4kbG9hZGluZy5sb2FkaW5nTm8oKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOebkeWQrOa7muWKqOS6i+S7tgogICAgbGluZWFyU2Nyb2xsOiBmdW5jdGlvbiBsaW5lYXJTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g5rua5Yqo5p2h6Led56a76aG26YOo55qE6Led56a7CiAgICAgIHZhciBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOyAvLyDlj6/op4bljLrnmoTpq5jluqYKCiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyDmu5rliqjmnaHlj6/mu5rliqjnmoTpq5jluqYKCiAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgICAgaWYgKHNjcm9sbFRvcCArIGNsaWVudEhlaWdodCA+PSBzY3JvbGxIZWlnaHQgLSAxKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZ2V0U2VhcmNoUmVzdWx0KCk7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICBzZWFyY2hSZXN1bHQodGhpcy4kcm91dGUucGFyYW1zLmtleXdvcmRzLCA0MCwgdGhpcy5vZmZzZXQgKiA0MCwgMTAwOSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLmRhdGEucmVzdWx0LmRqUmFkaW9zKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgIF90aGlzMy5yYWRpb0xpc3QucHVzaCh7CiAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgIHBpY1VybDogaXRlbS5waWNVcmwsCiAgICAgICAgICAgIG5pY2tuYW1lOiBpdGVtLmRqLm5pY2tuYW1lCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CgogICAgICBfdGhpczMub2Zmc2V0Kys7CiAgICB9KTsgLy8g57uR5a6a5rua5Yqo5LqL5Lu2CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBfdGhpczMubGluZWFyU2Nyb2xsKTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM0LiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgfSk7CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICAvLyDliKDpmaTkuovku7YKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMubGluZWFyU2Nyb2xsKTsKICB9Cn07"},{"version":3,"sources":["DetailRadio.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"DetailRadio\">\n    <div\n      class=\"item\"\n      @click=\"toRadio(item.id)\"\n      v-for=\"(item, index) in radioList\"\n      :key=\"index\"\n    >\n      <div class=\"left\">\n        <img :src=\"item.picUrl\" alt=\"\" />\n      </div>\n      <div class=\"right\">\n        <div class=\"box\">\n          <div class=\"title\">{{ item.name }}</div>\n          <div class=\"detail\">{{ item.nickname }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { searchResult } from \"network/search\";\nexport default {\n  name: \"DetailRadio\",\n  data() {\n    return {\n      radioList: [],\n      offset: 0,\n      hasMore: \"\",\n      djRadiosCount: 40,\n    };\n  },\n  methods: {\n    // 路由跳转\n    toRadio(id) {\n      this.$router.push(\"/stationDetail/\" + id);\n    },\n\n    getSearchResult() {\n      this.$loading.loadingShow();\n      searchResult(\n        this.$route.params.keywords,\n        40,\n        this.offset * 40,\n        1009\n      ).then((res) => {\n        this.hasMore = res.data.result.djRadios || null;\n        if (this.hasMore !== null) {\n          for (const item of res.data.result.djRadios) {\n            this.radioList.push({\n              id: item.id,\n              name: item.name,\n              picUrl: item.picUrl,\n              nickname: item.dj.nickname,\n            });\n          }\n          this.offset++;\n        } else {\n          this.$toast.show(\"没有更多了:(\", 1900);\n          this.$loading.loadingNo();\n        }\n      });\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        setTimeout(() => {\n          this.getSearchResult();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 40, this.offset * 40, 1009).then(\n      (res) => {\n        for (const item of res.data.result.djRadios) {\n          this.radioList.push({\n            id: item.id,\n            name: item.name,\n            picUrl: item.picUrl,\n            nickname: item.dj.nickname,\n          });\n        }\n        this.offset++;\n      }\n    );\n\n    // 绑定滚动事件\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n    });\n  },\n  deactivated() {\n    // 删除事件\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.DetailRadio {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n}\n.item {\n  display: flex;\n  height: 1.198402rem;\n  width: 100%;\n  margin-bottom: 0.399467rem;\n}\n.left {\n  flex: 1.5;\n}\n.left img {\n  width: 1.198402rem;\n  height: 100%;\n  border-radius: 0.133156rem;\n}\n.right {\n  flex: 8.5;\n  display: flex;\n  align-items: center;\n}\n.title {\n  width: 7.190413rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 0.372836rem;\n  margin-left: 0.133156rem;\n}\n.detail {\n  width: 7.190413rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 0.319574rem;\n  color: rgb(150, 150, 150);\n  height: 0.399467rem;\n  line-height: 0.399467rem;\n  margin-left: 0.133156rem;\n}\n</style>"],"sourceRoot":"src/views/search/childrenComps"}]}