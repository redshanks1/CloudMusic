{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailSongs.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailSongs.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJGOi92c2NvZGUvZ29jb2RlL2Nsb3VkTXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc29uZ0l0ZW0gZnJvbSAiY29tcG9uZW50cy9jb250ZXh0L3NvbmdJdGVtL1NvbmdJdGVtIjsKaW1wb3J0IHsgc2VhcmNoUmVzdWx0IH0gZnJvbSAibmV0d29yay9zZWFyY2giOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbFNvbmdzIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGV0YWlsOiBbXSwKICAgICAgb2Zmc2V0OiAwLAogICAgICByZXN1bHQ6IDEsCiAgICAgIC8vIOWIpOaWreaYr+WQpui/mOacieaVsOaNrgogICAgICBrZXl3b3JrczogdGhpcy4kcm91dGUucGFyYW1zLmtleXdvcmRzCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgc29uZ0l0ZW06IHNvbmdJdGVtCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmlbDmja4KICAgIGdldFNlYXJjaFJlc3VsdDogZnVuY3Rpb24gZ2V0U2VhcmNoUmVzdWx0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgc2VhcmNoUmVzdWx0KHRoaXMua2V5d29ya3MsIDMwLCB0aGlzLm9mZnNldCAqIDMwLCAxKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5yZXN1bHQgPSByZXMuZGF0YS5yZXN1bHQuc29uZ3MgfHwgbnVsbDsKCiAgICAgICAgaWYgKF90aGlzLnJlc3VsdCAhPT0gbnVsbCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5yZXN1bHQuc29uZ3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX3RoaXMuZGV0YWlsLnB1c2goewogICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5yZXN1bHQuc29uZ3NbaV0uaWQsCiAgICAgICAgICAgICAgc29uZ05hbWU6IHJlcy5kYXRhLnJlc3VsdC5zb25nc1tpXS5uYW1lLAogICAgICAgICAgICAgIHl1YW5jOiBbXSwKICAgICAgICAgICAgICBzaW5nZXI6IHJlcy5kYXRhLnJlc3VsdC5zb25nc1tpXS5hciwKICAgICAgICAgICAgICB6aHVhbmppOiByZXMuZGF0YS5yZXN1bHQuc29uZ3NbaV0uYWxidW0ubmFtZSwKICAgICAgICAgICAgICBtdjogcmVzLmRhdGEucmVzdWx0LnNvbmdzW2ldLm12aWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMub2Zmc2V0Kys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdC5zaG93KCfmsqHmnInmm7TlpJrkuoY6KCcsIDE5MDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g55uR5ZCs5rua5Yqo5LqL5Lu2CiAgICBsaW5lYXJTY3JvbGw6IGZ1bmN0aW9uIGxpbmVhclNjcm9sbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyDmu5rliqjmnaHot53nprvpobbpg6jnmoTot53nprsKICAgICAgdmFyIHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7IC8vIOWPr+inhuWMuueahOmrmOW6pgoKICAgICAgdmFyIGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7IC8vIOa7muWKqOadoeWPr+a7muWKqOeahOmrmOW6pgoKICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ7CgogICAgICBpZiAoc2Nyb2xsVG9wICsgY2xpZW50SGVpZ2h0ID49IHNjcm9sbEhlaWdodCAtIDEpIHsKICAgICAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZ2V0U2VhcmNoUmVzdWx0KCk7CgogICAgICAgICAgX3RoaXMyLiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy4kbG9hZGluZy5sb2FkaW5nU2hvdygpOwogICAgc2VhcmNoUmVzdWx0KHRoaXMuJHJvdXRlLnBhcmFtcy5rZXl3b3JkcywgNDAsIHRoaXMub2Zmc2V0ICogNDAsIDEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLmRhdGEucmVzdWx0LnNvbmdzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBfdGhpczMuZGV0YWlsLnB1c2goewogICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgc29uZ05hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgeXVhbmM6IFtdLAogICAgICAgICAgICBzaW5nZXI6IGl0ZW0uYXIsCiAgICAgICAgICAgIHpodWFuamk6IGl0ZW0uYWxidW0ubmFtZSwKICAgICAgICAgICAgbXY6IGl0ZW0ubXZpZAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIF90aGlzMy5vZmZzZXQrKzsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM0LiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgfSk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgX3RoaXM1LmxpbmVhclNjcm9sbCk7CiAgICB9KTsKICB9LAogIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiBkZWFjdGl2YXRlZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMubGluZWFyU2Nyb2xsKTsKICB9Cn07"},{"version":3,"sources":["DetailSongs.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"DetailSongs\">\n    <div class=\"topbox\">\n      <img src=\"~assets/img/played/bofang.svg\" alt=\"\" />\n      播放全部\n    </div>\n    <songItem :songList=\"detail\"></songItem>\n  </div>\n</template>\n\n<script>\nimport songItem from \"components/context/songItem/SongItem\";\nimport { searchResult } from \"network/search\";\n\nexport default {\n  name: \"DetailSongs\",\n  data() {\n    return {\n      detail: [],\n      offset: 0,\n      result: 1, // 判断是否还有数据\n      keyworks: this.$route.params.keywords,\n    };\n  },\n  components: {\n    songItem,\n  },\n  methods: {\n    // 获取数据\n    getSearchResult() {\n      searchResult(this.keyworks, 30, this.offset * 30, 1).then((res) => {\n        this.result = res.data.result.songs || null;\n        if (this.result !== null) {\n          for (let i = 0; i < res.data.result.songs.length; i++) {\n            this.detail.push({\n              id: res.data.result.songs[i].id,\n              songName: res.data.result.songs[i].name,\n              yuanc: [],\n              singer: res.data.result.songs[i].ar,\n              zhuanji: res.data.result.songs[i].album.name,\n              mv: res.data.result.songs[i].mvid,\n            });\n          }\n          this.offset++;\n        } else {\n          this.$toast.show('没有更多了:(',1900)\n        }\n      });\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.getSearchResult();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 40, this.offset * 40, 1).then(\n      (res) => {\n        for (const item of res.data.result.songs) {\n          this.detail.push({\n            id: item.id,\n            songName: item.name,\n            yuanc: [],\n            singer: item.ar,\n            zhuanji: item.album.name,\n            mv: item.mvid,\n          });\n        }\n        this.offset++;\n      }\n    );\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n    })\n  },\n  activated() {\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n  deactivated() {\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.DetailSongs {\n  width: 100%;\n  min-height: 13.315579rem;\n}\n.topbox {\n  height: 0.665779rem;\n  line-height: 0.665779rem;\n  font-size: 0.426099rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n}\n.topbox img {\n  float: left;\n  width: 0.639148rem;\n  margin-right: 0.266312rem;\n}\n</style>"],"sourceRoot":"src/views/search/childrenComps"}]}