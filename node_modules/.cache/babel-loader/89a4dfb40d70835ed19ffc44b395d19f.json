{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\cloudDisk\\CloudDisk.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\cloudDisk\\CloudDisk.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkY6L3ZzY29kZS9nb2NvZGUvY2xvdWRNdXNpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtZW51bmF2IGZyb20gImNvbXBvbmVudHMvY29udGV4dC9tZW51TmF2L01lbnVOYXYiOwppbXBvcnQgc29uZ0l0ZW0gZnJvbSAiY29tcG9uZW50cy9jb250ZXh0L3NvbmdJdGVtL1NvbmdJdGVtIjsKaW1wb3J0IHsgZ2V0RGlzayB9IGZyb20gIm5ldHdvcmsvY2xvdWREaXNrIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDbG91ZERpc2siLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvZmZzZXQ6IDAsCiAgICAgIHNvbmdMaXN0OiBbXSwKICAgICAgdHJhY2tDb3VudDogMCwKICAgICAgbW9yZTogdHJ1ZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIG1lbnVuYXY6IG1lbnVuYXYsCiAgICBzb25nSXRlbTogc29uZ0l0ZW0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRpc2s6IGZ1bmN0aW9uIGRpc2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5tb3JlKSB7CiAgICAgICAgZ2V0RGlzaygzMCwgdGhpcy5vZmZzZXQgKiAzMCwgdGhpcy4kc3RvcmUuc3RhdGUuY29va2llKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLnRyYWNrQ291bnQgPSByZXMuZGF0YS5jb3VudDsKCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLmRhdGEuZGF0YSksCiAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICBfdGhpcy5zb25nTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiBpdGVtLnNpbXBsZVNvbmcuaWQsCiAgICAgICAgICAgICAgICBzb25nTmFtZTogaXRlbS5zb25nTmFtZSwKICAgICAgICAgICAgICAgIHNpbmdlcjogW3sKICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5hcnRpc3QKICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgeXVhbmM6IGl0ZW0uc2ltcGxlU29uZy5hbGlhIHx8IFtdLAogICAgICAgICAgICAgICAgemh1YW5qaTogaXRlbS5hbGJ1bSwKICAgICAgICAgICAgICAgIG12OiBpdGVtLnNpbXBsZVNvbmcubXYKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLm1vcmUgPSByZXMuZGF0YS5oYXNNb3JlOwogICAgICAgICAgX3RoaXMub2Zmc2V0Kys7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygi5rKh5pyJ5pu05aSa5LqGOigiLCAxOTAwKTsKICAgICAgfQogICAgfSwKICAgIGxpbmVhclNjcm9sbDogZnVuY3Rpb24gbGluZWFyU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIOa7muWKqOadoei3neemu+mhtumDqOeahOi3neemuwogICAgICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsgLy8g5Y+v6KeG5Yy655qE6auY5bqmCgogICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsgLy8g5rua5Yqo5p2h5Y+v5rua5Yqo55qE6auY5bqmCgogICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKCiAgICAgIGlmIChzY3JvbGxUb3AgKyBjbGllbnRIZWlnaHQgPj0gc2Nyb2xsSGVpZ2h0IC0gMSkgewogICAgICAgIHRoaXMuJGxvYWRpbmcubG9hZGluZ1Nob3coKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5kaXNrKCk7CgogICAgICAgICAgX3RoaXMyLiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5kaXNrKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpczMuJGxvYWRpbmcubG9hZGluZ05vKCk7CgogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgX3RoaXMzLmxpbmVhclNjcm9sbCk7CiAgICB9KTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMubGluZWFyU2Nyb2xsKTsKICB9Cn07"},{"version":3,"sources":["CloudDisk.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"CloudDisk\">\n    <menunav class=\"nav\" :songList=\"songList\" :navTitle=\"'音乐云盘'\"></menunav>\n    <div class=\"SheetNav\">\n      <img src=\"~assets/img/played/bofang.svg\" alt=\"\" />\n      <span\n        >播放全部<span class=\"a\">(共{{ trackCount }}首)</span></span\n      >\n    </div>\n    <div class=\"content\">\n      <song-item :songList=\"songList\"></song-item>\n      <div class=\"box\">歌曲永久保存，随时随地多端畅听</div>\n    </div>\n    <div class=\"btn\">\n      <img src=\"~assets/img/myMessage/sc.svg\" alt=\"\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport menunav from \"components/context/menuNav/MenuNav\";\nimport songItem from \"components/context/songItem/SongItem\";\nimport { getDisk } from \"network/cloudDisk\";\nexport default {\n  name: \"CloudDisk\",\n  data() {\n    return {\n      offset: 0,\n      songList: [],\n      trackCount: 0,\n      more: true,\n    };\n  },\n  components: {\n    menunav,\n    songItem,\n  },\n  methods: {\n    disk() {\n      if (this.more) {\n        getDisk(30, this.offset * 30, this.$store.state.cookie).then((res) => {\n          this.trackCount = res.data.count;\n          for (const item of res.data.data) {\n            this.songList.push({\n              id: item.simpleSong.id,\n              songName: item.songName,\n              singer: [{ name: item.artist }],\n              yuanc: item.simpleSong.alia || [],\n              zhuanji: item.album,\n              mv: item.simpleSong.mv,\n            });\n          }\n          this.more = res.data.hasMore;\n          this.offset++;\n        });\n      } else {\n        this.$toast.show(\"没有更多了:(\", 1900);\n      }\n    },\n\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.disk();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.disk();\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n      window.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n\n  destroyed() {\n    window.addEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.CloudDisk {\n  width: 100%;\n  position: relative;\n}\n.nav {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.btn {\n  width: 1.198402rem;\n  height: 1.198402rem;\n  border-radius: 50%;\n  background-color: red;\n  position: fixed;\n  left: 0.266312rem;\n  bottom: 1.464714rem;\n  text-align: center;\n}\n.btn img {\n  width: 0.745672rem;\n  margin-top: 0.266312rem;\n}\n.content {\n  margin-top: 1.171771rem;\n  padding: 0 0.319574rem 0.319574rem;\n  background-color: #fff;\n  min-height: 15.978695rem;\n}\n.SheetNav {\n  position: sticky;\n  top: 42.5px;\n  width: 100%;\n  height: 1.198402rem;\n  background-color: #fff;\n  border-top-left-radius: 15px;\n  border-top-right-radius: 15px;\n  line-height: 1.198402rem;\n  font-size: 15px;\n}\n.SheetNav img {\n  width: 0.852197rem;\n  height: 0.852197rem;\n  margin-top: 0.173103rem;\n  margin-left: 0.319574rem;\n  margin-right: 0.186418rem;\n  float: left;\n}\n.SheetNav span {\n  font-size: 0.45273rem;\n}\n.SheetNav .a {\n  color: rgb(143, 143, 143);\n  font-size: 0.346205rem;\n}\n.collectionTrue {\n  background-color: #da231b !important;\n  color: #fff !important;\n}\n.collection {\n  width: 100px;\n  height: 0.852197rem;\n  margin-top: 0.173103rem;\n  margin-right: 0.266312rem;\n  line-height: 0.852197rem;\n  border-radius: 0.852197rem;\n  float: right;\n  font-size: 0.372836rem;\n  color: #000;\n  text-align: center;\n  background-color: rgb(214, 214, 214);\n}\n.collection img {\n  width: 0.479361rem;\n  margin: 0;\n  position: relative;\n  top: 0px;\n  left: 0.45273rem;\n}\n.box {\n  width: 100%;\n  height: 1.331558rem;\n  line-height: 1.331558rem;\n  text-align: center;\n  color: #808080;\n  font-size: 0.346205rem;\n}\n</style>"],"sourceRoot":"src/views/cloudDisk"}]}