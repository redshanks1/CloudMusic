{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\src\\assets\\mui\\js\\mui.min.js","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\assets\\mui\\js\\mui.min.js","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmV2ZXJ5Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwZWF0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCnZhciBfdHlwZW9mID0gcmVxdWlyZSgiRjovdnNjb2RlL2dvY29kZS9jbG91ZE11c2ljL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpOwoKLyohCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAqIE11aSB2My43LjMgKGh0dHA6Ly9kZXYuZGNsb3VkLm5ldC5jbi9tdWkpCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAqLwp2YXIgbXVpID0gZnVuY3Rpb24gKGEsIGIpIHsKICB2YXIgYyA9IC9jb21wbGV0ZXxsb2FkZWR8aW50ZXJhY3RpdmUvLAogICAgICBkID0gL14jKFtcdy1dKykkLywKICAgICAgZSA9IC9eXC4oW1x3LV0rKSQvLAogICAgICBmID0gL15bXHctXSskLywKICAgICAgZyA9IC90cmFuc2xhdGUoPzozZCk/XCgoLis/KVwpLywKICAgICAgaCA9IC9tYXRyaXgoM2QpP1woKC4rPylcKS8sCiAgICAgIGkgPSBmdW5jdGlvbiBpKGIsIGMpIHsKICAgIGlmIChjID0gYyB8fCBhLCAhYikgcmV0dXJuIGooKTsKICAgIGlmICgib2JqZWN0IiA9PSBfdHlwZW9mKGIpKSByZXR1cm4gaS5pc0FycmF5TGlrZShiKSA/IGooaS5zbGljZS5jYWxsKGIpLCBudWxsKSA6IGooW2JdLCBudWxsKTsKICAgIGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBiKSByZXR1cm4gaS5yZWFkeShiKTsKICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgYikgdHJ5IHsKICAgICAgaWYgKGIgPSBiLnRyaW0oKSwgZC50ZXN0KGIpKSB7CiAgICAgICAgdmFyIGUgPSBhLmdldEVsZW1lbnRCeUlkKFJlZ0V4cC4kMSk7CiAgICAgICAgcmV0dXJuIGooZSA/IFtlXSA6IFtdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGooaS5xc2EoYiwgYyksIGIpOwogICAgfSBjYXRjaCAoYSkge30KICAgIHJldHVybiBqKCk7CiAgfSwKICAgICAgaiA9IGZ1bmN0aW9uIGooYSwgYikgewogICAgcmV0dXJuIGEgPSBhIHx8IFtdLCBPYmplY3Quc2V0UHJvdG90eXBlT2YoYSwgaS5mbiksIGEuc2VsZWN0b3IgPSBiIHx8ICIiLCBhOwogIH07CgogIGkudXVpZCA9IDAsIGkuZGF0YSA9IHt9LCBpLmV4dGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhLAogICAgICAgIGMsCiAgICAgICAgZCwKICAgICAgICBlLAogICAgICAgIGYsCiAgICAgICAgZywKICAgICAgICBoID0gYXJndW1lbnRzWzBdIHx8IHt9LAogICAgICAgIGogPSAxLAogICAgICAgIGsgPSBhcmd1bWVudHMubGVuZ3RoLAogICAgICAgIGwgPSAhMTsKCiAgICBmb3IgKCJib29sZWFuIiA9PSB0eXBlb2YgaCAmJiAobCA9IGgsIGggPSBhcmd1bWVudHNbal0gfHwge30sIGorKyksICJvYmplY3QiID09IF90eXBlb2YoaCkgfHwgaS5pc0Z1bmN0aW9uKGgpIHx8IChoID0ge30pLCBqID09PSBrICYmIChoID0gdGhpcywgai0tKTsgaiA8IGs7IGorKykgewogICAgICBpZiAobnVsbCAhPSAoYSA9IGFyZ3VtZW50c1tqXSkpIGZvciAoYyBpbiBhKSB7CiAgICAgICAgZCA9IGhbY10sIGUgPSBhW2NdLCBoICE9PSBlICYmIChsICYmIGUgJiYgKGkuaXNQbGFpbk9iamVjdChlKSB8fCAoZiA9IGkuaXNBcnJheShlKSkpID8gKGYgPyAoZiA9ICExLCBnID0gZCAmJiBpLmlzQXJyYXkoZCkgPyBkIDogW10pIDogZyA9IGQgJiYgaS5pc1BsYWluT2JqZWN0KGQpID8gZCA6IHt9LCBoW2NdID0gaS5leHRlbmQobCwgZywgZSkpIDogZSAhPT0gYiAmJiAoaFtjXSA9IGUpKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBoOwogIH0sIGkubm9vcCA9IGZ1bmN0aW9uICgpIHt9LCBpLnNsaWNlID0gW10uc2xpY2UsIGkuZmlsdGVyID0gW10uZmlsdGVyLCBpLnR5cGUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIG51bGwgPT0gYSA/IFN0cmluZyhhKSA6IGtbe30udG9TdHJpbmcuY2FsbChhKV0gfHwgIm9iamVjdCI7CiAgfSwgaS5pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBBcnJheTsKICB9LCBpLmlzQXJyYXlMaWtlID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gISFhICYmICJsZW5ndGgiIGluIGEgJiYgYS5sZW5ndGgsCiAgICAgICAgYyA9IGkudHlwZShhKTsKICAgIHJldHVybiAiZnVuY3Rpb24iICE9PSBjICYmICFpLmlzV2luZG93KGEpICYmICgiYXJyYXkiID09PSBjIHx8IDAgPT09IGIgfHwgIm51bWJlciIgPT0gdHlwZW9mIGIgJiYgYiA+IDAgJiYgYiAtIDEgaW4gYSk7CiAgfSwgaS5pc1dpbmRvdyA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gbnVsbCAhPSBhICYmIGEgPT09IGEud2luZG93OwogIH0sIGkuaXNPYmplY3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuICJvYmplY3QiID09PSBpLnR5cGUoYSk7CiAgfSwgaS5pc1BsYWluT2JqZWN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBpLmlzT2JqZWN0KGEpICYmICFpLmlzV2luZG93KGEpICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSA9PT0gT2JqZWN0LnByb3RvdHlwZTsKICB9LCBpLmlzRW1wdHlPYmplY3QgPSBmdW5jdGlvbiAoYSkgewogICAgZm9yICh2YXIgYyBpbiBhKSB7CiAgICAgIGlmIChjICE9PSBiKSByZXR1cm4gITE7CiAgICB9CgogICAgcmV0dXJuICEwOwogIH0sIGkuaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gImZ1bmN0aW9uIiA9PT0gaS50eXBlKGEpOwogIH0sIGkucXNhID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIHJldHVybiBjID0gYyB8fCBhLCBpLnNsaWNlLmNhbGwoZS50ZXN0KGIpID8gYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFJlZ0V4cC4kMSkgOiBmLnRlc3QoYikgPyBjLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpIDogYy5xdWVyeVNlbGVjdG9yQWxsKGIpKTsKICB9LCBpLnJlYWR5ID0gZnVuY3Rpb24gKGIpIHsKICAgIHJldHVybiBjLnRlc3QoYS5yZWFkeVN0YXRlKSA/IGIoaSkgOiBhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGIoaSk7CiAgICB9LCAhMSksIHRoaXM7CiAgfSwgaS5idWZmZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgZnVuY3Rpb24gZCgpIHsKICAgICAgZSAmJiAoZS5jYW5jZWwoKSwgZSA9IDApLCBmID0gaS5ub3coKSwgYS5hcHBseShjIHx8IHRoaXMsIGFyZ3VtZW50cyksIGcgPSBpLm5vdygpOwogICAgfQoKICAgIHZhciBlLAogICAgICAgIGYgPSAwLAogICAgICAgIGcgPSAwLAogICAgICAgIGIgPSBiIHx8IDE1MDsKICAgIHJldHVybiBpLmV4dGVuZChmdW5jdGlvbiAoKSB7CiAgICAgICFmIHx8IGcgPj0gZiAmJiBpLm5vdygpIC0gZyA+IGIgfHwgZyA8IGYgJiYgaS5ub3coKSAtIGYgPiA4ICogYiA/IGQuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IChlICYmIGUuY2FuY2VsKCksIGUgPSBpLmxhdGVyKGQsIGIsIG51bGwsIGkuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7CiAgICB9LCB7CiAgICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgICAgZSAmJiAoZS5jYW5jZWwoKSwgZSA9IDApOwogICAgICB9CiAgICB9KTsKICB9LCBpLmVhY2ggPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgaWYgKCFhKSByZXR1cm4gdGhpczsKICAgIGlmICgibnVtYmVyIiA9PSB0eXBlb2YgYS5sZW5ndGgpIFtdLmV2ZXJ5LmNhbGwoYSwgZnVuY3Rpb24gKGEsIGMpIHsKICAgICAgcmV0dXJuICExICE9PSBiLmNhbGwoYSwgYywgYSk7CiAgICB9KTtlbHNlIGZvciAodmFyIGQgaW4gYSkgewogICAgICBpZiAoYykgewogICAgICAgIGlmIChhLmhhc093blByb3BlcnR5KGQpICYmICExID09PSBiLmNhbGwoYVtkXSwgZCwgYVtkXSkpIHJldHVybiBhOwogICAgICB9IGVsc2UgaWYgKCExID09PSBiLmNhbGwoYVtkXSwgZCwgYVtkXSkpIHJldHVybiBhOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfSwgaS5mb2N1cyA9IGZ1bmN0aW9uIChhKSB7CiAgICBpLm9zLmlvcyA/IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBhLmZvY3VzKCk7CiAgICB9LCAxMCkgOiBhLmZvY3VzKCk7CiAgfSwgaS50cmlnZ2VyID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHJldHVybiBhLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGIsIHsKICAgICAgZGV0YWlsOiBjLAogICAgICBidWJibGVzOiAhMCwKICAgICAgY2FuY2VsYWJsZTogITAKICAgIH0pKSwgdGhpczsKICB9LCBpLmdldFN0eWxlcyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IGEub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsIG51bGwpOwogICAgcmV0dXJuIGIgPyBjLmdldFByb3BlcnR5VmFsdWUoYikgfHwgY1tiXSA6IGM7CiAgfSwgaS5wYXJzZVRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IGEubWF0Y2goZyB8fCAiIik7CiAgICByZXR1cm4gYyAmJiBjWzFdIHx8IChjID0gWyIiLCAiMCwwLDAiXSksIGMgPSBjWzFdLnNwbGl0KCIsIiksIGMgPSB7CiAgICAgIHg6IHBhcnNlRmxvYXQoY1swXSksCiAgICAgIHk6IHBhcnNlRmxvYXQoY1sxXSksCiAgICAgIHo6IHBhcnNlRmxvYXQoY1syXSkKICAgIH0sIGIgJiYgYy5oYXNPd25Qcm9wZXJ0eShiKSA/IGNbYl0gOiBjOwogIH0sIGkucGFyc2VUcmFuc2xhdGVNYXRyaXggPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSBhLm1hdGNoKGgpLAogICAgICAgIGQgPSBjICYmIGNbMV07CiAgICBjID8gKGMgPSBjWzJdLnNwbGl0KCIsIiksICIzZCIgPT09IGQgPyBjID0gYy5zbGljZSgxMiwgMTUpIDogKGMucHVzaCgwKSwgYyA9IGMuc2xpY2UoNCwgNykpKSA6IGMgPSBbMCwgMCwgMF07CiAgICB2YXIgZSA9IHsKICAgICAgeDogcGFyc2VGbG9hdChjWzBdKSwKICAgICAgeTogcGFyc2VGbG9hdChjWzFdKSwKICAgICAgejogcGFyc2VGbG9hdChjWzJdKQogICAgfTsKICAgIHJldHVybiBiICYmIGUuaGFzT3duUHJvcGVydHkoYikgPyBlW2JdIDogZTsKICB9LCBpLmhvb2tzID0ge30sIGkuYWRkQWN0aW9uID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gaS5ob29rc1thXTsKICAgIHJldHVybiBjIHx8IChjID0gW10pLCBiLmluZGV4ID0gYi5pbmRleCB8fCAxZTMsIGMucHVzaChiKSwgYy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDsKICAgIH0pLCBpLmhvb2tzW2FdID0gYywgaS5ob29rc1thXTsKICB9LCBpLmRvQWN0aW9uID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGkuaXNGdW5jdGlvbihiKSA/IGkuZWFjaChpLmhvb2tzW2FdLCBiKSA6IGkuZWFjaChpLmhvb2tzW2FdLCBmdW5jdGlvbiAoYSwgYikgewogICAgICByZXR1cm4gIWIuaGFuZGxlKCk7CiAgICB9KTsKICB9LCBpLmxhdGVyID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIGIgPSBiIHx8IDA7CiAgICB2YXIgZSwKICAgICAgICBmLAogICAgICAgIGcgPSBhLAogICAgICAgIGggPSBkOwogICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiBhICYmIChnID0gY1thXSksIGUgPSBmdW5jdGlvbiBlKCkgewogICAgICBnLmFwcGx5KGMsIGkuaXNBcnJheShoKSA/IGggOiBbaF0pOwogICAgfSwgZiA9IHNldFRpbWVvdXQoZSwgYiksIHsKICAgICAgaWQ6IGYsCiAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICAgIGNsZWFyVGltZW91dChmKTsKICAgICAgfQogICAgfTsKICB9LCBpLm5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiArbmV3IERhdGUoKTsKICB9OwogIHZhciBrID0ge307CiAgcmV0dXJuIGkuZWFjaChbIkJvb2xlYW4iLCAiTnVtYmVyIiwgIlN0cmluZyIsICJGdW5jdGlvbiIsICJBcnJheSIsICJEYXRlIiwgIlJlZ0V4cCIsICJPYmplY3QiLCAiRXJyb3IiXSwgZnVuY3Rpb24gKGEsIGIpIHsKICAgIGtbIltvYmplY3QgIiArIGIgKyAiXSJdID0gYi50b0xvd2VyQ2FzZSgpOwogIH0pLCB3aW5kb3cuSlNPTiAmJiAoaS5wYXJzZUpTT04gPSBKU09OLnBhcnNlKSwgaS5mbiA9IHsKICAgIGVhY2g6IGZ1bmN0aW9uIGVhY2goYSkgewogICAgICByZXR1cm4gW10uZXZlcnkuY2FsbCh0aGlzLCBmdW5jdGlvbiAoYiwgYykgewogICAgICAgIHJldHVybiAhMSAhPT0gYS5jYWxsKGIsIGMsIGIpOwogICAgICB9KSwgdGhpczsKICAgIH0KICB9LCAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCAmJiBkZWZpbmUoIm11aSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaTsKICB9KSwgaTsKfShkb2N1bWVudCk7CgohZnVuY3Rpb24gKGEsIGIpIHsKICBmdW5jdGlvbiBjKGMpIHsKICAgIHRoaXMub3MgPSB7fTsKICAgIHZhciBkID0gW2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSBjLm1hdGNoKC8oTWljcm9NZXNzZW5nZXIpXC8oW1xkXC5dKykvaSk7CiAgICAgIHJldHVybiBhICYmICh0aGlzLm9zLndlY2hhdCA9IHsKICAgICAgICB2ZXJzaW9uOiBhWzJdLnJlcGxhY2UoL18vZywgIi4iKQogICAgICB9KSwgITE7CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhID0gYy5tYXRjaCgvKEFuZHJvaWQpOz9bXHNcL10rKFtcZC5dKyk/Lyk7CiAgICAgIHJldHVybiBhICYmICh0aGlzLm9zLmFuZHJvaWQgPSAhMCwgdGhpcy5vcy52ZXJzaW9uID0gYVsyXSwgdGhpcy5vcy5pc0JhZEFuZHJvaWQgPSAhL0Nocm9tZVwvXGQvLnRlc3QoYi5uYXZpZ2F0b3IuYXBwVmVyc2lvbikpLCAhMCA9PT0gdGhpcy5vcy5hbmRyb2lkOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYSA9IGMubWF0Y2goLyhpUGhvbmVcc09TKVxzKFtcZF9dKykvKTsKICAgICAgaWYgKGEpIHRoaXMub3MuaW9zID0gdGhpcy5vcy5pcGhvbmUgPSAhMCwgdGhpcy5vcy52ZXJzaW9uID0gYVsyXS5yZXBsYWNlKC9fL2csICIuIik7ZWxzZSB7CiAgICAgICAgdmFyIGIgPSBjLm1hdGNoKC8oaVBhZCkuKk9TXHMoW1xkX10rKS8pOwogICAgICAgIGIgJiYgKHRoaXMub3MuaW9zID0gdGhpcy5vcy5pcGFkID0gITAsIHRoaXMub3MudmVyc2lvbiA9IGJbMl0ucmVwbGFjZSgvXy9nLCAiLiIpKTsKICAgICAgfQogICAgICByZXR1cm4gITAgPT09IHRoaXMub3MuaW9zOwogICAgfV07CiAgICBbXS5ldmVyeS5jYWxsKGQsIGZ1bmN0aW9uIChiKSB7CiAgICAgIHJldHVybiAhYi5jYWxsKGEpOwogICAgfSk7CiAgfQoKICBjLmNhbGwoYSwgbmF2aWdhdG9yLnVzZXJBZ2VudCk7Cn0obXVpLCB3aW5kb3cpLCBmdW5jdGlvbiAoYSwgYikgewogIGZ1bmN0aW9uIGMoYykgewogICAgdGhpcy5vcyA9IHRoaXMub3MgfHwge30sIGMubWF0Y2goL0h0bWw1UGx1cy9pKSAmJiAodGhpcy5vcy5wbHVzID0gITAsIGEoZnVuY3Rpb24gKCkgewogICAgICBiLmJvZHkuY2xhc3NMaXN0LmFkZCgibXVpLXBsdXMiKTsKICAgIH0pLCBjLm1hdGNoKC9TdHJlYW1BcHAvaSkgJiYgKHRoaXMub3Muc3RyZWFtID0gITAsIGEoZnVuY3Rpb24gKCkgewogICAgICBiLmJvZHkuY2xhc3NMaXN0LmFkZCgibXVpLXBsdXMtc3RyZWFtIik7CiAgICB9KSkpOwogIH0KCiAgYy5jYWxsKGEsIG5hdmlnYXRvci51c2VyQWdlbnQpOwp9KG11aSwgZG9jdW1lbnQpLCBmdW5jdGlvbiAoYSkgewogICJvbnRvdWNoc3RhcnQiIGluIHdpbmRvdyA/IChhLmlzVG91Y2hhYmxlID0gITAsIGEuRVZFTlRfU1RBUlQgPSAidG91Y2hzdGFydCIsIGEuRVZFTlRfTU9WRSA9ICJ0b3VjaG1vdmUiLCBhLkVWRU5UX0VORCA9ICJ0b3VjaGVuZCIpIDogKGEuaXNUb3VjaGFibGUgPSAhMSwgYS5FVkVOVF9TVEFSVCA9ICJtb3VzZWRvd24iLCBhLkVWRU5UX01PVkUgPSAibW91c2Vtb3ZlIiwgYS5FVkVOVF9FTkQgPSAibW91c2V1cCIpLCBhLkVWRU5UX0NBTkNFTCA9ICJ0b3VjaGNhbmNlbCIsIGEuRVZFTlRfQ0xJQ0sgPSAiY2xpY2siOwoKICB2YXIgYiA9IDEsCiAgICAgIGMgPSB7fSwKICAgICAgZCA9IHsKICAgIHByZXZlbnREZWZhdWx0OiAiaXNEZWZhdWx0UHJldmVudGVkIiwKICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwKICAgIHN0b3BQcm9wYWdhdGlvbjogImlzUHJvcGFnYXRpb25TdG9wcGVkIgogIH0sCiAgICAgIGUgPSBmdW5jdGlvbiBlKCkgewogICAgcmV0dXJuICEwOwogIH0sCiAgICAgIGYgPSBmdW5jdGlvbiBmKCkgewogICAgcmV0dXJuICExOwogIH0sCiAgICAgIGcgPSBmdW5jdGlvbiBnKGIsIGMpIHsKICAgIHJldHVybiBiLmRldGFpbCA/IGIuZGV0YWlsLmN1cnJlbnRUYXJnZXQgPSBjIDogYi5kZXRhaWwgPSB7CiAgICAgIGN1cnJlbnRUYXJnZXQ6IGMKICAgIH0sIGEuZWFjaChkLCBmdW5jdGlvbiAoYSwgYykgewogICAgICB2YXIgZCA9IGJbYV07CiAgICAgIGJbYV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXNbY10gPSBlLCBkICYmIGQuYXBwbHkoYiwgYXJndW1lbnRzKTsKICAgICAgfSwgYltjXSA9IGY7CiAgICB9LCAhMCksIGI7CiAgfSwKICAgICAgaCA9IGZ1bmN0aW9uIGgoYSkgewogICAgcmV0dXJuIGEgJiYgKGEuX21pZCB8fCAoYS5fbWlkID0gYisrKSk7CiAgfSwKICAgICAgaSA9IHt9LAogICAgICBqID0gZnVuY3Rpb24gaihiLCBkLCBlLCBmKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgZiA9IGNbYi5fbWlkXVtkXSwgaCA9IFtdLCBpID0gZS50YXJnZXQsIGogPSB7fTsgaSAmJiBpICE9PSBkb2N1bWVudCAmJiBpICE9PSBiICYmICghflsiY2xpY2siLCAidGFwIiwgImRvdWJsZXRhcCIsICJsb25ndGFwIiwgImhvbGQiXS5pbmRleE9mKGQpIHx8ICFpLmRpc2FibGVkICYmICFpLmNsYXNzTGlzdC5jb250YWlucygibXVpLWRpc2FibGVkIikpOyBpID0gaS5wYXJlbnROb2RlKSB7CiAgICAgICAgdmFyIGsgPSB7fTsKICAgICAgICBhLmVhY2goZiwgZnVuY3Rpb24gKGMsIGQpIHsKICAgICAgICAgIGpbY10gfHwgKGpbY10gPSBhLnFzYShjLCBiKSksIGpbY10gJiYgfmpbY10uaW5kZXhPZihpKSAmJiAoa1tjXSB8fCAoa1tjXSA9IGQpKTsKICAgICAgICB9LCAhMCksIGEuaXNFbXB0eU9iamVjdChrKSB8fCBoLnB1c2goewogICAgICAgICAgZWxlbWVudDogaSwKICAgICAgICAgIGhhbmRsZXJzOiBrCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGogPSBudWxsLCBlID0gZyhlKSwgYS5lYWNoKGgsIGZ1bmN0aW9uIChiLCBjKSB7CiAgICAgICAgaSA9IGMuZWxlbWVudDsKICAgICAgICB2YXIgZiA9IGkudGFnTmFtZTsKICAgICAgICBpZiAoInRhcCIgPT09IGQgJiYgIklOUFVUIiAhPT0gZiAmJiAiVEVYVEFSRUEiICE9PSBmICYmICJTRUxFQ1QiICE9PSBmICYmIChlLnByZXZlbnREZWZhdWx0KCksIGUuZGV0YWlsICYmIGUuZGV0YWlsLmdlc3R1cmUgJiYgZS5kZXRhaWwuZ2VzdHVyZS5wcmV2ZW50RGVmYXVsdCgpKSwgYS5lYWNoKGMuaGFuZGxlcnMsIGZ1bmN0aW9uIChiLCBjKSB7CiAgICAgICAgICBhLmVhY2goYywgZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgITEgPT09IGIuY2FsbChpLCBlKSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpKTsKICAgICAgICAgIH0sICEwKTsKICAgICAgICB9LCAhMCksIGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkgcmV0dXJuICExOwogICAgICB9LCAhMCk7CiAgICB9OwogIH0sCiAgICAgIGsgPSBmdW5jdGlvbiBrKGEsIGIpIHsKICAgIHZhciBjID0gaVtoKGEpXSwKICAgICAgICBkID0gW107CgogICAgaWYgKGMpIHsKICAgICAgaWYgKGQgPSBbXSwgYikgewogICAgICAgIHZhciBlID0gZnVuY3Rpb24gZShhKSB7CiAgICAgICAgICByZXR1cm4gYS50eXBlID09PSBiOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBjLmZpbHRlcihlKTsKICAgICAgfQoKICAgICAgZCA9IGM7CiAgICB9CgogICAgcmV0dXJuIGQ7CiAgfSwKICAgICAgbCA9IC9eKElOUFVUfFRFWFRBUkVBfEJVVFRPTnxTRUxFQ1QpJC87CgogIGEuZm4ub24gPSBmdW5jdGlvbiAoYiwgZCwgZSkgewogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBmID0gdGhpczsKICAgICAgaChmKSwgaChlKTsKICAgICAgdmFyIGcgPSAhMSwKICAgICAgICAgIGsgPSBjW2YuX21pZF0gfHwgKGNbZi5fbWlkXSA9IHt9KSwKICAgICAgICAgIG0gPSBrW2JdIHx8IChrW2JdID0ge30pOwoKICAgICAgaWYgKGEuaXNFbXB0eU9iamVjdChtKSAmJiAoZyA9ICEwKSwgKG1bZF0gfHwgKG1bZF0gPSBbXSkpLnB1c2goZSksIGcpIHsKICAgICAgICB2YXIgbiA9IGlbaChmKV07CiAgICAgICAgbiB8fCAobiA9IFtdKTsKICAgICAgICB2YXIgbyA9IGooZiwgYiwgZCwgZSk7CiAgICAgICAgbi5wdXNoKG8pLCBvLmkgPSBuLmxlbmd0aCAtIDEsIG8udHlwZSA9IGIsIGlbaChmKV0gPSBuLCBmLmFkZEV2ZW50TGlzdGVuZXIoYiwgbyksICJ0YXAiID09PSBiICYmIGYuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoYSkgewogICAgICAgICAgaWYgKGEudGFyZ2V0KSB7CiAgICAgICAgICAgIHZhciBiID0gYS50YXJnZXQudGFnTmFtZTsKICAgICAgICAgICAgaWYgKCFsLnRlc3QoYikpIGlmICgiQSIgPT09IGIpIHsKICAgICAgICAgICAgICB2YXIgYyA9IGEudGFyZ2V0LmhyZWY7CiAgICAgICAgICAgICAgYyAmJiB+Yy5pbmRleE9mKCJ0ZWw6IikgfHwgYS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB9IGVsc2UgYS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9LCBhLmZuLm9mZiA9IGZ1bmN0aW9uIChiLCBkLCBlKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGYgPSBoKHRoaXMpOwogICAgICBpZiAoYikgewogICAgICAgIGlmIChkKSB7CiAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICB2YXIgZyA9IGNbZl0gJiYgY1tmXVtiXSAmJiBjW2ZdW2JdW2RdOwogICAgICAgICAgICBhLmVhY2goZywgZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICBpZiAoaChiKSA9PT0gaChlKSkgcmV0dXJuIGcuc3BsaWNlKGEsIDEpLCAhMTsKICAgICAgICAgICAgfSwgITApOwogICAgICAgICAgfSBlbHNlIGNbZl0gJiYgY1tmXVtiXSAmJiBkZWxldGUgY1tmXVtiXVtkXTsKICAgICAgICB9IGVsc2UgY1tmXSAmJiBkZWxldGUgY1tmXVtiXTsKICAgICAgfSBlbHNlIGNbZl0gJiYgZGVsZXRlIGNbZl07CiAgICAgIGNbZl0gPyBjW2ZdW2JdICYmICFhLmlzRW1wdHlPYmplY3QoY1tmXVtiXSkgfHwgayh0aGlzLCBiKS5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGEudHlwZSwgYSksIGRlbGV0ZSBpW2ZdW2EuaV07CiAgICAgIH0uYmluZCh0aGlzKSkgOiBrKHRoaXMpLmZvckVhY2goZnVuY3Rpb24gKGEpIHsKICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS50eXBlLCBhKSwgZGVsZXRlIGlbZl1bYS5pXTsKICAgICAgfS5iaW5kKHRoaXMpKTsKICAgIH0pOwogIH07Cn0obXVpKSwgZnVuY3Rpb24gKGEsIGIsIGMpIHsKICBhLnRhcmdldHMgPSB7fSwgYS50YXJnZXRIYW5kbGVzID0gW10sIGEucmVnaXN0ZXJUYXJnZXQgPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIGIuaW5kZXggPSBiLmluZGV4IHx8IDFlMywgYS50YXJnZXRIYW5kbGVzLnB1c2goYiksIGEudGFyZ2V0SGFuZGxlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDsKICAgIH0pLCBhLnRhcmdldEhhbmRsZXM7CiAgfSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfU1RBUlQsIGZ1bmN0aW9uIChiKSB7CiAgICBmb3IgKHZhciBkID0gYi50YXJnZXQsIGUgPSB7fTsgZCAmJiBkICE9PSBjOyBkID0gZC5wYXJlbnROb2RlKSB7CiAgICAgIHZhciBmID0gITE7CiAgICAgIGlmIChhLmVhY2goYS50YXJnZXRIYW5kbGVzLCBmdW5jdGlvbiAoYywgZykgewogICAgICAgIHZhciBoID0gZy5uYW1lOwogICAgICAgIGYgfHwgZVtoXSB8fCAhZy5oYXNPd25Qcm9wZXJ0eSgiaGFuZGxlIikgPyBlW2hdIHx8ICExICE9PSBnLmlzUmVzZXQgJiYgKGEudGFyZ2V0c1toXSA9ICExKSA6IChhLnRhcmdldHNbaF0gPSBnLmhhbmRsZShiLCBkKSwgYS50YXJnZXRzW2hdICYmIChlW2hdID0gITAsICEwICE9PSBnLmlzQ29udGludWUgJiYgKGYgPSAhMCkpKTsKICAgICAgfSksIGYpIGJyZWFrOwogICAgfQogIH0pLCBiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGIpIHsKICAgIGZvciAodmFyIGQgPSBiLnRhcmdldCwgZSA9ICExOyBkICYmIGQgIT09IGMgJiYgKCJBIiAhPT0gZC50YWdOYW1lIHx8IChhLmVhY2goYS50YXJnZXRIYW5kbGVzLCBmdW5jdGlvbiAoYSwgYykgewogICAgICBjLm5hbWU7CiAgICAgIGlmIChjLmhhc093blByb3BlcnR5KCJoYW5kbGUiKSAmJiBjLmhhbmRsZShiLCBkKSkgcmV0dXJuIGUgPSAhMCwgYi5wcmV2ZW50RGVmYXVsdCgpLCAhMTsKICAgIH0pLCAhZSkpOyBkID0gZC5wYXJlbnROb2RlKSB7CiAgICAgIDsKICAgIH0KICB9KTsKfShtdWksIHdpbmRvdywgZG9jdW1lbnQpLCBmdW5jdGlvbiAoYSkgewogIFN0cmluZy5wcm90b3R5cGUudHJpbSA9PT0gYSAmJiAoU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzK3xccyskL2csICIiKTsKICB9KSwgT2JqZWN0LnNldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gYS5fX3Byb3RvX18gPSBiLCBhOwogIH07Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGEoYSwgYikgewogICAgYiA9IGIgfHwgewogICAgICBidWJibGVzOiAhMSwKICAgICAgY2FuY2VsYWJsZTogITEsCiAgICAgIGRldGFpbDogdm9pZCAwCiAgICB9OwogICAgdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnRzIiksCiAgICAgICAgZCA9ICEwOwoKICAgIGZvciAodmFyIGUgaW4gYikgewogICAgICAiYnViYmxlcyIgPT09IGUgPyBkID0gISFiW2VdIDogY1tlXSA9IGJbZV07CiAgICB9CgogICAgcmV0dXJuIGMuaW5pdEV2ZW50KGEsIGQsICEwKSwgYzsKICB9CgogIHZvaWQgMCA9PT0gd2luZG93LkN1c3RvbUV2ZW50ICYmIChhLnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGUsIHdpbmRvdy5DdXN0b21FdmVudCA9IGEpOwp9KCksIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgZnVuY3Rpb24gKGEpIHsKICB2YXIgYiA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDEpLAogICAgICBjID0gdGhpcywKICAgICAgZCA9IGZ1bmN0aW9uIGQoKSB7CiAgICB2YXIgZSA9IGIuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDApKTsKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBkKSkgcmV0dXJuIGMuYXBwbHkoYSwgZSk7CiAgICBjLmFwcGx5KHRoaXMsIGUpOwogIH07CgogIHJldHVybiBkLnByb3RvdHlwZSA9IGMucHJvdG90eXBlLCBkOwp9LCBmdW5jdGlvbiAoYSkgewogICJjbGFzc0xpc3QiIGluIGEuZG9jdW1lbnRFbGVtZW50IHx8ICFPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgInVuZGVmaW5lZCIgPT0gdHlwZW9mIEhUTUxFbGVtZW50IHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MRWxlbWVudC5wcm90b3R5cGUsICJjbGFzc0xpc3QiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgZnVuY3Rpb24gYShhKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICB2YXIgZCA9IGIuY2xhc3NOYW1lLnNwbGl0KC9ccysvKSwKICAgICAgICAgICAgICBlID0gZC5pbmRleE9mKGMpOwogICAgICAgICAgYShkLCBlLCBjKSwgYi5jbGFzc05hbWUgPSBkLmpvaW4oIiAiKTsKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgYiA9IHRoaXMsCiAgICAgICAgICBjID0gewogICAgICAgIGFkZDogYShmdW5jdGlvbiAoYSwgYiwgYykgewogICAgICAgICAgfmIgfHwgYS5wdXNoKGMpOwogICAgICAgIH0pLAogICAgICAgIHJlbW92ZTogYShmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgfmIgJiYgYS5zcGxpY2UoYiwgMSk7CiAgICAgICAgfSksCiAgICAgICAgdG9nZ2xlOiBhKGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICAgICAgICB+YiA/IGEuc3BsaWNlKGIsIDEpIDogYS5wdXNoKGMpOwogICAgICAgIH0pLAogICAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiBjb250YWlucyhhKSB7CiAgICAgICAgICByZXR1cm4gISF+Yi5jbGFzc05hbWUuc3BsaXQoL1xzKy8pLmluZGV4T2YoYSk7CiAgICAgICAgfSwKICAgICAgICBpdGVtOiBmdW5jdGlvbiBpdGVtKGEpIHsKICAgICAgICAgIHJldHVybiBiLmNsYXNzTmFtZS5zcGxpdCgvXHMrLylbYV0gfHwgbnVsbDsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYywgImxlbmd0aCIsIHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHJldHVybiBiLmNsYXNzTmFtZS5zcGxpdCgvXHMrLykubGVuZ3RoOwogICAgICAgIH0KICAgICAgfSksIGM7CiAgICB9CiAgfSk7Cn0oZG9jdW1lbnQpLCBmdW5jdGlvbiAoYSkgewogIGlmICghYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHsKICAgIHZhciBiID0gMDsKICAgIGEucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gYS53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKGMsIGQpIHsKICAgICAgdmFyIGUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICAgIGYgPSBNYXRoLm1heCgwLCAxNi43IC0gKGUgLSBiKSksCiAgICAgICAgICBnID0gYS5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjKGUgKyBmKTsKICAgICAgfSwgZik7CiAgICAgIHJldHVybiBiID0gZSArIGYsIGc7CiAgICB9LCBhLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gYS53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCBhLndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoYSkgewogICAgICBjbGVhclRpbWVvdXQoYSk7CiAgICB9OwogIH0KfSh3aW5kb3cpLCBmdW5jdGlvbiAoYSwgYiwgYykgewogIGlmICgoYS5vcy5hbmRyb2lkIHx8IGEub3MuaW9zKSAmJiAhYi5GYXN0Q2xpY2spIHsKICAgIHZhciBkID0gZnVuY3Rpb24gZChhLCBiKSB7CiAgICAgIHJldHVybiAiTEFCRUwiID09PSBiLnRhZ05hbWUgJiYgYi5wYXJlbnROb2RlICYmIChiID0gYi5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoImlucHV0IikpLCAhKCFiIHx8ICJyYWRpbyIgIT09IGIudHlwZSAmJiAiY2hlY2tib3giICE9PSBiLnR5cGUgfHwgYi5kaXNhYmxlZCkgJiYgYjsKICAgIH07CgogICAgYS5yZWdpc3RlclRhcmdldCh7CiAgICAgIG5hbWU6IGMsCiAgICAgIGluZGV4OiA0MCwKICAgICAgaGFuZGxlOiBkLAogICAgICB0YXJnZXQ6ICExCiAgICB9KTsKCiAgICB2YXIgZSA9IGZ1bmN0aW9uIGUoYykgewogICAgICB2YXIgZCA9IGEudGFyZ2V0cy5jbGljazsKCiAgICAgIGlmIChkKSB7CiAgICAgICAgdmFyIGUsIGY7CiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBkICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpLCBmID0gYy5kZXRhaWwuZ2VzdHVyZS5jaGFuZ2VkVG91Y2hlc1swXSwgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpLCBlLmluaXRNb3VzZUV2ZW50KCJjbGljayIsICEwLCAhMCwgYiwgMSwgZi5zY3JlZW5YLCBmLnNjcmVlblksIGYuY2xpZW50WCwgZi5jbGllbnRZLCAhMSwgITEsICExLCAhMSwgMCwgbnVsbCksIGUuZm9yd2FyZGVkVG91Y2hFdmVudCA9ICEwLCBkLmRpc3BhdGNoRXZlbnQoZSksIGMuZGV0YWlsICYmIGMuZGV0YWlsLmdlc3R1cmUucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgfTsKCiAgICBiLmFkZEV2ZW50TGlzdGVuZXIoInRhcCIsIGUpLCBiLmFkZEV2ZW50TGlzdGVuZXIoImRvdWJsZXRhcCIsIGUpLCBiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGIpIHsKICAgICAgaWYgKGEudGFyZ2V0cy5jbGljayAmJiAhYi5mb3J3YXJkZWRUb3VjaEV2ZW50KSByZXR1cm4gYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPyBiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIDogYi5wcm9wYWdhdGlvblN0b3BwZWQgPSAhMCwgYi5zdG9wUHJvcGFnYXRpb24oKSwgYi5wcmV2ZW50RGVmYXVsdCgpLCAhMTsKICAgIH0sICEwKTsKICB9Cn0obXVpLCB3aW5kb3csICJjbGljayIpLCBmdW5jdGlvbiAoYSwgYikgewogIGEoZnVuY3Rpb24gKCkgewogICAgaWYgKGEub3MuaW9zKSB7CiAgICAgIHZhciBjID0gIm11aS1mb2N1c2luIjsKICAgICAgYi5hZGRFdmVudExpc3RlbmVyKCJmb2N1c2luIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoIShhLm9zLnBsdXMgJiYgd2luZG93LnBsdXMgJiYgcGx1cy53ZWJ2aWV3LmN1cnJlbnRXZWJ2aWV3KCkuY2hpbGRyZW4oKS5sZW5ndGggPiAwKSkgewogICAgICAgICAgdmFyIGUgPSBkLnRhcmdldDsKCiAgICAgICAgICBpZiAoZS50YWdOYW1lICYmICgiVEVYVEFSRUEiID09PSBlLnRhZ05hbWUgfHwgIklOUFVUIiA9PT0gZS50YWdOYW1lICYmICgidGV4dCIgPT09IGUudHlwZSB8fCAic2VhcmNoIiA9PT0gZS50eXBlIHx8ICJudW1iZXIiID09PSBlLnR5cGUpKSkgewogICAgICAgICAgICBpZiAoZS5kaXNhYmxlZCB8fCBlLnJlYWRPbmx5KSByZXR1cm47CiAgICAgICAgICAgIGIuYm9keS5jbGFzc0xpc3QuYWRkKGMpOwoKICAgICAgICAgICAgZm9yICh2YXIgZiA9ICExOyBlICYmIGUgIT09IGI7IGUgPSBlLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICB2YXIgZyA9IGUuY2xhc3NMaXN0OwoKICAgICAgICAgICAgICBpZiAoZyAmJiBnLmNvbnRhaW5zKCJtdWktYmFyLXRhYiIpIHx8IGcuY29udGFpbnMoIm11aS1iYXItZm9vdGVyIikgfHwgZy5jb250YWlucygibXVpLWJhci1mb290ZXItc2Vjb25kYXJ5IikgfHwgZy5jb250YWlucygibXVpLWJhci1mb290ZXItc2Vjb25kYXJ5LXRhYiIpKSB7CiAgICAgICAgICAgICAgICBmID0gITA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChmKSB7CiAgICAgICAgICAgICAgdmFyIGggPSBiLmJvZHkuc2Nyb2xsSGVpZ2h0LAogICAgICAgICAgICAgICAgICBpID0gYi5ib2R5LnNjcm9sbExlZnQ7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oaSwgaCk7CiAgICAgICAgICAgICAgfSwgMjApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSwgYi5hZGRFdmVudExpc3RlbmVyKCJmb2N1c291dCIsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgdmFyIGQgPSBiLmJvZHkuY2xhc3NMaXN0OwogICAgICAgIGQuY29udGFpbnMoYykgJiYgKGQucmVtb3ZlKGMpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyhiLmJvZHkuc2Nyb2xsTGVmdCwgYi5ib2R5LnNjcm9sbFRvcCk7CiAgICAgICAgfSwgMjApKTsKICAgICAgfSk7CiAgICB9CiAgfSk7Cn0obXVpLCBkb2N1bWVudCksIGZ1bmN0aW9uIChhKSB7CiAgYS5uYW1lc3BhY2UgPSAibXVpIiwgYS5jbGFzc05hbWVQcmVmaXggPSBhLm5hbWVzcGFjZSArICItIiwgYS5jbGFzc1NlbGVjdG9yUHJlZml4ID0gIi4iICsgYS5jbGFzc05hbWVQcmVmaXgsIGEuY2xhc3NOYW1lID0gZnVuY3Rpb24gKGIpIHsKICAgIHJldHVybiBhLmNsYXNzTmFtZVByZWZpeCArIGI7CiAgfSwgYS5jbGFzc1NlbGVjdG9yID0gZnVuY3Rpb24gKGIpIHsKICAgIHJldHVybiBiLnJlcGxhY2UoL1wuL2csIGEuY2xhc3NTZWxlY3RvclByZWZpeCk7CiAgfSwgYS5ldmVudE5hbWUgPSBmdW5jdGlvbiAoYiwgYykgewogICAgcmV0dXJuIGIgKyAoYS5uYW1lc3BhY2UgPyAiLiIgKyBhLm5hbWVzcGFjZSA6ICIiKSArIChjID8gIi4iICsgYyA6ICIiKTsKICB9Owp9KG11aSksIGZ1bmN0aW9uIChhLCBiKSB7CiAgYS5nZXN0dXJlcyA9IHsKICAgIHNlc3Npb246IHt9CiAgfSwgYS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLnByZXZlbnREZWZhdWx0KCk7CiAgfSwgYS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoYSkgewogICAgYS5zdG9wUHJvcGFnYXRpb24oKTsKICB9LCBhLmFkZEdlc3R1cmUgPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIGEuYWRkQWN0aW9uKCJnZXN0dXJlcyIsIGIpOwogIH07CgogIHZhciBjID0gTWF0aC5yb3VuZCwKICAgICAgZCA9IE1hdGguYWJzLAogICAgICBlID0gTWF0aC5zcXJ0LAogICAgICBmID0gKE1hdGguYXRhbiwgTWF0aC5hdGFuMiksCiAgICAgIGcgPSBmdW5jdGlvbiBnKGEsIGIsIGMpIHsKICAgIGMgfHwgKGMgPSBbIngiLCAieSJdKTsKICAgIHZhciBkID0gYltjWzBdXSAtIGFbY1swXV0sCiAgICAgICAgZiA9IGJbY1sxXV0gLSBhW2NbMV1dOwogICAgcmV0dXJuIGUoZCAqIGQgKyBmICogZik7CiAgfSwKICAgICAgaCA9IGZ1bmN0aW9uIGgoYSwgYikgewogICAgaWYgKGEubGVuZ3RoID49IDIgJiYgYi5sZW5ndGggPj0gMikgewogICAgICB2YXIgYyA9IFsicGFnZVgiLCAicGFnZVkiXTsKICAgICAgcmV0dXJuIGcoYlsxXSwgYlswXSwgYykgLyBnKGFbMV0sIGFbMF0sIGMpOwogICAgfQoKICAgIHJldHVybiAxOwogIH0sCiAgICAgIGkgPSBmdW5jdGlvbiBpKGEsIGIsIGMpIHsKICAgIGMgfHwgKGMgPSBbIngiLCAieSJdKTsKICAgIHZhciBkID0gYltjWzBdXSAtIGFbY1swXV0sCiAgICAgICAgZSA9IGJbY1sxXV0gLSBhW2NbMV1dOwogICAgcmV0dXJuIDE4MCAqIGYoZSwgZCkgLyBNYXRoLlBJOwogIH0sCiAgICAgIGogPSBmdW5jdGlvbiBqKGEsIGIpIHsKICAgIHJldHVybiBhID09PSBiID8gIiIgOiBkKGEpID49IGQoYikgPyBhID4gMCA/ICJsZWZ0IiA6ICJyaWdodCIgOiBiID4gMCA/ICJ1cCIgOiAiZG93biI7CiAgfSwKICAgICAgayA9IGZ1bmN0aW9uIGsoYSwgYikgewogICAgdmFyIGMgPSBbInBhZ2VYIiwgInBhZ2VZIl07CiAgICByZXR1cm4gaShiWzFdLCBiWzBdLCBjKSAtIGkoYVsxXSwgYVswXSwgYyk7CiAgfSwKICAgICAgbCA9IGZ1bmN0aW9uIGwoYSwgYiwgYykgewogICAgcmV0dXJuIHsKICAgICAgeDogYiAvIGEgfHwgMCwKICAgICAgeTogYyAvIGEgfHwgMAogICAgfTsKICB9LAogICAgICBtID0gZnVuY3Rpb24gbShiLCBjKSB7CiAgICBhLmdlc3R1cmVzLnN0b3BlZCB8fCBhLmRvQWN0aW9uKCJnZXN0dXJlcyIsIGZ1bmN0aW9uIChkLCBlKSB7CiAgICAgIGEuZ2VzdHVyZXMuc3RvcGVkIHx8ICExICE9PSBhLm9wdGlvbnMuZ2VzdHVyZUNvbmZpZ1tlLm5hbWVdICYmIGUuaGFuZGxlKGIsIGMpOwogICAgfSk7CiAgfSwKICAgICAgbiA9IGZ1bmN0aW9uIG4oYSwgYikgewogICAgZm9yICg7IGE7KSB7CiAgICAgIGlmIChhID09IGIpIHJldHVybiAhMDsKICAgICAgYSA9IGEucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfSwKICAgICAgbyA9IGZ1bmN0aW9uIG8oYSwgYiwgYykgewogICAgZm9yICh2YXIgZCA9IFtdLCBlID0gW10sIGYgPSAwOyBmIDwgYS5sZW5ndGg7KSB7CiAgICAgIHZhciBnID0gYiA/IGFbZl1bYl0gOiBhW2ZdOwogICAgICBlLmluZGV4T2YoZykgPCAwICYmIGQucHVzaChhW2ZdKSwgZVtmXSA9IGcsIGYrKzsKICAgIH0KCiAgICByZXR1cm4gYyAmJiAoZCA9IGIgPyBkLnNvcnQoZnVuY3Rpb24gKGEsIGMpIHsKICAgICAgcmV0dXJuIGFbYl0gPiBjW2JdOwogICAgfSkgOiBkLnNvcnQoKSksIGQ7CiAgfSwKICAgICAgcCA9IGZ1bmN0aW9uIHAoYSkgewogICAgdmFyIGIgPSBhLmxlbmd0aDsKICAgIGlmICgxID09PSBiKSByZXR1cm4gewogICAgICB4OiBjKGFbMF0ucGFnZVgpLAogICAgICB5OiBjKGFbMF0ucGFnZVkpCiAgICB9OwoKICAgIGZvciAodmFyIGQgPSAwLCBlID0gMCwgZiA9IDA7IGYgPCBiOykgewogICAgICBkICs9IGFbZl0ucGFnZVgsIGUgKz0gYVtmXS5wYWdlWSwgZisrOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIHg6IGMoZCAvIGIpLAogICAgICB5OiBjKGUgLyBiKQogICAgfTsKICB9LAogICAgICBxID0gZnVuY3Rpb24gcSgpIHsKICAgIHJldHVybiBhLm9wdGlvbnMuZ2VzdHVyZUNvbmZpZy5waW5jaDsKICB9LAogICAgICByID0gZnVuY3Rpb24gcihiKSB7CiAgICBmb3IgKHZhciBkID0gW10sIGUgPSAwOyBlIDwgYi50b3VjaGVzLmxlbmd0aDspIHsKICAgICAgZFtlXSA9IHsKICAgICAgICBwYWdlWDogYyhiLnRvdWNoZXNbZV0ucGFnZVgpLAogICAgICAgIHBhZ2VZOiBjKGIudG91Y2hlc1tlXS5wYWdlWSkKICAgICAgfSwgZSsrOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIHRpbWVzdGFtcDogYS5ub3coKSwKICAgICAgZ2VzdHVyZTogYi5nZXN0dXJlLAogICAgICB0b3VjaGVzOiBkLAogICAgICBjZW50ZXI6IHAoYi50b3VjaGVzKSwKICAgICAgZGVsdGFYOiBiLmRlbHRhWCwKICAgICAgZGVsdGFZOiBiLmRlbHRhWQogICAgfTsKICB9LAogICAgICBzID0gZnVuY3Rpb24gcyhiKSB7CiAgICB2YXIgYyA9IGEuZ2VzdHVyZXMuc2Vzc2lvbiwKICAgICAgICBkID0gYi5jZW50ZXIsCiAgICAgICAgZSA9IGMub2Zmc2V0RGVsdGEgfHwge30sCiAgICAgICAgZiA9IGMucHJldkRlbHRhIHx8IHt9LAogICAgICAgIGcgPSBjLnByZXZUb3VjaCB8fCB7fTsKICAgIGIuZ2VzdHVyZS50eXBlICE9PSBhLkVWRU5UX1NUQVJUICYmIGIuZ2VzdHVyZS50eXBlICE9PSBhLkVWRU5UX0VORCB8fCAoZiA9IGMucHJldkRlbHRhID0gewogICAgICB4OiBnLmRlbHRhWCB8fCAwLAogICAgICB5OiBnLmRlbHRhWSB8fCAwCiAgICB9LCBlID0gYy5vZmZzZXREZWx0YSA9IHsKICAgICAgeDogZC54LAogICAgICB5OiBkLnkKICAgIH0pLCBiLmRlbHRhWCA9IGYueCArIChkLnggLSBlLngpLCBiLmRlbHRhWSA9IGYueSArIChkLnkgLSBlLnkpOwogIH0sCiAgICAgIHQgPSBmdW5jdGlvbiB0KGIpIHsKICAgIHZhciBjID0gYS5nZXN0dXJlcy5zZXNzaW9uLAogICAgICAgIGQgPSBiLnRvdWNoZXMsCiAgICAgICAgZSA9IGQubGVuZ3RoOwogICAgYy5maXJzdFRvdWNoIHx8IChjLmZpcnN0VG91Y2ggPSByKGIpKSwgcSgpICYmIGUgPiAxICYmICFjLmZpcnN0TXVsdGlUb3VjaCA/IGMuZmlyc3RNdWx0aVRvdWNoID0gcihiKSA6IDEgPT09IGUgJiYgKGMuZmlyc3RNdWx0aVRvdWNoID0gITEpOwogICAgdmFyIGYgPSBjLmZpcnN0VG91Y2gsCiAgICAgICAgbCA9IGMuZmlyc3RNdWx0aVRvdWNoLAogICAgICAgIG0gPSBsID8gbC5jZW50ZXIgOiBmLmNlbnRlciwKICAgICAgICBuID0gYi5jZW50ZXIgPSBwKGQpOwogICAgYi50aW1lc3RhbXAgPSBhLm5vdygpLCBiLmRlbHRhVGltZSA9IGIudGltZXN0YW1wIC0gZi50aW1lc3RhbXAsIGIuYW5nbGUgPSBpKG0sIG4pLCBiLmRpc3RhbmNlID0gZyhtLCBuKSwgcyhiKSwgYi5vZmZzZXREaXJlY3Rpb24gPSBqKGIuZGVsdGFYLCBiLmRlbHRhWSksIGIuc2NhbGUgPSBsID8gaChsLnRvdWNoZXMsIGQpIDogMSwgYi5yb3RhdGlvbiA9IGwgPyBrKGwudG91Y2hlcywgZCkgOiAwLCB2KGIpOwogIH0sCiAgICAgIHUgPSAyNSwKICAgICAgdiA9IGZ1bmN0aW9uIHYoYikgewogICAgdmFyIGMsCiAgICAgICAgZSwKICAgICAgICBmLAogICAgICAgIGcsCiAgICAgICAgaCA9IGEuZ2VzdHVyZXMuc2Vzc2lvbiwKICAgICAgICBpID0gaC5sYXN0SW50ZXJ2YWwgfHwgYiwKICAgICAgICBrID0gYi50aW1lc3RhbXAgLSBpLnRpbWVzdGFtcDsKCiAgICBpZiAoYi5nZXN0dXJlLnR5cGUgIT0gYS5FVkVOVF9DQU5DRUwgJiYgKGsgPiB1IHx8IHZvaWQgMCA9PT0gaS52ZWxvY2l0eSkpIHsKICAgICAgdmFyIG0gPSBpLmRlbHRhWCAtIGIuZGVsdGFYLAogICAgICAgICAgbiA9IGkuZGVsdGFZIC0gYi5kZWx0YVksCiAgICAgICAgICBvID0gbChrLCBtLCBuKTsKICAgICAgZSA9IG8ueCwgZiA9IG8ueSwgYyA9IGQoby54KSA+IGQoby55KSA/IG8ueCA6IG8ueSwgZyA9IGoobSwgbikgfHwgaS5kaXJlY3Rpb24sIGgubGFzdEludGVydmFsID0gYjsKICAgIH0gZWxzZSBjID0gaS52ZWxvY2l0eSwgZSA9IGkudmVsb2NpdHlYLCBmID0gaS52ZWxvY2l0eVksIGcgPSBpLmRpcmVjdGlvbjsKCiAgICBiLnZlbG9jaXR5ID0gYywgYi52ZWxvY2l0eVggPSBlLCBiLnZlbG9jaXR5WSA9IGYsIGIuZGlyZWN0aW9uID0gZzsKICB9LAogICAgICB3ID0ge30sCiAgICAgIHggPSBmdW5jdGlvbiB4KGEpIHsKICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYS5sZW5ndGg7IGIrKykgewogICAgICAhYS5pZGVudGlmaWVyICYmIChhLmlkZW50aWZpZXIgPSAwKTsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9LAogICAgICB5ID0gZnVuY3Rpb24geShiLCBjKSB7CiAgICB2YXIgZCA9IHgoYS5zbGljZS5jYWxsKGIudG91Y2hlcyB8fCBbYl0pKSwKICAgICAgICBlID0gYi50eXBlLAogICAgICAgIGYgPSBbXSwKICAgICAgICBnID0gW107CgogICAgaWYgKGUgIT09IGEuRVZFTlRfU1RBUlQgJiYgZSAhPT0gYS5FVkVOVF9NT1ZFIHx8IDEgIT09IGQubGVuZ3RoKSB7CiAgICAgIHZhciBoID0gMCwKICAgICAgICAgIGYgPSBbXSwKICAgICAgICAgIGcgPSBbXSwKICAgICAgICAgIGkgPSB4KGEuc2xpY2UuY2FsbChiLmNoYW5nZWRUb3VjaGVzIHx8IFtiXSkpOwogICAgICBjLnRhcmdldCA9IGIudGFyZ2V0OwogICAgICB2YXIgaiA9IGEuZ2VzdHVyZXMuc2Vzc2lvbi50YXJnZXQgfHwgYi50YXJnZXQ7CiAgICAgIGlmIChmID0gZC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsKICAgICAgICByZXR1cm4gbihhLnRhcmdldCwgaik7CiAgICAgIH0pLCBlID09PSBhLkVWRU5UX1NUQVJUKSBmb3IgKGggPSAwOyBoIDwgZi5sZW5ndGg7KSB7CiAgICAgICAgd1tmW2hdLmlkZW50aWZpZXJdID0gITAsIGgrKzsKICAgICAgfQoKICAgICAgZm9yIChoID0gMDsgaCA8IGkubGVuZ3RoOykgewogICAgICAgIHdbaVtoXS5pZGVudGlmaWVyXSAmJiBnLnB1c2goaVtoXSksIGUgIT09IGEuRVZFTlRfRU5EICYmIGUgIT09IGEuRVZFTlRfQ0FOQ0VMIHx8IGRlbGV0ZSB3W2lbaF0uaWRlbnRpZmllcl0sIGgrKzsKICAgICAgfQoKICAgICAgaWYgKCFnLmxlbmd0aCkgcmV0dXJuICExOwogICAgfSBlbHNlIHdbZFswXS5pZGVudGlmaWVyXSA9ICEwLCBmID0gZCwgZyA9IGQsIGMudGFyZ2V0ID0gYi50YXJnZXQ7CgogICAgZiA9IG8oZi5jb25jYXQoZyksICJpZGVudGlmaWVyIiwgITApOwogICAgdmFyIGsgPSBmLmxlbmd0aCwKICAgICAgICBsID0gZy5sZW5ndGg7CiAgICByZXR1cm4gZSA9PT0gYS5FVkVOVF9TVEFSVCAmJiBrIC0gbCA9PSAwICYmIChjLmlzRmlyc3QgPSAhMCwgYS5nZXN0dXJlcy50b3VjaCA9IGEuZ2VzdHVyZXMuc2Vzc2lvbiA9IHsKICAgICAgdGFyZ2V0OiBiLnRhcmdldAogICAgfSksIGMuaXNGaW5hbCA9IChlID09PSBhLkVWRU5UX0VORCB8fCBlID09PSBhLkVWRU5UX0NBTkNFTCkgJiYgayAtIGwgPT0gMCwgYy50b3VjaGVzID0gZiwgYy5jaGFuZ2VkVG91Y2hlcyA9IGcsICEwOwogIH0sCiAgICAgIHogPSBmdW5jdGlvbiB6KGIpIHsKICAgIHZhciBjID0gewogICAgICBnZXN0dXJlOiBiCiAgICB9OwogICAgeShiLCBjKSAmJiAodChjKSwgbShiLCBjKSwgYS5nZXN0dXJlcy5zZXNzaW9uLnByZXZUb3VjaCA9IGMsIGIudHlwZSAhPT0gYS5FVkVOVF9FTkQgfHwgYS5pc1RvdWNoYWJsZSB8fCAoYS5nZXN0dXJlcy50b3VjaCA9IGEuZ2VzdHVyZXMuc2Vzc2lvbiA9IHt9KSk7CiAgfSwKICAgICAgQSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gITE7CgogICAgdHJ5IHsKICAgICAgdmFyIGMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICJwYXNzaXZlIiwgewogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgYSA9ICEwOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcigidGVzdFBhc3NpdmVMaXN0ZW5lciIsIG51bGwsIGMpOwogICAgfSBjYXRjaCAoYSkge30KCiAgICByZXR1cm4gYTsKICB9KCk7CgogIGIuYWRkRXZlbnRMaXN0ZW5lcihhLkVWRU5UX1NUQVJULCB6KSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfTU9WRSwgeiwgISFBICYmIHsKICAgIHBhc3NpdmU6ICExLAogICAgY2FwdHVyZTogITEKICB9KSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfRU5ELCB6KSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfQ0FOQ0VMLCB6KSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfQ0xJQ0ssIGZ1bmN0aW9uIChiKSB7CiAgICAoYS5vcy5hbmRyb2lkIHx8IGEub3MuaW9zKSAmJiAoYS50YXJnZXRzLnBvcG92ZXIgJiYgYi50YXJnZXQgPT09IGEudGFyZ2V0cy5wb3BvdmVyIHx8IGEudGFyZ2V0cy50YWIgfHwgYS50YXJnZXRzLm9mZmNhbnZhcyB8fCBhLnRhcmdldHMubW9kYWwpICYmIGIucHJldmVudERlZmF1bHQoKTsKICB9LCAhMCksIGEuaXNTY3JvbGxpbmcgPSAhMTsKICB2YXIgQiA9IG51bGw7CiAgYi5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmdW5jdGlvbiAoKSB7CiAgICBhLmlzU2Nyb2xsaW5nID0gITAsIEIgJiYgY2xlYXJUaW1lb3V0KEIpLCBCID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGEuaXNTY3JvbGxpbmcgPSAhMTsKICAgIH0sIDI1MCk7CiAgfSk7Cn0obXVpLCB3aW5kb3cpLCBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gMCwKICAgICAgZCA9IGZ1bmN0aW9uIGQoX2QsIGUpIHsKICAgIHZhciBmID0gYS5nZXN0dXJlcy5zZXNzaW9uLAogICAgICAgIGcgPSB0aGlzLm9wdGlvbnMsCiAgICAgICAgaCA9IGEubm93KCk7CgogICAgc3dpdGNoIChfZC50eXBlKSB7CiAgICAgIGNhc2UgYS5FVkVOVF9NT1ZFOgogICAgICAgIGggLSBjID4gMzAwICYmIChjID0gaCwgZi5mbGlja1N0YXJ0ID0gZS5jZW50ZXIpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhLkVWRU5UX0VORDoKICAgICAgY2FzZSBhLkVWRU5UX0NBTkNFTDoKICAgICAgICBlLmZsaWNrID0gITEsIGYuZmxpY2tTdGFydCAmJiBnLmZsaWNrTWF4VGltZSA+IGggLSBjICYmIGUuZGlzdGFuY2UgPiBnLmZsaWNrTWluRGlzdGluY2UgJiYgKGUuZmxpY2sgPSAhMCwgZS5mbGlja1RpbWUgPSBoIC0gYywgZS5mbGlja0Rpc3RhbmNlWCA9IGUuY2VudGVyLnggLSBmLmZsaWNrU3RhcnQueCwgZS5mbGlja0Rpc3RhbmNlWSA9IGUuY2VudGVyLnkgLSBmLmZsaWNrU3RhcnQueSwgYS50cmlnZ2VyKGYudGFyZ2V0LCBiLCBlKSwgYS50cmlnZ2VyKGYudGFyZ2V0LCBiICsgZS5kaXJlY3Rpb24sIGUpKTsKICAgIH0KICB9OwoKICBhLmFkZEdlc3R1cmUoewogICAgbmFtZTogYiwKICAgIGluZGV4OiA1LAogICAgaGFuZGxlOiBkLAogICAgb3B0aW9uczogewogICAgICBmbGlja01heFRpbWU6IDIwMCwKICAgICAgZmxpY2tNaW5EaXN0aW5jZTogMTAKICAgIH0KICB9KTsKfShtdWksICJmbGljayIpLCBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gZnVuY3Rpb24gYyhfYywgZCkgewogICAgdmFyIGUgPSBhLmdlc3R1cmVzLnNlc3Npb247CgogICAgaWYgKF9jLnR5cGUgPT09IGEuRVZFTlRfRU5EIHx8IF9jLnR5cGUgPT09IGEuRVZFTlRfQ0FOQ0VMKSB7CiAgICAgIHZhciBmID0gdGhpcy5vcHRpb25zOwogICAgICBkLnN3aXBlID0gITEsIGQuZGlyZWN0aW9uICYmIGYuc3dpcGVNYXhUaW1lID4gZC5kZWx0YVRpbWUgJiYgZC5kaXN0YW5jZSA+IGYuc3dpcGVNaW5EaXN0aW5jZSAmJiAoZC5zd2lwZSA9ICEwLCBhLnRyaWdnZXIoZS50YXJnZXQsIGIsIGQpLCBhLnRyaWdnZXIoZS50YXJnZXQsIGIgKyBkLmRpcmVjdGlvbiwgZCkpOwogICAgfQogIH07CgogIGEuYWRkR2VzdHVyZSh7CiAgICBuYW1lOiBiLAogICAgaW5kZXg6IDEwLAogICAgaGFuZGxlOiBjLAogICAgb3B0aW9uczogewogICAgICBzd2lwZU1heFRpbWU6IDMwMCwKICAgICAgc3dpcGVNaW5EaXN0aW5jZTogMTgKICAgIH0KICB9KTsKfShtdWksICJzd2lwZSIpLCBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gZnVuY3Rpb24gYyhfYzIsIGQpIHsKICAgIHZhciBlID0gYS5nZXN0dXJlcy5zZXNzaW9uOwoKICAgIHN3aXRjaCAoX2MyLnR5cGUpIHsKICAgICAgY2FzZSBhLkVWRU5UX1NUQVJUOgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhLkVWRU5UX01PVkU6CiAgICAgICAgaWYgKCFkLmRpcmVjdGlvbiB8fCAhZS50YXJnZXQpIHJldHVybjsKICAgICAgICBlLmxvY2tEaXJlY3Rpb24gJiYgZS5zdGFydERpcmVjdGlvbiAmJiBlLnN0YXJ0RGlyZWN0aW9uICYmIGUuc3RhcnREaXJlY3Rpb24gIT09IGQuZGlyZWN0aW9uICYmICgidXAiID09PSBlLnN0YXJ0RGlyZWN0aW9uIHx8ICJkb3duIiA9PT0gZS5zdGFydERpcmVjdGlvbiA/IGQuZGlyZWN0aW9uID0gZC5kZWx0YVkgPCAwID8gInVwIiA6ICJkb3duIiA6IGQuZGlyZWN0aW9uID0gZC5kZWx0YVggPCAwID8gImxlZnQiIDogInJpZ2h0IiksIGUuZHJhZyB8fCAoZS5kcmFnID0gITAsIGEudHJpZ2dlcihlLnRhcmdldCwgYiArICJzdGFydCIsIGQpKSwgYS50cmlnZ2VyKGUudGFyZ2V0LCBiLCBkKSwgYS50cmlnZ2VyKGUudGFyZ2V0LCBiICsgZC5kaXJlY3Rpb24sIGQpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhLkVWRU5UX0VORDoKICAgICAgY2FzZSBhLkVWRU5UX0NBTkNFTDoKICAgICAgICBlLmRyYWcgJiYgZC5pc0ZpbmFsICYmIGEudHJpZ2dlcihlLnRhcmdldCwgYiArICJlbmQiLCBkKTsKICAgIH0KICB9OwoKICBhLmFkZEdlc3R1cmUoewogICAgbmFtZTogYiwKICAgIGluZGV4OiAyMCwKICAgIGhhbmRsZTogYywKICAgIG9wdGlvbnM6IHsKICAgICAgZmluZ2VyczogMQogICAgfQogIH0pOwp9KG11aSwgImRyYWciKSwgZnVuY3Rpb24gKGEsIGIpIHsKICB2YXIgYywKICAgICAgZCwKICAgICAgZSA9IGZ1bmN0aW9uIGUoX2UsIGYpIHsKICAgIHZhciBnID0gYS5nZXN0dXJlcy5zZXNzaW9uLAogICAgICAgIGggPSB0aGlzLm9wdGlvbnM7CgogICAgc3dpdGNoIChfZS50eXBlKSB7CiAgICAgIGNhc2UgYS5FVkVOVF9FTkQ6CiAgICAgICAgaWYgKCFmLmlzRmluYWwpIHJldHVybjsKICAgICAgICB2YXIgaSA9IGcudGFyZ2V0OwogICAgICAgIGlmICghaSB8fCBpLmRpc2FibGVkIHx8IGkuY2xhc3NMaXN0ICYmIGkuY2xhc3NMaXN0LmNvbnRhaW5zKCJtdWktZGlzYWJsZWQiKSkgcmV0dXJuOwoKICAgICAgICBpZiAoZi5kaXN0YW5jZSA8IGgudGFwTWF4RGlzdGFuY2UgJiYgZi5kZWx0YVRpbWUgPCBoLnRhcE1heFRpbWUpIHsKICAgICAgICAgIGlmIChhLm9wdGlvbnMuZ2VzdHVyZUNvbmZpZy5kb3VibGV0YXAgJiYgYyAmJiBjID09PSBpICYmIGQgJiYgZi50aW1lc3RhbXAgLSBkIDwgaC50YXBNYXhJbnRlcnZhbCkgcmV0dXJuIGEudHJpZ2dlcihpLCAiZG91YmxldGFwIiwgZiksIGQgPSBhLm5vdygpLCB2b2lkIChjID0gaSk7CiAgICAgICAgICBhLnRyaWdnZXIoaSwgYiwgZiksIGQgPSBhLm5vdygpLCBjID0gaTsKICAgICAgICB9CgogICAgfQogIH07CgogIGEuYWRkR2VzdHVyZSh7CiAgICBuYW1lOiBiLAogICAgaW5kZXg6IDMwLAogICAgaGFuZGxlOiBlLAogICAgb3B0aW9uczogewogICAgICBmaW5nZXJzOiAxLAogICAgICB0YXBNYXhJbnRlcnZhbDogMzAwLAogICAgICB0YXBNYXhEaXN0YW5jZTogNSwKICAgICAgdGFwTWF4VGltZTogMjUwCiAgICB9CiAgfSk7Cn0obXVpLCAidGFwIiksIGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMsCiAgICAgIGQgPSBmdW5jdGlvbiBkKF9kMiwgZSkgewogICAgdmFyIGYgPSBhLmdlc3R1cmVzLnNlc3Npb24sCiAgICAgICAgZyA9IHRoaXMub3B0aW9uczsKCiAgICBzd2l0Y2ggKF9kMi50eXBlKSB7CiAgICAgIGNhc2UgYS5FVkVOVF9TVEFSVDoKICAgICAgICBjbGVhclRpbWVvdXQoYyksIGMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGEudHJpZ2dlcihmLnRhcmdldCwgYiwgZSk7CiAgICAgICAgfSwgZy5ob2xkVGltZW91dCk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIGEuRVZFTlRfTU9WRToKICAgICAgICBlLmRpc3RhbmNlID4gZy5ob2xkVGhyZXNob2xkICYmIGNsZWFyVGltZW91dChjKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgYS5FVkVOVF9FTkQ6CiAgICAgIGNhc2UgYS5FVkVOVF9DQU5DRUw6CiAgICAgICAgY2xlYXJUaW1lb3V0KGMpOwogICAgfQogIH07CgogIGEuYWRkR2VzdHVyZSh7CiAgICBuYW1lOiBiLAogICAgaW5kZXg6IDEwLAogICAgaGFuZGxlOiBkLAogICAgb3B0aW9uczogewogICAgICBmaW5nZXJzOiAxLAogICAgICBob2xkVGltZW91dDogNTAwLAogICAgICBob2xkVGhyZXNob2xkOiAyCiAgICB9CiAgfSk7Cn0obXVpLCAibG9uZ3RhcCIpLCBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjLAogICAgICBkID0gZnVuY3Rpb24gZChfZDMsIGUpIHsKICAgIHZhciBmID0gYS5nZXN0dXJlcy5zZXNzaW9uLAogICAgICAgIGcgPSB0aGlzLm9wdGlvbnM7CgogICAgc3dpdGNoIChfZDMudHlwZSkgewogICAgICBjYXNlIGEuRVZFTlRfU1RBUlQ6CiAgICAgICAgYS5vcHRpb25zLmdlc3R1cmVDb25maWcuaG9sZCAmJiAoYyAmJiBjbGVhclRpbWVvdXQoYyksIGMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGUuaG9sZCA9ICEwLCBhLnRyaWdnZXIoZi50YXJnZXQsIGIsIGUpOwogICAgICAgIH0sIGcuaG9sZFRpbWVvdXQpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgYS5FVkVOVF9NT1ZFOgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhLkVWRU5UX0VORDoKICAgICAgY2FzZSBhLkVWRU5UX0NBTkNFTDoKICAgICAgICBjICYmIChjbGVhclRpbWVvdXQoYykgJiYgKGMgPSBudWxsKSwgYS50cmlnZ2VyKGYudGFyZ2V0LCAicmVsZWFzZSIsIGUpKTsKICAgIH0KICB9OwoKICBhLmFkZEdlc3R1cmUoewogICAgbmFtZTogYiwKICAgIGluZGV4OiAxMCwKICAgIGhhbmRsZTogZCwKICAgIG9wdGlvbnM6IHsKICAgICAgZmluZ2VyczogMSwKICAgICAgaG9sZFRpbWVvdXQ6IDAKICAgIH0KICB9KTsKfShtdWksICJob2xkIiksIGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSBmdW5jdGlvbiBjKF9jMywgZCkgewogICAgdmFyIGUgPSB0aGlzLm9wdGlvbnMsCiAgICAgICAgZiA9IGEuZ2VzdHVyZXMuc2Vzc2lvbjsKCiAgICBzd2l0Y2ggKF9jMy50eXBlKSB7CiAgICAgIGNhc2UgYS5FVkVOVF9TVEFSVDoKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgYS5FVkVOVF9NT1ZFOgogICAgICAgIGlmIChhLm9wdGlvbnMuZ2VzdHVyZUNvbmZpZy5waW5jaCkgewogICAgICAgICAgaWYgKGQudG91Y2hlcy5sZW5ndGggPCAyKSByZXR1cm47CiAgICAgICAgICBmLnBpbmNoIHx8IChmLnBpbmNoID0gITAsIGEudHJpZ2dlcihmLnRhcmdldCwgYiArICJzdGFydCIsIGQpKSwgYS50cmlnZ2VyKGYudGFyZ2V0LCBiLCBkKTsKICAgICAgICAgIHZhciBnID0gZC5zY2FsZSwKICAgICAgICAgICAgICBoID0gZC5yb3RhdGlvbiwKICAgICAgICAgICAgICBpID0gdm9pZCAwID09PSBkLmxhc3RTY2FsZSA/IDEgOiBkLmxhc3RTY2FsZSwKICAgICAgICAgICAgICBqID0gMWUtMTI7CiAgICAgICAgICBnID4gaSA/IChpID0gZyAtIGosIGEudHJpZ2dlcihmLnRhcmdldCwgYiArICJvdXQiLCBkKSkgOiBnIDwgaSAmJiAoaSA9IGcgKyBqLCBhLnRyaWdnZXIoZi50YXJnZXQsIGIgKyAiaW4iLCBkKSksIE1hdGguYWJzKGgpID4gZS5taW5Sb3RhdGlvbkFuZ2xlICYmIGEudHJpZ2dlcihmLnRhcmdldCwgInJvdGF0ZSIsIGQpOwogICAgICAgIH0KCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIGEuRVZFTlRfRU5EOgogICAgICBjYXNlIGEuRVZFTlRfQ0FOQ0VMOgogICAgICAgIGEub3B0aW9ucy5nZXN0dXJlQ29uZmlnLnBpbmNoICYmIGYucGluY2ggJiYgMiA9PT0gZC50b3VjaGVzLmxlbmd0aCAmJiAoZi5waW5jaCA9ICExLCBhLnRyaWdnZXIoZi50YXJnZXQsIGIgKyAiZW5kIiwgZCkpOwogICAgfQogIH07CgogIGEuYWRkR2VzdHVyZSh7CiAgICBuYW1lOiBiLAogICAgaW5kZXg6IDEwLAogICAgaGFuZGxlOiBjLAogICAgb3B0aW9uczogewogICAgICBtaW5Sb3RhdGlvbkFuZ2xlOiAwCiAgICB9CiAgfSk7Cn0obXVpLCAicGluY2giKSwgZnVuY3Rpb24gKGEpIHsKICBmdW5jdGlvbiBiKGEsIGIpIHsKICAgIHZhciBjID0gIk1VSV9TQ1JPTExfUE9TSVRJT05fIiArIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgKyAiXyIgKyBiLnNyYywKICAgICAgICBkID0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjKSkgfHwgMDsKICAgIGQgJiYgZnVuY3Rpb24gKGEpIHsKICAgICAgYi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGEpOwogICAgICB9OwogICAgfShkKSwgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB2YXIgYSA9IHdpbmRvdy5zY3JvbGxZOwogICAgICBkICE9PSBhICYmIChsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjLCBhICsgIiIpLCBkID0gYSk7CiAgICB9LCAxMDApOwogIH0KCiAgYS5nbG9iYWwgPSBhLm9wdGlvbnMgPSB7CiAgICBnZXN0dXJlQ29uZmlnOiB7CiAgICAgIHRhcDogITAsCiAgICAgIGRvdWJsZXRhcDogITEsCiAgICAgIGxvbmd0YXA6ICExLAogICAgICBob2xkOiAhMSwKICAgICAgZmxpY2s6ICEwLAogICAgICBzd2lwZTogITAsCiAgICAgIGRyYWc6ICEwLAogICAgICBwaW5jaDogITEKICAgIH0KICB9LCBhLmluaXRHbG9iYWwgPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIGEub3B0aW9ucyA9IGEuZXh0ZW5kKCEwLCBhLmdsb2JhbCwgYiksIHRoaXM7CiAgfTsKICB2YXIgYyA9IHt9OwogIGEuaW5pdCA9IGZ1bmN0aW9uIChiKSB7CiAgICByZXR1cm4gYS5vcHRpb25zID0gYS5leHRlbmQoITAsIGEuZ2xvYmFsLCBiIHx8IHt9KSwgYS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgIGEuZG9BY3Rpb24oImluaXRzIiwgZnVuY3Rpb24gKGIsIGQpIHsKICAgICAgICAhKGNbZC5uYW1lXSAmJiAhZC5yZXBlYXQpICYmIChkLmhhbmRsZS5jYWxsKGEpLCBjW2QubmFtZV0gPSAhMCk7CiAgICAgIH0pOwogICAgfSksIHRoaXM7CiAgfSwgYS5hZGRJbml0ID0gZnVuY3Rpb24gKGIpIHsKICAgIHJldHVybiBhLmFkZEFjdGlvbigiaW5pdHMiLCBiKTsKICB9LCBhLmFkZEluaXQoewogICAgbmFtZTogImlmcmFtZSIsCiAgICBpbmRleDogMTAwLAogICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoKSB7CiAgICAgIHZhciBiID0gYS5vcHRpb25zLAogICAgICAgICAgYyA9IGIuc3VicGFnZXMgfHwgW107CiAgICAgICFhLm9zLnBsdXMgJiYgYy5sZW5ndGggJiYgZChjWzBdKTsKICAgIH0KICB9KTsKCiAgdmFyIGQgPSBmdW5jdGlvbiBkKGMpIHsKICAgIHZhciBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBkLmNsYXNzTmFtZSA9ICJtdWktaWZyYW1lLXdyYXBwZXIiOwogICAgdmFyIGUgPSBjLnN0eWxlcyB8fCB7fTsKICAgICJzdHJpbmciICE9IHR5cGVvZiBlLnRvcCAmJiAoZS50b3AgPSAiMHB4IiksICJzdHJpbmciICE9IHR5cGVvZiBlLmJvdHRvbSAmJiAoZS5ib3R0b20gPSAiMHB4IiksIGQuc3R5bGUudG9wID0gZS50b3AsIGQuc3R5bGUuYm90dG9tID0gZS5ib3R0b207CiAgICB2YXIgZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgZi5zcmMgPSBjLnVybCwgZi5pZCA9IGMuaWQgfHwgYy51cmwsIGYubmFtZSA9IGYuaWQsIGQuYXBwZW5kQ2hpbGQoZiksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCksIGEub3Mud2VjaGF0ICYmIGIoZCwgZik7CiAgfTsKCiAgYShmdW5jdGlvbiAoKSB7CiAgICB2YXIgYiA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LAogICAgICAgIGMgPSBbXTsKICAgIGEub3MuaW9zID8gKGMucHVzaCh7CiAgICAgIG9zOiAiaW9zIiwKICAgICAgdmVyc2lvbjogYS5vcy52ZXJzaW9uCiAgICB9KSwgYi5hZGQoIm11aS1pb3MiKSkgOiBhLm9zLmFuZHJvaWQgJiYgKGMucHVzaCh7CiAgICAgIG9zOiAiYW5kcm9pZCIsCiAgICAgIHZlcnNpb246IGEub3MudmVyc2lvbgogICAgfSksIGIuYWRkKCJtdWktYW5kcm9pZCIpKSwgYS5vcy53ZWNoYXQgJiYgKGMucHVzaCh7CiAgICAgIG9zOiAid2VjaGF0IiwKICAgICAgdmVyc2lvbjogYS5vcy53ZWNoYXQudmVyc2lvbgogICAgfSksIGIuYWRkKCJtdWktd2VjaGF0IikpLCBjLmxlbmd0aCAmJiBhLmVhY2goYywgZnVuY3Rpb24gKGMsIGQpIHsKICAgICAgdmFyIGUgPSAiIjsKICAgICAgZC52ZXJzaW9uICYmIGEuZWFjaChkLnZlcnNpb24uc3BsaXQoIi4iKSwgZnVuY3Rpb24gKGMsIGYpIHsKICAgICAgICBlID0gZSArIChlID8gIi0iIDogIiIpICsgZiwgYi5hZGQoYS5jbGFzc05hbWUoZC5vcyArICItIiArIGUpKTsKICAgICAgfSk7CiAgICB9KTsKICB9KTsKfShtdWkpLCBmdW5jdGlvbiAoYSkgewogIHZhciBiID0gewogICAgc3dpcGVCYWNrOiAhMSwKICAgIHByZWxvYWRQYWdlczogW10sCiAgICBwcmVsb2FkTGltaXQ6IDEwLAogICAga2V5RXZlbnRCaW5kOiB7CiAgICAgIGJhY2tidXR0b246ICEwLAogICAgICBtZW51YnV0dG9uOiAhMAogICAgfSwKICAgIHRpdGxlQ29uZmlnOiB7CiAgICAgIGhlaWdodDogIjQ0cHgiLAogICAgICBiYWNrZ3JvdW5kQ29sb3I6ICIjZjdmN2Y3IiwKICAgICAgYm90dG9tQm9yZGVyQ29sb3I6ICIjY2NjY2NjIiwKICAgICAgdGl0bGU6IHsKICAgICAgICB0ZXh0OiAiIiwKICAgICAgICBwb3NpdGlvbjogewogICAgICAgICAgdG9wOiAwLAogICAgICAgICAgbGVmdDogMCwKICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICBoZWlnaHQ6ICIxMDAlIgogICAgICAgIH0sCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICBjb2xvcjogIiMwMDAwMDAiLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgZmFtaWx5OiAiJ0hlbHZldGljYSBOZXVlJyxIZWx2ZXRpY2Esc2Fucy1zZXJpZiIsCiAgICAgICAgICBzaXplOiAiMTdweCIsCiAgICAgICAgICBzdHlsZTogIm5vcm1hbCIsCiAgICAgICAgICB3ZWlnaHQ6ICJub3JtYWwiLAogICAgICAgICAgZm9udFNyYzogIiIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhY2s6IHsKICAgICAgICBpbWFnZTogewogICAgICAgICAgYmFzZTY0RGF0YTogIiIsCiAgICAgICAgICBpbWdTcmM6ICIiLAogICAgICAgICAgc3ByaXRlOiB7CiAgICAgICAgICAgIHRvcDogIjBweCIsCiAgICAgICAgICAgIGxlZnQ6ICIwcHgiLAogICAgICAgICAgICB3aWR0aDogIjEwMCUiLAogICAgICAgICAgICBoZWlnaHQ6ICIxMDAlIgogICAgICAgICAgfSwKICAgICAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgICAgIHRvcDogIjEwcHgiLAogICAgICAgICAgICBsZWZ0OiAiMTBweCIsCiAgICAgICAgICAgIHdpZHRoOiAiMjRweCIsCiAgICAgICAgICAgIGhlaWdodDogIjI0cHgiCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICAgICAgYyA9IHsKICAgIGV2ZW50OiAidGl0bGVVcGRhdGUiLAogICAgYXV0b1Nob3c6ICEwLAogICAgZHVyYXRpb246IDMwMCwKICAgIGFuaVNob3c6ICJzbGlkZS1pbi1yaWdodCIsCiAgICBleHRyYXM6IHt9CiAgfTsKICBhLm9wdGlvbnMuc2hvdyAmJiAoYyA9IGEuZXh0ZW5kKCEwLCBjLCBhLm9wdGlvbnMuc2hvdykpLCBhLmN1cnJlbnRXZWJ2aWV3ID0gbnVsbCwgYS5leHRlbmQoITAsIGEuZ2xvYmFsLCBiKSwgYS5leHRlbmQoITAsIGEub3B0aW9ucywgYiksIGEud2FpdGluZ09wdGlvbnMgPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIGEuZXh0ZW5kKCEwLCB7fSwgewogICAgICBhdXRvU2hvdzogITAsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgbW9kYWw6ICExCiAgICB9LCBiKTsKICB9LCBhLnNob3dPcHRpb25zID0gZnVuY3Rpb24gKGIpIHsKICAgIHJldHVybiBhLmV4dGVuZCghMCwge30sIGMsIGIpOwogIH0sIGEud2luZG93T3B0aW9ucyA9IGZ1bmN0aW9uIChiKSB7CiAgICByZXR1cm4gYS5leHRlbmQoewogICAgICBzY2FsYWJsZTogITEsCiAgICAgIGJvdW5jZTogIiIKICAgIH0sIGIpOwogIH0sIGEucGx1c1JlYWR5ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB3aW5kb3cucGx1cyA/IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBhKCk7CiAgICB9LCAwKSA6IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBsdXNyZWFkeSIsIGZ1bmN0aW9uICgpIHsKICAgICAgYSgpOwogICAgfSwgITEpLCB0aGlzOwogIH0sIGEuZmlyZSA9IGZ1bmN0aW9uIChiLCBjLCBkKSB7CiAgICBpZiAoYikgewogICAgICBpZiAodm9pZCAwID09PSBkKSBkID0gIiI7ZWxzZSB7CiAgICAgICAgaWYgKCJib29sZWFuIiA9PSB0eXBlb2YgZCB8fCAibnVtYmVyIiA9PSB0eXBlb2YgZCkgcmV0dXJuIHZvaWQgYi5ldmFsSlMoInR5cGVvZiBtdWkhPT0ndW5kZWZpbmVkJyYmbXVpLnJlY2VpdmUoJyIgKyBjICsgIicsIiArIGQgKyAiKSIpOwogICAgICAgIChhLmlzUGxhaW5PYmplY3QoZCkgfHwgYS5pc0FycmF5KGQpKSAmJiAoZCA9IEpTT04uc3RyaW5naWZ5KGQgfHwge30pLnJlcGxhY2UoL1wnL2csICJcXHUwMDI3IikucmVwbGFjZSgvXFwvZywgIlxcdTAwNWMiKSk7CiAgICAgIH0KICAgICAgYi5ldmFsSlMoInR5cGVvZiBtdWkhPT0ndW5kZWZpbmVkJyYmbXVpLnJlY2VpdmUoJyIgKyBjICsgIicsJyIgKyBkICsgIicpIik7CiAgICB9CiAgfSwgYS5yZWNlaXZlID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIGlmIChiKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYyAmJiAic3RyaW5nIiA9PSB0eXBlb2YgYyAmJiAoYyA9IEpTT04ucGFyc2UoYykpOwogICAgICB9IGNhdGNoIChhKSB7fQoKICAgICAgYS50cmlnZ2VyKGRvY3VtZW50LCBiLCBjKTsKICAgIH0KICB9OwoKICB2YXIgZCA9IGZ1bmN0aW9uIGQoYikgewogICAgaWYgKCFiLnByZWxvYWRlZCkgewogICAgICBhLmZpcmUoYiwgInByZWxvYWQiKTsKCiAgICAgIGZvciAodmFyIGMgPSBiLmNoaWxkcmVuKCksIGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykgewogICAgICAgIGEuZmlyZShjW2RdLCAicHJlbG9hZCIpOwogICAgICB9CgogICAgICBiLnByZWxvYWRlZCA9ICEwOwogICAgfQogIH0sCiAgICAgIGUgPSBmdW5jdGlvbiBlKGIsIGMsIGQpIHsKICAgIGlmIChkKSB7CiAgICAgIGlmICghYltjICsgImVkIl0pIHsKICAgICAgICBhLmZpcmUoYiwgYyk7CgogICAgICAgIGZvciAodmFyIGUgPSBiLmNoaWxkcmVuKCksIGYgPSAwOyBmIDwgZS5sZW5ndGg7IGYrKykgewogICAgICAgICAgYS5maXJlKGVbZl0sIGMpOwogICAgICAgIH0KCiAgICAgICAgYltjICsgImVkIl0gPSAhMDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgYS5maXJlKGIsIGMpOwoKICAgICAgZm9yICh2YXIgZSA9IGIuY2hpbGRyZW4oKSwgZiA9IDA7IGYgPCBlLmxlbmd0aDsgZisrKSB7CiAgICAgICAgYS5maXJlKGVbZl0sIGMpOwogICAgICB9CiAgICB9CiAgfTsKCiAgYS5vcGVuV2luZG93ID0gZnVuY3Rpb24gKGIsIGYsIGcpIHsKICAgIGlmICgib2JqZWN0IiA9PSBfdHlwZW9mKGIpID8gKGcgPSBiLCBiID0gZy51cmwsIGYgPSBnLmlkIHx8IGIpIDogIm9iamVjdCIgPT0gX3R5cGVvZihmKSA/IChnID0gZiwgZiA9IGcuaWQgfHwgYikgOiBmID0gZiB8fCBiLCAhYS5vcy5wbHVzKSByZXR1cm4gdm9pZCAoYS5vcy5pb3MgfHwgYS5vcy5hbmRyb2lkID8gd2luZG93LnRvcC5sb2NhdGlvbi5ocmVmID0gYiA6IHdpbmRvdy5wYXJlbnQubG9jYXRpb24uaHJlZiA9IGIpOwoKICAgIGlmICh3aW5kb3cucGx1cykgewogICAgICBnID0gZyB8fCB7fTsKICAgICAgdmFyIGgsCiAgICAgICAgICBpLAogICAgICAgICAgaiA9IGcucGFyYW1zIHx8IHt9LAogICAgICAgICAgayA9IG51bGwsCiAgICAgICAgICBsID0gbnVsbDsKICAgICAgaWYgKGEud2Vidmlld3NbZl0gPyAobCA9IGEud2Vidmlld3NbZl0sIHBsdXMud2Vidmlldy5nZXRXZWJ2aWV3QnlJZChmKSAmJiAoayA9IGwud2VidmlldykpIDogITAgIT09IGcuY3JlYXRlTmV3ICYmIChrID0gcGx1cy53ZWJ2aWV3LmdldFdlYnZpZXdCeUlkKGYpKSwgaykgcmV0dXJuIGggPSBsID8gbC5zaG93IDogYywgaCA9IGcuc2hvdyA/IGEuZXh0ZW5kKGgsIGcuc2hvdykgOiBoLCBoLmF1dG9TaG93ICYmIGsuc2hvdyhoLmFuaVNob3csIGguZHVyYXRpb24sIGZ1bmN0aW9uICgpIHsKICAgICAgICBkKGspLCBlKGssICJwYWdlYmVmb3Jlc2hvdyIsICExKTsKICAgICAgfSksIGwgJiYgbC5hZnRlclNob3dNZXRob2ROYW1lICYmIGsuZXZhbEpTKGwuYWZ0ZXJTaG93TWV0aG9kTmFtZSArICIoJyIgKyBKU09OLnN0cmluZ2lmeShqKSArICInKSIpLCBrOwogICAgICBpZiAoIWIpIHRocm93IG5ldyBFcnJvcigid2Vidmlld1siICsgZiArICJdIGRvZXMgbm90IGV4aXN0Iik7CiAgICAgIHZhciBtID0gYS53YWl0aW5nT3B0aW9ucyhnLndhaXRpbmcpOwoKICAgICAgaWYgKG0uYXV0b1Nob3cgJiYgKGkgPSBwbHVzLm5hdGl2ZVVJLnNob3dXYWl0aW5nKG0udGl0bGUsIG0ub3B0aW9ucykpLCBnID0gYS5leHRlbmQoZywgewogICAgICAgIGlkOiBmLAogICAgICAgIHVybDogYgogICAgICB9KSwgayA9IGEuY3JlYXRlV2luZG93KGcpLCBoID0gYS5zaG93T3B0aW9ucyhnLnNob3cpLCBoLmF1dG9TaG93KSB7CiAgICAgICAgdmFyIG4gPSBmdW5jdGlvbiBuKCkgewogICAgICAgICAgaSAmJiBpLmNsb3NlKCksIGsuc2hvdyhoLmFuaVNob3csIGguZHVyYXRpb24sIGZ1bmN0aW9uICgpIHt9LCBoLmV4dHJhcyksIGcuYWZ0ZXJTaG93TWV0aG9kTmFtZSAmJiBrLmV2YWxKUyhnLmFmdGVyU2hvd01ldGhvZE5hbWUgKyAiKCciICsgSlNPTi5zdHJpbmdpZnkoaikgKyAiJykiKTsKICAgICAgICB9OwoKICAgICAgICBrLmFkZEV2ZW50TGlzdGVuZXIoaC5ldmVudCwgbiwgITEpLCBrLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGQoayksIGUoaywgInBhZ2ViZWZvcmVzaG93IiwgITEpOwogICAgICAgIH0sICExKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGs7CiAgICB9CiAgfSwgYS5vcGVuV2luZG93V2l0aFRpdGxlID0gZnVuY3Rpb24gKGIsIGYpIHsKICAgIGIgPSBiIHx8IHt9OwogICAgdmFyIGcgPSBiLnVybCwKICAgICAgICBoID0gYi5pZCB8fCBnOwogICAgaWYgKCFhLm9zLnBsdXMpIHJldHVybiB2b2lkIChhLm9zLmlvcyB8fCBhLm9zLmFuZHJvaWQgPyB3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWYgPSBnIDogd2luZG93LnBhcmVudC5sb2NhdGlvbi5ocmVmID0gZyk7CgogICAgaWYgKHdpbmRvdy5wbHVzKSB7CiAgICAgIHZhciBpLAogICAgICAgICAgaiwKICAgICAgICAgIGsgPSBiLnBhcmFtcyB8fCB7fSwKICAgICAgICAgIGwgPSBudWxsLAogICAgICAgICAgbSA9IG51bGw7CiAgICAgIGlmIChhLndlYnZpZXdzW2hdID8gKG0gPSBhLndlYnZpZXdzW2hdLCBwbHVzLndlYnZpZXcuZ2V0V2Vidmlld0J5SWQoaCkgJiYgKGwgPSBtLndlYnZpZXcpKSA6ICEwICE9PSBiLmNyZWF0ZU5ldyAmJiAobCA9IHBsdXMud2Vidmlldy5nZXRXZWJ2aWV3QnlJZChoKSksIGwpIHJldHVybiBpID0gbSA/IG0uc2hvdyA6IGMsIGkgPSBiLnNob3cgPyBhLmV4dGVuZChpLCBiLnNob3cpIDogaSwgaS5hdXRvU2hvdyAmJiBsLnNob3coaS5hbmlTaG93LCBpLmR1cmF0aW9uLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZChsKSwgZShsLCAicGFnZWJlZm9yZXNob3ciLCAhMSk7CiAgICAgIH0pLCBtICYmIG0uYWZ0ZXJTaG93TWV0aG9kTmFtZSAmJiBsLmV2YWxKUyhtLmFmdGVyU2hvd01ldGhvZE5hbWUgKyAiKCciICsgSlNPTi5zdHJpbmdpZnkoaykgKyAiJykiKSwgbDsKICAgICAgaWYgKCFnKSB0aHJvdyBuZXcgRXJyb3IoIndlYnZpZXdbIiArIGggKyAiXSBkb2VzIG5vdCBleGlzdCIpOwogICAgICB2YXIgbiA9IGEud2FpdGluZ09wdGlvbnMoYi53YWl0aW5nKTsKCiAgICAgIGlmIChuLmF1dG9TaG93ICYmIChqID0gcGx1cy5uYXRpdmVVSS5zaG93V2FpdGluZyhuLnRpdGxlLCBuLm9wdGlvbnMpKSwgYiA9IGEuZXh0ZW5kKGIsIHsKICAgICAgICBpZDogaCwKICAgICAgICB1cmw6IGcKICAgICAgfSksIGwgPSBhLmNyZWF0ZVdpbmRvdyhiKSwgZikgewogICAgICAgIGEuZXh0ZW5kKCEwLCBhLm9wdGlvbnMudGl0bGVDb25maWcsIGYpOwogICAgICAgIHZhciBvID0gYS5vcHRpb25zLnRpdGxlQ29uZmlnLmlkID8gYS5vcHRpb25zLnRpdGxlQ29uZmlnLmlkIDogaCArICJfdGl0bGUiLAogICAgICAgICAgICBwID0gbmV3IHBsdXMubmF0aXZlT2JqLlZpZXcobywgewogICAgICAgICAgdG9wOiAwLAogICAgICAgICAgaGVpZ2h0OiBhLm9wdGlvbnMudGl0bGVDb25maWcuaGVpZ2h0LAogICAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgICAgIGRvY2s6ICJ0b3AiLAogICAgICAgICAgcG9zaXRpb246ICJkb2NrIgogICAgICAgIH0pOwogICAgICAgIHAuZHJhd1JlY3QoYS5vcHRpb25zLnRpdGxlQ29uZmlnLmJhY2tncm91bmRDb2xvcik7CiAgICAgICAgdmFyIHEgPSBwYXJzZUludChhLm9wdGlvbnMudGl0bGVDb25maWcuaGVpZ2h0KSAtIDE7CgogICAgICAgIGlmIChwLmRyYXdSZWN0KGEub3B0aW9ucy50aXRsZUNvbmZpZy5ib3R0b21Cb3JkZXJDb2xvciwgewogICAgICAgICAgdG9wOiBxICsgInB4IiwKICAgICAgICAgIGxlZnQ6ICIwcHgiCiAgICAgICAgfSksIGEub3B0aW9ucy50aXRsZUNvbmZpZy50aXRsZS50ZXh0KSB7CiAgICAgICAgICB2YXIgciA9IGEub3B0aW9ucy50aXRsZUNvbmZpZy50aXRsZTsKICAgICAgICAgIHAuZHJhd1RleHQoci50ZXh0LCByLnBvc2l0aW9uLCByLnN0eWxlcyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgcyA9IGEub3B0aW9ucy50aXRsZUNvbmZpZy5iYWNrLAogICAgICAgICAgICB0ID0gbnVsbCwKICAgICAgICAgICAgdSA9IHMuaW1hZ2U7CgogICAgICAgIGlmICh1LmJhc2U2NERhdGEgfHwgdS5pbWdTcmMpIHsKICAgICAgICAgIHQgPSB7CiAgICAgICAgICAgIGxlZnQ6IHBhcnNlSW50KHUucG9zaXRpb24ubGVmdCksCiAgICAgICAgICAgIHJpZ2h0OiBwYXJzZUludCh1LnBvc2l0aW9uLmxlZnQpICsgcGFyc2VJbnQodS5wb3NpdGlvbi53aWR0aCkKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgdiA9IG5ldyBwbHVzLm5hdGl2ZU9iai5CaXRtYXAoaCArICJfYmFjayIpOwogICAgICAgICAgdS5iYXNlNjREYXRhID8gdi5sb2FkQmFzZTY0RGF0YSh1LmJhc2U2NERhdGEpIDogdi5sb2FkKHUuaW1nU3JjKSwgcC5kcmF3Qml0bWFwKHYsIHUuc3ByaXRlLCB1LnBvc2l0aW9uKTsKICAgICAgICB9CgogICAgICAgIHAuc2V0VG91Y2hFdmVudFJlY3QoewogICAgICAgICAgdG9wOiAiMHB4IiwKICAgICAgICAgIGxlZnQ6ICIwcHgiLAogICAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgICAgIGhlaWdodDogIjEwMCUiCiAgICAgICAgfSksIHAuaW50ZXJjZXB0VG91Y2hFdmVudCghMCksIHAuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoYikgewogICAgICAgICAgdmFyIGMgPSBiLmNsaWVudFg7CiAgICAgICAgICB0ICYmIGMgPiB0LmxlZnQgJiYgYyA8IHQucmlnaHQgJiYgKHMuY2xpY2sgJiYgYS5pc0Z1bmN0aW9uKHMuY2xpY2spID8gcy5jbGljaygpIDogbC5ldmFsSlMoIndpbmRvdy5tdWkmJm11aS5iYWNrKCk7IikpOwogICAgICAgIH0sICExKSwgbC5hcHBlbmQocCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpID0gYS5zaG93T3B0aW9ucyhiLnNob3cpLCBpLmF1dG9TaG93ICYmIGwuYWRkRXZlbnRMaXN0ZW5lcihpLmV2ZW50LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaiAmJiBqLmNsb3NlKCksIGwuc2hvdyhpLmFuaVNob3csIGkuZHVyYXRpb24sIGZ1bmN0aW9uICgpIHt9LCBpLmV4dHJhcyk7CiAgICAgIH0sICExKSwgbDsKICAgIH0KICB9LCBhLmNyZWF0ZVdpbmRvdyA9IGZ1bmN0aW9uIChiLCBjKSB7CiAgICBpZiAod2luZG93LnBsdXMpIHsKICAgICAgdmFyIGQsCiAgICAgICAgICBlID0gYi5pZCB8fCBiLnVybDsKCiAgICAgIGlmIChiLnByZWxvYWQpIHsKICAgICAgICBhLndlYnZpZXdzW2VdICYmIGEud2Vidmlld3NbZV0ud2Vidmlldy5nZXRVUkwoKSA/IGQgPSBhLndlYnZpZXdzW2VdLndlYnZpZXcgOiAoITAgIT09IGIuY3JlYXRlTmV3ICYmIChkID0gcGx1cy53ZWJ2aWV3LmdldFdlYnZpZXdCeUlkKGUpKSwgZCB8fCAoZCA9IHBsdXMud2Vidmlldy5jcmVhdGUoYi51cmwsIGUsIGEud2luZG93T3B0aW9ucyhiLnN0eWxlcyksIGEuZXh0ZW5kKHsKICAgICAgICAgIHByZWxvYWQ6ICEwCiAgICAgICAgfSwgYi5leHRyYXMpKSwgYi5zdWJwYWdlcyAmJiBhLmVhY2goYi5zdWJwYWdlcywgZnVuY3Rpb24gKGIsIGMpIHsKICAgICAgICAgIHZhciBlID0gYy5pZCB8fCBjLnVybDsKCiAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICB2YXIgZiA9IHBsdXMud2Vidmlldy5nZXRXZWJ2aWV3QnlJZChlKTsKICAgICAgICAgICAgZiB8fCAoZiA9IHBsdXMud2Vidmlldy5jcmVhdGUoYy51cmwsIGUsIGEud2luZG93T3B0aW9ucyhjLnN0eWxlcyksIGEuZXh0ZW5kKHsKICAgICAgICAgICAgICBwcmVsb2FkOiAhMAogICAgICAgICAgICB9LCBjLmV4dHJhcykpKSwgZC5hcHBlbmQoZik7CiAgICAgICAgICB9CiAgICAgICAgfSkpKSwgYS53ZWJ2aWV3c1tlXSA9IHsKICAgICAgICAgIHdlYnZpZXc6IGQsCiAgICAgICAgICBwcmVsb2FkOiAhMCwKICAgICAgICAgIHNob3c6IGEuc2hvd09wdGlvbnMoYi5zaG93KSwKICAgICAgICAgIGFmdGVyU2hvd01ldGhvZE5hbWU6IGIuYWZ0ZXJTaG93TWV0aG9kTmFtZQogICAgICAgIH07CiAgICAgICAgdmFyIGYgPSBhLmRhdGEucHJlbG9hZHMsCiAgICAgICAgICAgIGcgPSBmLmluZGV4T2YoZSk7CgogICAgICAgIGlmICh+ZyAmJiBmLnNwbGljZShnLCAxKSwgZi5wdXNoKGUpLCBmLmxlbmd0aCA+IGEub3B0aW9ucy5wcmVsb2FkTGltaXQpIHsKICAgICAgICAgIHZhciBoID0gYS5kYXRhLnByZWxvYWRzLnNoaWZ0KCksCiAgICAgICAgICAgICAgaSA9IGEud2Vidmlld3NbaF07CiAgICAgICAgICBpICYmIGkud2VidmlldyAmJiBhLmNsb3NlQWxsKGkud2VidmlldyksIGRlbGV0ZSBhLndlYnZpZXdzW2hdOwogICAgICAgIH0KICAgICAgfSBlbHNlICExICE9PSBjICYmIChkID0gcGx1cy53ZWJ2aWV3LmNyZWF0ZShiLnVybCwgZSwgYS53aW5kb3dPcHRpb25zKGIuc3R5bGVzKSwgYi5leHRyYXMpLCBiLnN1YnBhZ2VzICYmIGEuZWFjaChiLnN1YnBhZ2VzLCBmdW5jdGlvbiAoYiwgYykgewogICAgICAgIHZhciBlID0gYy5pZCB8fCBjLnVybCwKICAgICAgICAgICAgZiA9IHBsdXMud2Vidmlldy5nZXRXZWJ2aWV3QnlJZChlKTsKICAgICAgICBmIHx8IChmID0gcGx1cy53ZWJ2aWV3LmNyZWF0ZShjLnVybCwgZSwgYS53aW5kb3dPcHRpb25zKGMuc3R5bGVzKSwgYy5leHRyYXMpKSwgZC5hcHBlbmQoZik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBkOwogICAgfQogIH0sIGEucHJlbG9hZCA9IGZ1bmN0aW9uIChiKSB7CiAgICByZXR1cm4gYi5wcmVsb2FkIHx8IChiLnByZWxvYWQgPSAhMCksIGEuY3JlYXRlV2luZG93KGIpOwogIH0sIGEuY2xvc2VPcGVuZWQgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBiLm9wZW5lZCgpOwogICAgaWYgKGMpIGZvciAodmFyIGQgPSAwLCBlID0gYy5sZW5ndGg7IGQgPCBlOyBkKyspIHsKICAgICAgdmFyIGYgPSBjW2RdLAogICAgICAgICAgZyA9IGYub3BlbmVkKCk7CiAgICAgIGcgJiYgZy5sZW5ndGggPiAwID8gKGEuY2xvc2VPcGVuZWQoZiksIGYuY2xvc2UoIm5vbmUiKSkgOiBmLnBhcmVudCgpICE9PSBiICYmIGYuY2xvc2UoIm5vbmUiKTsKICAgIH0KICB9LCBhLmNsb3NlQWxsID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIGEuY2xvc2VPcGVuZWQoYiksIGMgPyBiLmNsb3NlKGMpIDogYi5jbG9zZSgpOwogIH0sIGEuY3JlYXRlV2luZG93cyA9IGZ1bmN0aW9uIChiKSB7CiAgICBhLmVhY2goYiwgZnVuY3Rpb24gKGIsIGMpIHsKICAgICAgYS5jcmVhdGVXaW5kb3coYywgITEpOwogICAgfSk7CiAgfSwgYS5hcHBlbmRXZWJ2aWV3ID0gZnVuY3Rpb24gKGIpIHsKICAgIGlmICh3aW5kb3cucGx1cykgewogICAgICB2YXIgYywKICAgICAgICAgIGQgPSBiLmlkIHx8IGIudXJsOwogICAgICByZXR1cm4gYS53ZWJ2aWV3c1tkXSB8fCAocGx1cy53ZWJ2aWV3LmdldFdlYnZpZXdCeUlkKGQpIHx8IChjID0gcGx1cy53ZWJ2aWV3LmNyZWF0ZShiLnVybCwgZCwgYi5zdHlsZXMsIGIuZXh0cmFzKSksIHBsdXMud2Vidmlldy5jdXJyZW50V2VidmlldygpLmFwcGVuZChjKSwgYS53ZWJ2aWV3c1tkXSA9IGIpLCBjOwogICAgfQogIH0sIGEud2Vidmlld3MgPSB7fSwgYS5kYXRhLnByZWxvYWRzID0gW10sIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgIGEuY3VycmVudFdlYnZpZXcgPSBwbHVzLndlYnZpZXcuY3VycmVudFdlYnZpZXcoKTsKICB9KSwgYS5hZGRJbml0KHsKICAgIG5hbWU6ICI1KyIsCiAgICBpbmRleDogMTAwLAogICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoKSB7CiAgICAgIHZhciBiID0gYS5vcHRpb25zLAogICAgICAgICAgYyA9IGIuc3VicGFnZXMgfHwgW107CiAgICAgIGEub3MucGx1cyAmJiBhLnBsdXNSZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgYS5lYWNoKGMsIGZ1bmN0aW9uIChiLCBjKSB7CiAgICAgICAgICBhLmFwcGVuZFdlYnZpZXcoYyk7CiAgICAgICAgfSksIHBsdXMud2Vidmlldy5jdXJyZW50V2VidmlldygpID09PSBwbHVzLndlYnZpZXcuZ2V0V2Vidmlld0J5SWQocGx1cy5ydW50aW1lLmFwcGlkKSAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGQocGx1cy53ZWJ2aWV3LmN1cnJlbnRXZWJ2aWV3KCkpOwogICAgICAgIH0sIDMwMCksIGEub3MuaW9zICYmIGEub3B0aW9ucy5zdGF0dXNCYXJCYWNrZ3JvdW5kICYmIHBsdXMubmF2aWdhdG9yLnNldFN0YXR1c0JhckJhY2tncm91bmQoYS5vcHRpb25zLnN0YXR1c0JhckJhY2tncm91bmQpLCBhLm9zLmFuZHJvaWQgJiYgcGFyc2VGbG9hdChhLm9zLnZlcnNpb24pIDwgNC40ICYmIG51bGwgPT0gcGx1cy53ZWJ2aWV3LmN1cnJlbnRXZWJ2aWV3KCkucGFyZW50KCkgJiYgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicmVzdW1lIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5ib2R5OwogICAgICAgICAgYS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYS5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgICB9LCAxMCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0pLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicHJlbG9hZCIsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBiID0gYS5vcHRpb25zLnByZWxvYWRQYWdlcyB8fCBbXTsKICAgIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgYS5lYWNoKGIsIGZ1bmN0aW9uIChiLCBjKSB7CiAgICAgICAgYS5jcmVhdGVXaW5kb3coYS5leHRlbmQoYywgewogICAgICAgICAgcHJlbG9hZDogITAKICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSksIGEuc3VwcG9ydFN0YXR1c2Jhck9mZnNldCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBhLm9zLnBsdXMgJiYgYS5vcy5pb3MgJiYgcGFyc2VGbG9hdChhLm9zLnZlcnNpb24pID49IDc7CiAgfSwgYS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICBhLnN1cHBvcnRTdGF0dXNiYXJPZmZzZXQoKSAmJiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoIm11aS1zdGF0dXNiYXIiKTsKICB9KTsKfShtdWkpLCBmdW5jdGlvbiAoYSwgYikgewogIGEuYWRkQmFjayA9IGZ1bmN0aW9uIChiKSB7CiAgICByZXR1cm4gYS5hZGRBY3Rpb24oImJhY2tzIiwgYik7CiAgfSwgYS5hZGRCYWNrKHsKICAgIG5hbWU6ICJicm93c2VyIiwKICAgIGluZGV4OiAxMDAsCiAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZSgpIHsKICAgICAgcmV0dXJuIGIuaGlzdG9yeS5sZW5ndGggPiAxICYmIChiLmhpc3RvcnkuYmFjaygpLCAhMCk7CiAgICB9CiAgfSksIGEuYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIGEub3B0aW9ucy5iZWZvcmViYWNrICYmICExID09PSBhLm9wdGlvbnMuYmVmb3JlYmFjaygpIHx8IGEuZG9BY3Rpb24oImJhY2tzIik7CiAgfSwgYi5hZGRFdmVudExpc3RlbmVyKCJ0YXAiLCBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBhLnRhcmdldHMuYWN0aW9uOwogICAgYyAmJiBjLmNsYXNzTGlzdC5jb250YWlucygibXVpLWFjdGlvbi1iYWNrIikgJiYgKGEuYmFjaygpLCBhLnRhcmdldHMuYWN0aW9uID0gITEpOwogIH0pLCBiLmFkZEV2ZW50TGlzdGVuZXIoInN3aXBlcmlnaHQiLCBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBiLmRldGFpbDsKICAgICEwID09PSBhLm9wdGlvbnMuc3dpcGVCYWNrICYmIE1hdGguYWJzKGMuYW5nbGUpIDwgMyAmJiBhLmJhY2soKTsKICB9KTsKfShtdWksIHdpbmRvdyksIGZ1bmN0aW9uIChhLCBiKSB7CiAgYS5vcy5wbHVzICYmIGEub3MuYW5kcm9pZCAmJiBhLmFkZEJhY2soewogICAgbmFtZTogIm11aSIsCiAgICBpbmRleDogNSwKICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKCkgewogICAgICBpZiAoYS50YXJnZXRzLl9wb3BvdmVyICYmIGEudGFyZ2V0cy5fcG9wb3Zlci5jbGFzc0xpc3QuY29udGFpbnMoIm11aS1hY3RpdmUiKSkgcmV0dXJuIGEoYS50YXJnZXRzLl9wb3BvdmVyKS5wb3BvdmVyKCJoaWRlIiksICEwOwogICAgICB2YXIgYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5tdWktb2ZmLWNhbnZhcy13cmFwLm11aS1hY3RpdmUiKTsKICAgICAgaWYgKGIpIHJldHVybiBhKGIpLm9mZkNhbnZhcygiY2xvc2UiKSwgITA7CiAgICAgIHZhciBjID0gYS5pc0Z1bmN0aW9uKGEuZ2V0UHJldmlld0ltYWdlKSAmJiBhLmdldFByZXZpZXdJbWFnZSgpOwogICAgICByZXR1cm4gYyAmJiBjLmlzU2hvd24oKSA/IChjLmNsb3NlKCksICEwKSA6IGEuY2xvc2VQb3B1cCgpOwogICAgfQogIH0pLCBhLl9fYmFja19fZmlyc3QgPSBudWxsLCBhLmFkZEJhY2soewogICAgbmFtZTogIjUrIiwKICAgIGluZGV4OiAxMCwKICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKCkgewogICAgICBpZiAoIWIucGx1cykgcmV0dXJuICExOwogICAgICB2YXIgYyA9IHBsdXMud2Vidmlldy5jdXJyZW50V2VidmlldygpLAogICAgICAgICAgZCA9IGMucGFyZW50KCk7CiAgICAgIHJldHVybiBkID8gZC5ldmFsSlMoIm11aSYmbXVpLmJhY2soKTsiKSA6IGMuY2FuQmFjayhmdW5jdGlvbiAoZCkgewogICAgICAgIGQuY2FuQmFjayA/IGIuaGlzdG9yeS5iYWNrKCkgOiBjLmlkID09PSBwbHVzLnJ1bnRpbWUuYXBwaWQgPyBhLl9fYmFja19fZmlyc3QgPyBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGEuX19iYWNrX19maXJzdCA8IDJlMyAmJiBwbHVzLnJ1bnRpbWUucXVpdCgpIDogKGEuX19iYWNrX19maXJzdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBtdWkudG9hc3QoIuWGjeaMieS4gOasoemAgOWHuuW6lOeUqCIpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGEuX19iYWNrX19maXJzdCA9IG51bGw7CiAgICAgICAgfSwgMmUzKSkgOiBjLnByZWxvYWQgPyBjLmhpZGUoImF1dG8iKSA6IGEuY2xvc2VBbGwoYyk7CiAgICAgIH0pLCAhMDsKICAgIH0KICB9KSwgYS5tZW51ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubXVpLWFjdGlvbi1tZW51Iik7CiAgICBpZiAoYykgYS50cmlnZ2VyKGMsIGEuRVZFTlRfU1RBUlQpLCBhLnRyaWdnZXIoYywgInRhcCIpO2Vsc2UgaWYgKGIucGx1cykgewogICAgICB2YXIgZCA9IGEuY3VycmVudFdlYnZpZXcsCiAgICAgICAgICBlID0gZC5wYXJlbnQoKTsKICAgICAgZSAmJiBlLmV2YWxKUygibXVpJiZtdWkubWVudSgpOyIpOwogICAgfQogIH07CgogIHZhciBjID0gZnVuY3Rpb24gYygpIHsKICAgIGEuYmFjaygpOwogIH0sCiAgICAgIGQgPSBmdW5jdGlvbiBkKCkgewogICAgYS5tZW51KCk7CiAgfTsKCiAgYS5wbHVzUmVhZHkoZnVuY3Rpb24gKCkgewogICAgYS5vcHRpb25zLmtleUV2ZW50QmluZC5iYWNrYnV0dG9uICYmIHBsdXMua2V5LmFkZEV2ZW50TGlzdGVuZXIoImJhY2tidXR0b24iLCBjLCAhMSksIGEub3B0aW9ucy5rZXlFdmVudEJpbmQubWVudWJ1dHRvbiAmJiBwbHVzLmtleS5hZGRFdmVudExpc3RlbmVyKCJtZW51YnV0dG9uIiwgZCwgITEpOwogIH0pLCBhLmFkZEluaXQoewogICAgbmFtZTogImtleUV2ZW50QmluZCIsCiAgICBpbmRleDogMWUzLAogICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoKSB7CiAgICAgIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICBhLm9wdGlvbnMua2V5RXZlbnRCaW5kLmJhY2tidXR0b24gfHwgcGx1cy5rZXkucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmFja2J1dHRvbiIsIGMpLCBhLm9wdGlvbnMua2V5RXZlbnRCaW5kLm1lbnVidXR0b24gfHwgcGx1cy5rZXkucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVudWJ1dHRvbiIsIGQpOwogICAgICB9KTsKICAgIH0KICB9KTsKfShtdWksIHdpbmRvdyksIGZ1bmN0aW9uIChhKSB7CiAgYS5hZGRJbml0KHsKICAgIG5hbWU6ICJwdWxscmVmcmVzaCIsCiAgICBpbmRleDogMWUzLAogICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoKSB7CiAgICAgIHZhciBiID0gYS5vcHRpb25zLAogICAgICAgICAgYyA9IGIucHVsbFJlZnJlc2ggfHwge30sCiAgICAgICAgICBkID0gYy5kb3duICYmIGMuZG93bi5oYXNPd25Qcm9wZXJ0eSgiY2FsbGJhY2siKSwKICAgICAgICAgIGUgPSBjLnVwICYmIGMudXAuaGFzT3duUHJvcGVydHkoImNhbGxiYWNrIik7CgogICAgICBpZiAoZCB8fCBlKSB7CiAgICAgICAgdmFyIGYgPSBjLmNvbnRhaW5lcjsKCiAgICAgICAgaWYgKGYpIHsKICAgICAgICAgIHZhciBnID0gYShmKTsKICAgICAgICAgIDEgPT09IGcubGVuZ3RoICYmIChhLm9zLnBsdXMgPyBkICYmICJjaXJjbGUiID09IGMuZG93bi5zdHlsZSA/IGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYS5mbi5wdWxsUmVmcmVzaCA9IGEuZm4ucHVsbFJlZnJlc2hfbmF0aXZlLCBnLnB1bGxSZWZyZXNoKGMpOwogICAgICAgICAgfSkgOiBhLm9zLmFuZHJvaWQgPyBhLnBsdXNSZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGEuZm4ucHVsbFJlZnJlc2ggPSBhLmZuLnB1bGxSZWZyZXNoX25hdGl2ZTsKICAgICAgICAgICAgdmFyIGIgPSBwbHVzLndlYnZpZXcuY3VycmVudFdlYnZpZXcoKTsKICAgICAgICAgICAgaWYgKCExID09PSB3aW5kb3cuX19OV2luX0VuYWJsZV9fKSBnLnB1bGxSZWZyZXNoKGMpO2Vsc2UgewogICAgICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgICAgICB2YXIgZiA9IHt9OwogICAgICAgICAgICAgICAgZi51cCA9IGMudXAsIGYud2Vidmlld0lkID0gYi5pZCB8fCBiLmdldFVSTCgpLCBnLnB1bGxSZWZyZXNoKGYpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGQpIHsKICAgICAgICAgICAgICAgIHZhciBoID0gYi5wYXJlbnQoKSwKICAgICAgICAgICAgICAgICAgICBpID0gYi5pZCB8fCBiLmdldFVSTCgpOwoKICAgICAgICAgICAgICAgIGlmIChoKSB7CiAgICAgICAgICAgICAgICAgIGUgfHwgZy5wdWxsUmVmcmVzaCh7CiAgICAgICAgICAgICAgICAgICAgd2Vidmlld0lkOiBpCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB2YXIgaiA9IHsKICAgICAgICAgICAgICAgICAgICB3ZWJ2aWV3SWQ6IGkKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgai5kb3duID0gYS5leHRlbmQoe30sIGMuZG93biksIGouZG93bi5jYWxsYmFjayA9ICJfQ0FMTEJBQ0siLCBoLmV2YWxKUygibXVpLmZuLnB1bGxSZWZyZXNoPW11aS5mbi5wdWxsUmVmcmVzaF9uYXRpdmUiKSwgaC5ldmFsSlMoIm11aSYmbXVpKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tdWktY29udGVudCcpKS5wdWxsUmVmcmVzaCgnIiArIEpTT04uc3RyaW5naWZ5KGopICsgIicpIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KSA6IGcucHVsbFJlZnJlc2goYykgOiBnLnB1bGxSZWZyZXNoKGMpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KTsKfShtdWkpLCBmdW5jdGlvbiAoYSwgYiwgYykgewogIHZhciBkID0gImFwcGxpY2F0aW9uL2pzb24iLAogICAgICBlID0gInRleHQvaHRtbCIsCiAgICAgIGYgPSAvPHNjcmlwdFxiW148XSooPzooPyE8XC9zY3JpcHQ+KTxbXjxdKikqPFwvc2NyaXB0Pi9naSwKICAgICAgZyA9IC9eKD86dGV4dHxhcHBsaWNhdGlvbilcL2phdmFzY3JpcHQvaSwKICAgICAgaCA9IC9eKD86dGV4dHxhcHBsaWNhdGlvbilcL3htbC9pLAogICAgICBpID0gL15ccyokLzsKICBhLmFqYXhTZXR0aW5ncyA9IHsKICAgIHR5cGU6ICJHRVQiLAogICAgYmVmb3JlU2VuZDogYS5ub29wLAogICAgc3VjY2VzczogYS5ub29wLAogICAgZXJyb3I6IGEubm9vcCwKICAgIGNvbXBsZXRlOiBhLm5vb3AsCiAgICBjb250ZXh0OiBudWxsLAogICAgeGhyOiBmdW5jdGlvbiB4aHIoYSkgewogICAgICByZXR1cm4gbmV3IGIuWE1MSHR0cFJlcXVlc3QoKTsKICAgIH0sCiAgICBhY2NlcHRzOiB7CiAgICAgIHNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24veC1qYXZhc2NyaXB0IiwKICAgICAganNvbjogZCwKICAgICAgeG1sOiAiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsCiAgICAgIGh0bWw6IGUsCiAgICAgIHRleHQ6ICJ0ZXh0L3BsYWluIgogICAgfSwKICAgIHRpbWVvdXQ6IDAsCiAgICBwcm9jZXNzRGF0YTogITAsCiAgICBjYWNoZTogITAKICB9OwoKICB2YXIgaiA9IGZ1bmN0aW9uIGooYSwgYikgewogICAgdmFyIGMgPSBiLmNvbnRleHQ7CiAgICBpZiAoITEgPT09IGIuYmVmb3JlU2VuZC5jYWxsKGMsIGEsIGIpKSByZXR1cm4gITE7CiAgfSwKICAgICAgayA9IGZ1bmN0aW9uIGsoYSwgYiwgYykgewogICAgYy5zdWNjZXNzLmNhbGwoYy5jb250ZXh0LCBhLCAic3VjY2VzcyIsIGIpLCBtKCJzdWNjZXNzIiwgYiwgYyk7CiAgfSwKICAgICAgbCA9IGZ1bmN0aW9uIGwoYSwgYiwgYywgZCkgewogICAgZC5lcnJvci5jYWxsKGQuY29udGV4dCwgYywgYiwgYSksIG0oYiwgYywgZCk7CiAgfSwKICAgICAgbSA9IGZ1bmN0aW9uIG0oYSwgYiwgYykgewogICAgYy5jb21wbGV0ZS5jYWxsKGMuY29udGV4dCwgYiwgYSk7CiAgfSwKICAgICAgbiA9IGZ1bmN0aW9uIG4oYiwgYywgZCwgZSkgewogICAgdmFyIGYsCiAgICAgICAgZyA9IGEuaXNBcnJheShjKSwKICAgICAgICBoID0gYS5pc1BsYWluT2JqZWN0KGMpOwogICAgYS5lYWNoKGMsIGZ1bmN0aW9uIChjLCBpKSB7CiAgICAgIGYgPSBhLnR5cGUoaSksIGUgJiYgKGMgPSBkID8gZSA6IGUgKyAiWyIgKyAoaCB8fCAib2JqZWN0IiA9PT0gZiB8fCAiYXJyYXkiID09PSBmID8gYyA6ICIiKSArICJdIiksICFlICYmIGcgPyBiLmFkZChpLm5hbWUsIGkudmFsdWUpIDogImFycmF5IiA9PT0gZiB8fCAhZCAmJiAib2JqZWN0IiA9PT0gZiA/IG4oYiwgaSwgZCwgYykgOiBiLmFkZChjLCBpKTsKICAgIH0pOwogIH0sCiAgICAgIG8gPSBmdW5jdGlvbiBvKGIpIHsKICAgIGlmIChiLnByb2Nlc3NEYXRhICYmIGIuZGF0YSAmJiAic3RyaW5nIiAhPSB0eXBlb2YgYi5kYXRhKSB7CiAgICAgIHZhciBlID0gYi5jb250ZW50VHlwZTsKICAgICAgIWUgJiYgYi5oZWFkZXJzICYmIChlID0gYi5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSksIGUgJiYgfmUuaW5kZXhPZihkKSA/IGIuZGF0YSA9IEpTT04uc3RyaW5naWZ5KGIuZGF0YSkgOiBiLmRhdGEgPSBhLnBhcmFtKGIuZGF0YSwgYi50cmFkaXRpb25hbCk7CiAgICB9CgogICAgIWIuZGF0YSB8fCBiLnR5cGUgJiYgIkdFVCIgIT09IGIudHlwZS50b1VwcGVyQ2FzZSgpIHx8IChiLnVybCA9IHAoYi51cmwsIGIuZGF0YSksIGIuZGF0YSA9IGMpOwogIH0sCiAgICAgIHAgPSBmdW5jdGlvbiBwKGEsIGIpIHsKICAgIHJldHVybiAiIiA9PT0gYiA/IGEgOiAoYSArICImIiArIGIpLnJlcGxhY2UoL1smP117MSwyfS8sICI/Iik7CiAgfSwKICAgICAgcSA9IGZ1bmN0aW9uIHEoYSkgewogICAgcmV0dXJuIGEgJiYgKGEgPSBhLnNwbGl0KCI7IiwgMilbMF0pLCBhICYmIChhID09PSBlID8gImh0bWwiIDogYSA9PT0gZCA/ICJqc29uIiA6IGcudGVzdChhKSA/ICJzY3JpcHQiIDogaC50ZXN0KGEpICYmICJ4bWwiKSB8fCAidGV4dCI7CiAgfSwKICAgICAgciA9IGZ1bmN0aW9uIHIoYiwgZCwgZSwgZikgewogICAgcmV0dXJuIGEuaXNGdW5jdGlvbihkKSAmJiAoZiA9IGUsIGUgPSBkLCBkID0gYyksIGEuaXNGdW5jdGlvbihlKSB8fCAoZiA9IGUsIGUgPSBjKSwgewogICAgICB1cmw6IGIsCiAgICAgIGRhdGE6IGQsCiAgICAgIHN1Y2Nlc3M6IGUsCiAgICAgIGRhdGFUeXBlOiBmCiAgICB9OwogIH07CgogIGEuYWpheCA9IGZ1bmN0aW9uIChkLCBlKSB7CiAgICAib2JqZWN0IiA9PSBfdHlwZW9mKGQpICYmIChlID0gZCwgZCA9IGMpOwogICAgdmFyIGYgPSBlIHx8IHt9OwogICAgZi51cmwgPSBkIHx8IGYudXJsOwoKICAgIGZvciAodmFyIGcgaW4gYS5hamF4U2V0dGluZ3MpIHsKICAgICAgZltnXSA9PT0gYyAmJiAoZltnXSA9IGEuYWpheFNldHRpbmdzW2ddKTsKICAgIH0KCiAgICBvKGYpOwogICAgdmFyIGggPSBmLmRhdGFUeXBlOwogICAgITEgIT09IGYuY2FjaGUgJiYgKGUgJiYgITAgPT09IGUuY2FjaGUgfHwgInNjcmlwdCIgIT09IGgpIHx8IChmLnVybCA9IHAoZi51cmwsICJfPSIgKyBhLm5vdygpKSk7CgogICAgdmFyIG0gPSBmLmFjY2VwdHNbaCAmJiBoLnRvTG93ZXJDYXNlKCldLAogICAgICAgIG4gPSB7fSwKICAgICAgICByID0gZnVuY3Rpb24gcihhLCBiKSB7CiAgICAgIG5bYS50b0xvd2VyQ2FzZSgpXSA9IFthLCBiXTsKICAgIH0sCiAgICAgICAgcyA9IC9eKFtcdy1dKzopXC9cLy8udGVzdChmLnVybCkgPyBSZWdFeHAuJDEgOiBiLmxvY2F0aW9uLnByb3RvY29sLAogICAgICAgIHQgPSBmLnhocihmKTsKCiAgICAiZmlsZToiID09PSBsb2NhdGlvbi5wcm90b2NvbCAmJiBhLm9zLmlvcyAmJiBiLndlYmtpdCAmJiBiLndlYmtpdC5tZXNzYWdlSGFuZGxlcnMgJiYgISh0IGluc3RhbmNlb2YgcGx1cy5uZXQuWE1MSHR0cFJlcXVlc3QpICYmIGNvbnNvbGUuZXJyb3IoIuW9k+WJjei/kOihjOeOr+Wig+S4uldLV2Vidmlld++8jOmcgOWcqHBsdXNSZWFkeeS6i+S7tuinpuWPkeWQjuWGjeiwg+eUqG11aS5hamF477yM5ZCm5YiZ5Y+v6IO95Lya5omn6KGM5aSx6LSl5oiW5oqlU2NyaXB0IGVycm9y55qE6ZSZ6K+vIik7CiAgICB2YXIgdSwKICAgICAgICB2ID0gdC5zZXRSZXF1ZXN0SGVhZGVyOwogICAgaWYgKHIoIlgtUmVxdWVzdGVkLVdpdGgiLCAiWE1MSHR0cFJlcXVlc3QiKSwgcigiQWNjZXB0IiwgbSB8fCAiKi8qIiksIChtID0gZi5taW1lVHlwZSB8fCBtKSAmJiAobS5pbmRleE9mKCIsIikgPiAtMSAmJiAobSA9IG0uc3BsaXQoIiwiLCAyKVswXSksIHQub3ZlcnJpZGVNaW1lVHlwZSAmJiB0Lm92ZXJyaWRlTWltZVR5cGUobSkpLCAoZi5jb250ZW50VHlwZSB8fCAhMSAhPT0gZi5jb250ZW50VHlwZSAmJiBmLmRhdGEgJiYgIkdFVCIgIT09IGYudHlwZS50b1VwcGVyQ2FzZSgpKSAmJiByKCJDb250ZW50LVR5cGUiLCBmLmNvbnRlbnRUeXBlIHx8ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSwgZi5oZWFkZXJzKSBmb3IgKHZhciB3IGluIGYuaGVhZGVycykgewogICAgICByKHcsIGYuaGVhZGVyc1t3XSk7CiAgICB9CiAgICBpZiAodC5zZXRSZXF1ZXN0SGVhZGVyID0gciwgdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICg0ID09PSB0LnJlYWR5U3RhdGUpIHsKICAgICAgICB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGEubm9vcCwgY2xlYXJUaW1lb3V0KHUpOwogICAgICAgIHZhciBiLAogICAgICAgICAgICBjID0gITEsCiAgICAgICAgICAgIGQgPSAiZmlsZToiID09PSBzOwoKICAgICAgICBpZiAodC5zdGF0dXMgPj0gMjAwICYmIHQuc3RhdHVzIDwgMzAwIHx8IDMwNCA9PT0gdC5zdGF0dXMgfHwgMCA9PT0gdC5zdGF0dXMgJiYgZCAmJiB0LnJlc3BvbnNlVGV4dCkgewogICAgICAgICAgaCA9IGggfHwgcShmLm1pbWVUeXBlIHx8IHQuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKSwgYiA9IHQucmVzcG9uc2VUZXh0OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICJzY3JpcHQiID09PSBoID8gKDAsIGV2YWwpKGIpIDogInhtbCIgPT09IGggPyBiID0gdC5yZXNwb25zZVhNTCA6ICJqc29uIiA9PT0gaCAmJiAoYiA9IGkudGVzdChiKSA/IG51bGwgOiBhLnBhcnNlSlNPTihiKSk7CiAgICAgICAgICB9IGNhdGNoIChhKSB7CiAgICAgICAgICAgIGMgPSBhOwogICAgICAgICAgfQoKICAgICAgICAgIGMgPyBsKGMsICJwYXJzZXJlcnJvciIsIHQsIGYpIDogayhiLCB0LCBmKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGUgPSB0LnN0YXR1cyA/ICJlcnJvciIgOiAiYWJvcnQiLAogICAgICAgICAgICAgIGcgPSB0LnN0YXR1c1RleHQgfHwgbnVsbDsKICAgICAgICAgIGQgJiYgKGUgPSAiZXJyb3IiLCBnID0gIjQwNCIpLCBsKGcsIGUsIHQsIGYpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgITEgPT09IGoodCwgZikpIHJldHVybiB0LmFib3J0KCksIGwobnVsbCwgImFib3J0IiwgdCwgZiksIHQ7CiAgICBpZiAoZi54aHJGaWVsZHMpIGZvciAodmFyIHcgaW4gZi54aHJGaWVsZHMpIHsKICAgICAgdFt3XSA9IGYueGhyRmllbGRzW3ddOwogICAgfQogICAgdmFyIHggPSAhKCJhc3luYyIgaW4gZikgfHwgZi5hc3luYzsKICAgIHQub3BlbihmLnR5cGUudG9VcHBlckNhc2UoKSwgZi51cmwsIHgsIGYudXNlcm5hbWUsIGYucGFzc3dvcmQpOwoKICAgIGZvciAodmFyIHcgaW4gbikgewogICAgICBuLmhhc093blByb3BlcnR5KHcpICYmIHYuYXBwbHkodCwgblt3XSk7CiAgICB9CgogICAgcmV0dXJuIGYudGltZW91dCA+IDAgJiYgKHUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBhLm5vb3AsIHQuYWJvcnQoKSwgbChudWxsLCAidGltZW91dCIsIHQsIGYpOwogICAgfSwgZi50aW1lb3V0KSksIHQuc2VuZChmLmRhdGEgPyBmLmRhdGEgOiBudWxsKSwgdDsKICB9LCBhLnBhcmFtID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gW107CiAgICByZXR1cm4gYy5hZGQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgICB0aGlzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGEpICsgIj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGIpKTsKICAgIH0sIG4oYywgYSwgYiksIGMuam9pbigiJiIpLnJlcGxhY2UoLyUyMC9nLCAiKyIpOwogIH0sIGEuZ2V0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGEuYWpheChyLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpOwogIH0sIGEucG9zdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBiID0gci5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgcmV0dXJuIGIudHlwZSA9ICJQT1NUIiwgYS5hamF4KGIpOwogIH0sIGEuZ2V0SlNPTiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBiID0gci5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgcmV0dXJuIGIuZGF0YVR5cGUgPSAianNvbiIsIGEuYWpheChiKTsKICB9LCBhLmZuLmxvYWQgPSBmdW5jdGlvbiAoYiwgYywgZCkgewogICAgaWYgKCF0aGlzLmxlbmd0aCkgcmV0dXJuIHRoaXM7CiAgICB2YXIgZSwKICAgICAgICBnID0gdGhpcywKICAgICAgICBoID0gYi5zcGxpdCgvXHMvKSwKICAgICAgICBpID0gcihiLCBjLCBkKSwKICAgICAgICBqID0gaS5zdWNjZXNzOwogICAgcmV0dXJuIGgubGVuZ3RoID4gMSAmJiAoaS51cmwgPSBoWzBdLCBlID0gaFsxXSksIGkuc3VjY2VzcyA9IGZ1bmN0aW9uIChhKSB7CiAgICAgIGlmIChlKSB7CiAgICAgICAgdmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBiLmlubmVySFRNTCA9IGEucmVwbGFjZShmLCAiIik7CiAgICAgICAgdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgICAgICAgICAgZCA9IGIucXVlcnlTZWxlY3RvckFsbChlKTsKICAgICAgICBpZiAoZCAmJiBkLmxlbmd0aCA+IDApIGZvciAodmFyIGggPSAwLCBpID0gZC5sZW5ndGg7IGggPCBpOyBoKyspIHsKICAgICAgICAgIGMuYXBwZW5kQ2hpbGQoZFtoXSk7CiAgICAgICAgfQogICAgICAgIGdbMF0uaW5uZXJIVE1MID0gYy5pbm5lckhUTUw7CiAgICAgIH0gZWxzZSBnWzBdLmlubmVySFRNTCA9IGE7CgogICAgICBqICYmIGouYXBwbHkoZywgYXJndW1lbnRzKTsKICAgIH0sIGEuYWpheChpKSwgdGhpczsKICB9Owp9KG11aSwgd2luZG93KSwgZnVuY3Rpb24gKGEpIHsKICB2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICBiLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZiwgYS5wbHVzUmVhZHkoZnVuY3Rpb24gKCkgewogICAgYS5hamF4U2V0dGluZ3MgPSBhLmV4dGVuZChhLmFqYXhTZXR0aW5ncywgewogICAgICB4aHI6IGZ1bmN0aW9uIHhocihjKSB7CiAgICAgICAgaWYgKGMuY3Jvc3NEb21haW4pIHJldHVybiBuZXcgcGx1cy5uZXQuWE1MSHR0cFJlcXVlc3QoKTsKCiAgICAgICAgaWYgKCJmaWxlOiIgIT09IGIucHJvdG9jb2wpIHsKICAgICAgICAgIHZhciBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgaWYgKGQuaHJlZiA9IGMudXJsLCBkLmhyZWYgPSBkLmhyZWYsIGMuY3Jvc3NEb21haW4gPSBiLnByb3RvY29sICsgIi8vIiArIGIuaG9zdCAhPSBkLnByb3RvY29sICsgIi8vIiArIGQuaG9zdCwgYy5jcm9zc0RvbWFpbikgcmV0dXJuIG5ldyBwbHVzLm5ldC5YTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGEub3MuaW9zICYmIHdpbmRvdy53ZWJraXQgJiYgd2luZG93LndlYmtpdC5tZXNzYWdlSGFuZGxlcnMgPyBuZXcgcGx1cy5uZXQuWE1MSHR0cFJlcXVlc3QoKSA6IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgfQogICAgfSk7CiAgfSk7Cn0obXVpKSwgZnVuY3Rpb24gKGEsIGIsIGMpIHsKICBhLm9mZnNldCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgZCA9IHsKICAgICAgdG9wOiAwLAogICAgICBsZWZ0OiAwCiAgICB9OwogICAgcmV0dXJuIF90eXBlb2YoYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpICE9PSBjICYmIChkID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIHsKICAgICAgdG9wOiBkLnRvcCArIGIucGFnZVlPZmZzZXQgLSBhLmNsaWVudFRvcCwKICAgICAgbGVmdDogZC5sZWZ0ICsgYi5wYWdlWE9mZnNldCAtIGEuY2xpZW50TGVmdAogICAgfTsKICB9Owp9KG11aSwgd2luZG93KSwgZnVuY3Rpb24gKGEsIGIpIHsKICBhLnNjcm9sbFRvID0gZnVuY3Rpb24gKGEsIGMsIGQpIHsKICAgIGMgPSBjIHx8IDFlMzsKCiAgICB2YXIgZSA9IGZ1bmN0aW9uIGUoYykgewogICAgICBpZiAoYyA8PSAwKSByZXR1cm4gYi5zY3JvbGxUbygwLCBhKSwgdm9pZCAoZCAmJiBkKCkpOwogICAgICB2YXIgZiA9IGEgLSBiLnNjcm9sbFk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGIuc2Nyb2xsVG8oMCwgYi5zY3JvbGxZICsgZiAvIGMgKiAxMCksIGUoYyAtIDEwKTsKICAgICAgfSwgMTYuNyk7CiAgICB9OwoKICAgIGUoYyk7CiAgfSwgYS5hbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiwgYywgZDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGIgPSBhcmd1bWVudHMsIGQgPSB0aGlzLCBjIHx8IChjID0gITAsIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgYS5hcHBseShkLCBiKSwgYyA9ICExOwogICAgICB9KSk7CiAgICB9OwogIH07Cn0obXVpLCB3aW5kb3cpLCBmdW5jdGlvbiAoYSkgewogIHZhciBiID0gITEsCiAgICAgIGMgPSAveHl6Ly50ZXN0KGZ1bmN0aW9uICgpIHsKICAgIHh5ejsKICB9KSA/IC9cYl9zdXBlclxiLyA6IC8uKi8sCiAgICAgIGQgPSBmdW5jdGlvbiBkKCkge307CgogIGQuZXh0ZW5kID0gZnVuY3Rpb24gKGEpIHsKICAgIGZ1bmN0aW9uIGQoKSB7CiAgICAgICFiICYmIHRoaXMuaW5pdCAmJiB0aGlzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICB2YXIgZSA9IHRoaXMucHJvdG90eXBlOwogICAgYiA9ICEwOwogICAgdmFyIGYgPSBuZXcgdGhpcygpOwogICAgYiA9ICExOwoKICAgIGZvciAodmFyIGcgaW4gYSkgewogICAgICBmW2ddID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgYVtnXSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBlW2ddICYmIGMudGVzdChhW2ddKSA/IGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBjID0gdGhpcy5fc3VwZXI7CiAgICAgICAgICB0aGlzLl9zdXBlciA9IGVbYV07CiAgICAgICAgICB2YXIgZCA9IGIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIHJldHVybiB0aGlzLl9zdXBlciA9IGMsIGQ7CiAgICAgICAgfTsKICAgICAgfShnLCBhW2ddKSA6IGFbZ107CiAgICB9CgogICAgcmV0dXJuIGQucHJvdG90eXBlID0gZiwgZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBkLCBkLmV4dGVuZCA9IGFyZ3VtZW50cy5jYWxsZWUsIGQ7CiAgfSwgYS5DbGFzcyA9IGQ7Cn0obXVpKSwgZnVuY3Rpb24gKGEsIGIsIGMpIHsKICB2YXIgZCA9ICJtdWktcHVsbC10b3AtcG9ja2V0IiwKICAgICAgZSA9ICJtdWktcHVsbC1ib3R0b20tcG9ja2V0IiwKICAgICAgZiA9ICJtdWktcHVsbCIsCiAgICAgIGcgPSAibXVpLXB1bGwtbG9hZGluZyIsCiAgICAgIGggPSAibXVpLXB1bGwtY2FwdGlvbiIsCiAgICAgIGkgPSAibXVpLXB1bGwtY2FwdGlvbi1kb3duIiwKICAgICAgaiA9ICJtdWktcHVsbC1jYXB0aW9uLXJlZnJlc2giLAogICAgICBrID0gIm11aS1wdWxsLWNhcHRpb24tbm9tb3JlIiwKICAgICAgbCA9ICJtdWktaWNvbiIsCiAgICAgIG0gPSAibXVpLXNwaW5uZXIiLAogICAgICBuID0gIm11aS1pY29uLXB1bGxkb3duIiwKICAgICAgbyA9ICJtdWktYmxvY2siLAogICAgICBwID0gIm11aS1oaWRkZW4iLAogICAgICBxID0gIm11aS12aXNpYmlsaXR5IiwKICAgICAgciA9IGcgKyAiICIgKyBsICsgIiAiICsgbiwKICAgICAgcyA9IGcgKyAiICIgKyBsICsgIiAiICsgbiwKICAgICAgdCA9IGcgKyAiICIgKyBsICsgIiAiICsgbSwKICAgICAgdSA9IFsnPGRpdiBjbGFzcz0iJyArIGYgKyAnIj4nLCAnPGRpdiBjbGFzcz0ie2ljb259Ij48L2Rpdj4nLCAnPGRpdiBjbGFzcz0iJyArIGggKyAnIj57Y29udGVudHJlZnJlc2h9PC9kaXY+JywgIjwvZGl2PiJdLmpvaW4oIiIpLAogICAgICB2ID0gewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChiLCBjKSB7CiAgICAgIHRoaXMuX3N1cGVyKGIsIGEuZXh0ZW5kKCEwLCB7CiAgICAgICAgc2Nyb2xsWTogITAsCiAgICAgICAgc2Nyb2xsWDogITEsCiAgICAgICAgaW5kaWNhdG9yczogITAsCiAgICAgICAgZGVjZWxlcmF0aW9uOiAuMDAzLAogICAgICAgIGRvd246IHsKICAgICAgICAgIGhlaWdodDogNTAsCiAgICAgICAgICBjb250ZW50aW5pdDogIuS4i+aLieWPr+S7peWIt+aWsCIsCiAgICAgICAgICBjb250ZW50ZG93bjogIuS4i+aLieWPr+S7peWIt+aWsCIsCiAgICAgICAgICBjb250ZW50b3ZlcjogIumHiuaUvueri+WNs+WIt+aWsCIsCiAgICAgICAgICBjb250ZW50cmVmcmVzaDogIuato+WcqOWIt+aWsC4uLiIKICAgICAgICB9LAogICAgICAgIHVwOiB7CiAgICAgICAgICBoZWlnaHQ6IDUwLAogICAgICAgICAgYXV0bzogITEsCiAgICAgICAgICBjb250ZW50aW5pdDogIuS4iuaLieaYvuekuuabtOWkmiIsCiAgICAgICAgICBjb250ZW50ZG93bjogIuS4iuaLieaYvuekuuabtOWkmiIsCiAgICAgICAgICBjb250ZW50cmVmcmVzaDogIuato+WcqOWKoOi9vS4uLiIsCiAgICAgICAgICBjb250ZW50bm9tb3JlOiAi5rKh5pyJ5pu05aSa5pWw5o2u5LqGIiwKICAgICAgICAgIGR1cmF0aW9uOiAzMDAKICAgICAgICB9CiAgICAgIH0sIGMpKTsKICAgIH0sCiAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7CiAgICAgIHRoaXMuX3N1cGVyKCksIHRoaXMuX2luaXRQb2NrZXQoKTsKICAgIH0sCiAgICBfaW5pdFB1bGxkb3duUmVmcmVzaDogZnVuY3Rpb24gX2luaXRQdWxsZG93blJlZnJlc2goKSB7CiAgICAgIHRoaXMucHVsbGRvd24gPSAhMCwgdGhpcy50b3BQb2NrZXQgJiYgKHRoaXMucHVsbFBvY2tldCA9IHRoaXMudG9wUG9ja2V0LCB0aGlzLnB1bGxQb2NrZXQuY2xhc3NMaXN0LmFkZChvKSwgdGhpcy5wdWxsUG9ja2V0LmNsYXNzTGlzdC5hZGQocSksIHRoaXMucHVsbENhcHRpb24gPSB0aGlzLnRvcENhcHRpb24sIHRoaXMucHVsbExvYWRpbmcgPSB0aGlzLnRvcExvYWRpbmcpOwogICAgfSwKICAgIF9pbml0UHVsbHVwUmVmcmVzaDogZnVuY3Rpb24gX2luaXRQdWxsdXBSZWZyZXNoKCkgewogICAgICB0aGlzLnB1bGxkb3duID0gITEsIHRoaXMuYm90dG9tUG9ja2V0ICYmICh0aGlzLnB1bGxQb2NrZXQgPSB0aGlzLmJvdHRvbVBvY2tldCwgdGhpcy5wdWxsUG9ja2V0LmNsYXNzTGlzdC5hZGQobyksIHRoaXMucHVsbFBvY2tldC5jbGFzc0xpc3QuYWRkKHEpLCB0aGlzLnB1bGxDYXB0aW9uID0gdGhpcy5ib3R0b21DYXB0aW9uLCB0aGlzLnB1bGxMb2FkaW5nID0gdGhpcy5ib3R0b21Mb2FkaW5nKTsKICAgIH0sCiAgICBfaW5pdFBvY2tldDogZnVuY3Rpb24gX2luaXRQb2NrZXQoKSB7CiAgICAgIHZhciBhID0gdGhpcy5vcHRpb25zOwogICAgICBhLmRvd24gJiYgYS5kb3duLmhhc093blByb3BlcnR5KCJjYWxsYmFjayIpICYmICh0aGlzLnRvcFBvY2tldCA9IHRoaXMuc2Nyb2xsZXIucXVlcnlTZWxlY3RvcigiLiIgKyBkKSwgdGhpcy50b3BQb2NrZXQgfHwgKHRoaXMudG9wUG9ja2V0ID0gdGhpcy5fY3JlYXRlUG9ja2V0KGQsIGEuZG93biwgcyksIHRoaXMud3JhcHBlci5pbnNlcnRCZWZvcmUodGhpcy50b3BQb2NrZXQsIHRoaXMud3JhcHBlci5maXJzdENoaWxkKSksIHRoaXMudG9wTG9hZGluZyA9IHRoaXMudG9wUG9ja2V0LnF1ZXJ5U2VsZWN0b3IoIi4iICsgZyksIHRoaXMudG9wQ2FwdGlvbiA9IHRoaXMudG9wUG9ja2V0LnF1ZXJ5U2VsZWN0b3IoIi4iICsgaCkpLCBhLnVwICYmIGEudXAuaGFzT3duUHJvcGVydHkoImNhbGxiYWNrIikgJiYgKHRoaXMuYm90dG9tUG9ja2V0ID0gdGhpcy5zY3JvbGxlci5xdWVyeVNlbGVjdG9yKCIuIiArIGUpLCB0aGlzLmJvdHRvbVBvY2tldCB8fCAodGhpcy5ib3R0b21Qb2NrZXQgPSB0aGlzLl9jcmVhdGVQb2NrZXQoZSwgYS51cCwgdCksIHRoaXMuc2Nyb2xsZXIuYXBwZW5kQ2hpbGQodGhpcy5ib3R0b21Qb2NrZXQpKSwgdGhpcy5ib3R0b21Mb2FkaW5nID0gdGhpcy5ib3R0b21Qb2NrZXQucXVlcnlTZWxlY3RvcigiLiIgKyBnKSwgdGhpcy5ib3R0b21DYXB0aW9uID0gdGhpcy5ib3R0b21Qb2NrZXQucXVlcnlTZWxlY3RvcigiLiIgKyBoKSwgdGhpcy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbGJvdHRvbSIsIHRoaXMpKTsKICAgIH0sCiAgICBfY3JlYXRlUG9ja2V0OiBmdW5jdGlvbiBfY3JlYXRlUG9ja2V0KGEsIGMsIGQpIHsKICAgICAgdmFyIGUgPSBiLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICByZXR1cm4gZS5jbGFzc05hbWUgPSBhLCBlLmlubmVySFRNTCA9IHUucmVwbGFjZSgie2NvbnRlbnRyZWZyZXNofSIsIGMuY29udGVudGluaXQpLnJlcGxhY2UoIntpY29ufSIsIGQpLCBlOwogICAgfSwKICAgIF9yZXNldFB1bGxEb3duTG9hZGluZzogZnVuY3Rpb24gX3Jlc2V0UHVsbERvd25Mb2FkaW5nKCkgewogICAgICB2YXIgYSA9IHRoaXMucHVsbExvYWRpbmc7CiAgICAgIGEgJiYgKHRoaXMucHVsbENhcHRpb24uaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmRvd24uY29udGVudGRvd24sIGEuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICIiLCBhLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICIiLCBhLnN0eWxlLndlYmtpdEFuaW1hdGlvbiA9ICIiLCBhLmNsYXNzTmFtZSA9IHMpOwogICAgfSwKICAgIF9zZXRDYXB0aW9uQ2xhc3M6IGZ1bmN0aW9uIF9zZXRDYXB0aW9uQ2xhc3MoYSwgYiwgYykgewogICAgICBpZiAoIWEpIHN3aXRjaCAoYykgewogICAgICAgIGNhc2UgdGhpcy5vcHRpb25zLnVwLmNvbnRlbnRkb3duOgogICAgICAgICAgYi5jbGFzc05hbWUgPSBoICsgIiAiICsgaTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIHRoaXMub3B0aW9ucy51cC5jb250ZW50cmVmcmVzaDoKICAgICAgICAgIGIuY2xhc3NOYW1lID0gaCArICIgIiArIGo7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMudXAuY29udGVudG5vbW9yZToKICAgICAgICAgIGIuY2xhc3NOYW1lID0gaCArICIgIiArIGs7CiAgICAgIH0KICAgIH0sCiAgICBfc2V0Q2FwdGlvbjogZnVuY3Rpb24gX3NldENhcHRpb24oYSwgYikgewogICAgICBpZiAoIXRoaXMubG9hZGluZykgewogICAgICAgIHZhciBjID0gdGhpcy5vcHRpb25zLAogICAgICAgICAgICBkID0gdGhpcy5wdWxsUG9ja2V0LAogICAgICAgICAgICBlID0gdGhpcy5wdWxsQ2FwdGlvbiwKICAgICAgICAgICAgZiA9IHRoaXMucHVsbExvYWRpbmcsCiAgICAgICAgICAgIGcgPSB0aGlzLnB1bGxkb3duLAogICAgICAgICAgICBoID0gdGhpczsKICAgICAgICBkICYmIChiID8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBlLmlubmVySFRNTCA9IGgubGFzdFRpdGxlID0gYSwgZyA/IGYuY2xhc3NOYW1lID0gcyA6IChoLl9zZXRDYXB0aW9uQ2xhc3MoITEsIGUsIGEpLCBmLmNsYXNzTmFtZSA9IHQpLCBmLnN0eWxlLndlYmtpdEFuaW1hdGlvbiA9ICIiLCBmLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSAiIiwgZi5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAiIjsKICAgICAgICB9LCAxMDApIDogYSAhPT0gdGhpcy5sYXN0VGl0bGUgJiYgKGUuaW5uZXJIVE1MID0gYSwgZyA/IGEgPT09IGMuZG93bi5jb250ZW50cmVmcmVzaCA/IChmLmNsYXNzTmFtZSA9IHQsIGYuc3R5bGUud2Via2l0QW5pbWF0aW9uID0gInNwaW5uZXItc3BpbiAxcyBzdGVwLWVuZCBpbmZpbml0ZSIpIDogYSA9PT0gYy5kb3duLmNvbnRlbnRvdmVyID8gKGYuY2xhc3NOYW1lID0gciwgZi5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gIi13ZWJraXQtdHJhbnNmb3JtIDAuM3MgZWFzZS1pbiIsIGYuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gInJvdGF0ZSgxODBkZWcpIikgOiBhID09PSBjLmRvd24uY29udGVudGRvd24gJiYgKGYuY2xhc3NOYW1lID0gcywgZi5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gIi13ZWJraXQtdHJhbnNmb3JtIDAuM3MgZWFzZS1pbiIsIGYuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gInJvdGF0ZSgwZGVnKSIpIDogKGEgPT09IGMudXAuY29udGVudHJlZnJlc2ggPyBmLmNsYXNzTmFtZSA9IHQgKyAiICIgKyBxIDogZi5jbGFzc05hbWUgPSB0ICsgIiAiICsgcCwgaC5fc2V0Q2FwdGlvbkNsYXNzKCExLCBlLCBhKSksIHRoaXMubGFzdFRpdGxlID0gYSkpOwogICAgICB9CiAgICB9CiAgfTsKICBhLlB1bGxSZWZyZXNoID0gdjsKfShtdWksIGRvY3VtZW50KSwgZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICB2YXIgZSA9ICJtdWktc2Nyb2xsIiwKICAgICAgZiA9ICJtdWktc2Nyb2xsYmFyIiwKICAgICAgZyA9ICJtdWktc2Nyb2xsYmFyLWluZGljYXRvciIsCiAgICAgIGggPSBmICsgIi12ZXJ0aWNhbCIsCiAgICAgIGkgPSBmICsgIi1ob3Jpem9udGFsIiwKICAgICAgaiA9ICJtdWktYWN0aXZlIiwKICAgICAgayA9IHsKICAgIHF1YWRyYXRpYzogewogICAgICBzdHlsZTogImN1YmljLWJlemllcigwLjI1LCAwLjQ2LCAwLjQ1LCAwLjk0KSIsCiAgICAgIGZuOiBmdW5jdGlvbiBmbihhKSB7CiAgICAgICAgcmV0dXJuIGEgKiAoMiAtIGEpOwogICAgICB9CiAgICB9LAogICAgY2lyY3VsYXI6IHsKICAgICAgc3R5bGU6ICJjdWJpYy1iZXppZXIoMC4xLCAwLjU3LCAwLjEsIDEpIiwKICAgICAgZm46IGZ1bmN0aW9uIGZuKGEpIHsKICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KDEgLSAtLWEgKiBhKTsKICAgICAgfQogICAgfSwKICAgIG91dENpcmM6IHsKICAgICAgc3R5bGU6ICJjdWJpYy1iZXppZXIoMC4wNzUsIDAuODIsIDAuMTY1LCAxKSIKICAgIH0sCiAgICBvdXRDdWJpYzogewogICAgICBzdHlsZTogImN1YmljLWJlemllcigwLjE2NSwgMC44NCwgMC40NCwgMSkiCiAgICB9CiAgfSwKICAgICAgbCA9IGEuQ2xhc3MuZXh0ZW5kKHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoYiwgYykgewogICAgICB0aGlzLndyYXBwZXIgPSB0aGlzLmVsZW1lbnQgPSBiLCB0aGlzLnNjcm9sbGVyID0gdGhpcy53cmFwcGVyLmNoaWxkcmVuWzBdLCB0aGlzLnNjcm9sbGVyU3R5bGUgPSB0aGlzLnNjcm9sbGVyICYmIHRoaXMuc2Nyb2xsZXIuc3R5bGUsIHRoaXMuc3RvcHBlZCA9ICExLCB0aGlzLm9wdGlvbnMgPSBhLmV4dGVuZCghMCwgewogICAgICAgIHNjcm9sbFk6ICEwLAogICAgICAgIHNjcm9sbFg6ICExLAogICAgICAgIHN0YXJ0WDogMCwKICAgICAgICBzdGFydFk6IDAsCiAgICAgICAgaW5kaWNhdG9yczogITAsCiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiAhMSwKICAgICAgICBoYXJkd2FyZUFjY2VsZXJhdGVkOiAhMCwKICAgICAgICBmaXhlZEJhZEFuZG9yaWQ6ICExLAogICAgICAgIHByZXZlbnREZWZhdWx0RXhjZXB0aW9uOiB7CiAgICAgICAgICB0YWdOYW1lOiAvXihJTlBVVHxURVhUQVJFQXxCVVRUT058U0VMRUNUfFZJREVPKSQvCiAgICAgICAgfSwKICAgICAgICBtb21lbnR1bTogITAsCiAgICAgICAgc25hcFg6IC41LAogICAgICAgIHNuYXA6ICExLAogICAgICAgIGJvdW5jZTogITAsCiAgICAgICAgYm91bmNlVGltZTogNTAwLAogICAgICAgIGJvdW5jZUVhc2luZzogay5vdXRDaXJjLAogICAgICAgIHNjcm9sbFRpbWU6IDUwMCwKICAgICAgICBzY3JvbGxFYXNpbmc6IGsub3V0Q3ViaWMsCiAgICAgICAgZGlyZWN0aW9uTG9ja1RocmVzaG9sZDogNSwKICAgICAgICBwYXJhbGxheEVsZW1lbnQ6ICExLAogICAgICAgIHBhcmFsbGF4UmF0aW86IC41CiAgICAgIH0sIGMpLCB0aGlzLnggPSAwLCB0aGlzLnkgPSAwLCB0aGlzLnRyYW5zbGF0ZVogPSB0aGlzLm9wdGlvbnMuaGFyZHdhcmVBY2NlbGVyYXRlZCA/ICIgdHJhbnNsYXRlWigwKSIgOiAiIiwgdGhpcy5faW5pdCgpLCB0aGlzLnNjcm9sbGVyICYmICh0aGlzLnJlZnJlc2goKSwgdGhpcy5zY3JvbGxUbyh0aGlzLm9wdGlvbnMuc3RhcnRYLCB0aGlzLm9wdGlvbnMuc3RhcnRZKSk7CiAgICB9LAogICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkgewogICAgICB0aGlzLl9pbml0UGFyYWxsYXgoKSwgdGhpcy5faW5pdEluZGljYXRvcnMoKSwgdGhpcy5faW5pdEV2ZW50KCk7CiAgICB9LAogICAgX2luaXRQYXJhbGxheDogZnVuY3Rpb24gX2luaXRQYXJhbGxheCgpIHsKICAgICAgdGhpcy5vcHRpb25zLnBhcmFsbGF4RWxlbWVudCAmJiAodGhpcy5wYXJhbGxheEVsZW1lbnQgPSBjLnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLnBhcmFsbGF4RWxlbWVudCksIHRoaXMucGFyYWxsYXhTdHlsZSA9IHRoaXMucGFyYWxsYXhFbGVtZW50LnN0eWxlLCB0aGlzLnBhcmFsbGF4SGVpZ2h0ID0gdGhpcy5wYXJhbGxheEVsZW1lbnQub2Zmc2V0SGVpZ2h0LCB0aGlzLnBhcmFsbGF4SW1nU3R5bGUgPSB0aGlzLnBhcmFsbGF4RWxlbWVudC5xdWVyeVNlbGVjdG9yKCJpbWciKS5zdHlsZSk7CiAgICB9LAogICAgX2luaXRJbmRpY2F0b3JzOiBmdW5jdGlvbiBfaW5pdEluZGljYXRvcnMoKSB7CiAgICAgIHZhciBhID0gdGhpczsKCiAgICAgIGlmIChhLmluZGljYXRvcnMgPSBbXSwgdGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHsKICAgICAgICB2YXIgYiwKICAgICAgICAgICAgYyA9IFtdOwogICAgICAgIGEub3B0aW9ucy5zY3JvbGxZICYmIChiID0gewogICAgICAgICAgZWw6IHRoaXMuX2NyZWF0ZVNjcm9sbEJhcihoKSwKICAgICAgICAgIGxpc3Rlblg6ICExCiAgICAgICAgfSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGIuZWwpLCBjLnB1c2goYikpLCB0aGlzLm9wdGlvbnMuc2Nyb2xsWCAmJiAoYiA9IHsKICAgICAgICAgIGVsOiB0aGlzLl9jcmVhdGVTY3JvbGxCYXIoaSksCiAgICAgICAgICBsaXN0ZW5ZOiAhMQogICAgICAgIH0sIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChiLmVsKSwgYy5wdXNoKGIpKTsKCiAgICAgICAgZm9yICh2YXIgZCA9IGMubGVuZ3RoOyBkLS07KSB7CiAgICAgICAgICB0aGlzLmluZGljYXRvcnMucHVzaChuZXcgbSh0aGlzLCBjW2RdKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgX2luaXRTbmFwOiBmdW5jdGlvbiBfaW5pdFNuYXAoKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB7fSwgdGhpcy5wYWdlcyA9IFtdOwoKICAgICAgZm9yICh2YXIgYSA9IHRoaXMuc25hcHMsIGIgPSBhLmxlbmd0aCwgYyA9IDAsIGQgPSAtMSwgZSA9IDAsIGYgPSAwLCBnID0gMCwgaCA9IDAsIGkgPSAwOyBpIDwgYjsgaSsrKSB7CiAgICAgICAgdmFyIGsgPSBhW2ldLAogICAgICAgICAgICBsID0gay5vZmZzZXRMZWZ0LAogICAgICAgICAgICBtID0gay5vZmZzZXRXaWR0aDsKICAgICAgICAoMCA9PT0gaSB8fCBsIDw9IGFbaSAtIDFdLm9mZnNldExlZnQpICYmIChjID0gMCwgZCsrKSwgdGhpcy5wYWdlc1tjXSB8fCAodGhpcy5wYWdlc1tjXSA9IFtdKSwgZSA9IHRoaXMuX2dldFNuYXBYKGwpLCBoID0gTWF0aC5yb3VuZChtICogdGhpcy5vcHRpb25zLnNuYXBYKSwgZiA9IGUgLSBoLCBnID0gZSAtIG0gKyBoLCB0aGlzLnBhZ2VzW2NdW2RdID0gewogICAgICAgICAgeDogZSwKICAgICAgICAgIGxlZnRYOiBmLAogICAgICAgICAgcmlnaHRYOiBnLAogICAgICAgICAgcGFnZVg6IGMsCiAgICAgICAgICBlbGVtZW50OiBrCiAgICAgICAgfSwgay5jbGFzc0xpc3QuY29udGFpbnMoaikgJiYgKHRoaXMuY3VycmVudFBhZ2UgPSB0aGlzLnBhZ2VzW2NdWzBdKSwgZSA+PSB0aGlzLm1heFNjcm9sbFggJiYgYysrOwogICAgICB9CgogICAgICB0aGlzLm9wdGlvbnMuc3RhcnRYID0gdGhpcy5jdXJyZW50UGFnZS54IHx8IDA7CiAgICB9LAogICAgX2dldFNuYXBYOiBmdW5jdGlvbiBfZ2V0U25hcFgoYSkgewogICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oMCwgLWEgKyB0aGlzLndyYXBwZXJXaWR0aCAvIDIpLCB0aGlzLm1heFNjcm9sbFgpOwogICAgfSwKICAgIF9nb3RvUGFnZTogZnVuY3Rpb24gX2dvdG9QYWdlKGEpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHRoaXMucGFnZXNbTWF0aC5taW4oYSwgdGhpcy5wYWdlcy5sZW5ndGggLSAxKV1bMF07CgogICAgICBmb3IgKHZhciBiID0gMCwgYyA9IHRoaXMuc25hcHMubGVuZ3RoOyBiIDwgYzsgYisrKSB7CiAgICAgICAgYiA9PT0gYSA/IHRoaXMuc25hcHNbYl0uY2xhc3NMaXN0LmFkZChqKSA6IHRoaXMuc25hcHNbYl0uY2xhc3NMaXN0LnJlbW92ZShqKTsKICAgICAgfQoKICAgICAgdGhpcy5zY3JvbGxUbyh0aGlzLmN1cnJlbnRQYWdlLngsIDAsIHRoaXMub3B0aW9ucy5zY3JvbGxUaW1lKTsKICAgIH0sCiAgICBfbmVhcmVzdFNuYXA6IGZ1bmN0aW9uIF9uZWFyZXN0U25hcChhKSB7CiAgICAgIGlmICghdGhpcy5wYWdlcy5sZW5ndGgpIHJldHVybiB7CiAgICAgICAgeDogMCwKICAgICAgICBwYWdlWDogMAogICAgICB9OwogICAgICB2YXIgYiA9IDAsCiAgICAgICAgICBjID0gdGhpcy5wYWdlcy5sZW5ndGg7CgogICAgICBmb3IgKGEgPiAwID8gYSA9IDAgOiBhIDwgdGhpcy5tYXhTY3JvbGxYICYmIChhID0gdGhpcy5tYXhTY3JvbGxYKTsgYiA8IGM7IGIrKykgewogICAgICAgIGlmIChhID49ICgibGVmdCIgPT09IHRoaXMuZGlyZWN0aW9uID8gdGhpcy5wYWdlc1tiXVswXS5sZWZ0WCA6IHRoaXMucGFnZXNbYl1bMF0ucmlnaHRYKSkgcmV0dXJuIHRoaXMucGFnZXNbYl1bMF07CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgeDogMCwKICAgICAgICBwYWdlWDogMAogICAgICB9OwogICAgfSwKICAgIF9pbml0RXZlbnQ6IGZ1bmN0aW9uIF9pbml0RXZlbnQoYykgewogICAgICB2YXIgZCA9IGMgPyAicmVtb3ZlRXZlbnRMaXN0ZW5lciIgOiAiYWRkRXZlbnRMaXN0ZW5lciI7CiAgICAgIGJbZF0oIm9yaWVudGF0aW9uY2hhbmdlIiwgdGhpcyksIGJbZF0oInJlc2l6ZSIsIHRoaXMpLCB0aGlzLnNjcm9sbGVyW2RdKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgdGhpcyksIHRoaXMud3JhcHBlcltkXShhLkVWRU5UX1NUQVJULCB0aGlzKSwgdGhpcy53cmFwcGVyW2RdKGEuRVZFTlRfQ0FOQ0VMLCB0aGlzKSwgdGhpcy53cmFwcGVyW2RdKGEuRVZFTlRfRU5ELCB0aGlzKSwgdGhpcy53cmFwcGVyW2RdKCJkcmFnIiwgdGhpcyksIHRoaXMud3JhcHBlcltkXSgiZHJhZ2VuZCIsIHRoaXMpLCB0aGlzLndyYXBwZXJbZF0oImZsaWNrIiwgdGhpcyksIHRoaXMud3JhcHBlcltkXSgic2Nyb2xsZW5kIiwgdGhpcyksIHRoaXMub3B0aW9ucy5zY3JvbGxYICYmIHRoaXMud3JhcHBlcltkXSgic3dpcGVyaWdodCIsIHRoaXMpOwogICAgICB2YXIgZSA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKCIubXVpLXNlZ21lbnRlZC1jb250cm9sIik7CiAgICAgIGUgJiYgbXVpKGUpW2MgPyAib2ZmIiA6ICJvbiJdKCJjbGljayIsICJhIiwgYS5wcmV2ZW50RGVmYXVsdCksIHRoaXMud3JhcHBlcltkXSgic2Nyb2xsc3RhcnQiLCB0aGlzKSwgdGhpcy53cmFwcGVyW2RdKCJyZWZyZXNoIiwgdGhpcyk7CiAgICB9LAogICAgX2hhbmRsZUluZGljYXRvclNjcm9sbGVuZDogZnVuY3Rpb24gX2hhbmRsZUluZGljYXRvclNjcm9sbGVuZCgpIHsKICAgICAgdGhpcy5pbmRpY2F0b3JzLm1hcChmdW5jdGlvbiAoYSkgewogICAgICAgIGEuZmFkZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBfaGFuZGxlSW5kaWNhdG9yU2Nyb2xsc3RhcnQ6IGZ1bmN0aW9uIF9oYW5kbGVJbmRpY2F0b3JTY3JvbGxzdGFydCgpIHsKICAgICAgdGhpcy5pbmRpY2F0b3JzLm1hcChmdW5jdGlvbiAoYSkgewogICAgICAgIGEuZmFkZSgxKTsKICAgICAgfSk7CiAgICB9LAogICAgX2hhbmRsZUluZGljYXRvclJlZnJlc2g6IGZ1bmN0aW9uIF9oYW5kbGVJbmRpY2F0b3JSZWZyZXNoKCkgewogICAgICB0aGlzLmluZGljYXRvcnMubWFwKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgYS5yZWZyZXNoKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUV2ZW50OiBmdW5jdGlvbiBoYW5kbGVFdmVudChiKSB7CiAgICAgIGlmICh0aGlzLnN0b3BwZWQpIHJldHVybiB2b2lkIHRoaXMucmVzZXRQb3NpdGlvbigpOwoKICAgICAgc3dpdGNoIChiLnR5cGUpIHsKICAgICAgICBjYXNlIGEuRVZFTlRfU1RBUlQ6CiAgICAgICAgICB0aGlzLl9zdGFydChiKTsKCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZHJhZyI6CiAgICAgICAgICB0aGlzLm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uICYmIGIuc3RvcFByb3BhZ2F0aW9uKCksIHRoaXMuX2RyYWcoYik7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZHJhZ2VuZCI6CiAgICAgICAgY2FzZSAiZmxpY2siOgogICAgICAgICAgdGhpcy5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbiAmJiBiLnN0b3BQcm9wYWdhdGlvbigpLCB0aGlzLl9mbGljayhiKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIGEuRVZFTlRfQ0FOQ0VMOgogICAgICAgIGNhc2UgYS5FVkVOVF9FTkQ6CiAgICAgICAgICB0aGlzLl9lbmQoYik7CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIndlYmtpdFRyYW5zaXRpb25FbmQiOgogICAgICAgICAgdGhpcy50cmFuc2l0aW9uVGltZXIgJiYgdGhpcy50cmFuc2l0aW9uVGltZXIuY2FuY2VsKCksIHRoaXMuX3RyYW5zaXRpb25FbmQoYik7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAic2Nyb2xsc3RhcnQiOgogICAgICAgICAgdGhpcy5faGFuZGxlSW5kaWNhdG9yU2Nyb2xsc3RhcnQoYik7CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInNjcm9sbGVuZCI6CiAgICAgICAgICB0aGlzLl9oYW5kbGVJbmRpY2F0b3JTY3JvbGxlbmQoYiksIHRoaXMuX3Njcm9sbGVuZChiKSwgYi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJvcmllbnRhdGlvbmNoYW5nZSI6CiAgICAgICAgY2FzZSAicmVzaXplIjoKICAgICAgICAgIHRoaXMuX3Jlc2l6ZSgpOwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJzd2lwZXJpZ2h0IjoKICAgICAgICAgIGIuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicmVmcmVzaCI6CiAgICAgICAgICB0aGlzLl9oYW5kbGVJbmRpY2F0b3JSZWZyZXNoKGIpOwoKICAgICAgfQogICAgfSwKICAgIF9zdGFydDogZnVuY3Rpb24gX3N0YXJ0KGIpIHsKICAgICAgaWYgKHRoaXMubW92ZWQgPSB0aGlzLm5lZWRSZXNldCA9ICExLCB0aGlzLl90cmFuc2l0aW9uVGltZSgpLCB0aGlzLmlzSW5UcmFuc2l0aW9uKSB7CiAgICAgICAgdGhpcy5uZWVkUmVzZXQgPSAhMCwgdGhpcy5pc0luVHJhbnNpdGlvbiA9ICExOwogICAgICAgIHZhciBjID0gYS5wYXJzZVRyYW5zbGF0ZU1hdHJpeChhLmdldFN0eWxlcyh0aGlzLnNjcm9sbGVyLCAid2Via2l0VHJhbnNmb3JtIikpOwogICAgICAgIHRoaXMuc2V0VHJhbnNsYXRlKE1hdGgucm91bmQoYy54KSwgTWF0aC5yb3VuZChjLnkpKSwgYS50cmlnZ2VyKHRoaXMuc2Nyb2xsZXIsICJzY3JvbGxlbmQiLCB0aGlzKSwgYi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CgogICAgICB0aGlzLnJlTGF5b3V0KCksIGEudHJpZ2dlcih0aGlzLnNjcm9sbGVyLCAiYmVmb3Jlc2Nyb2xsc3RhcnQiLCB0aGlzKTsKICAgIH0sCiAgICBfZ2V0RGlyZWN0aW9uQnlBbmdsZTogZnVuY3Rpb24gX2dldERpcmVjdGlvbkJ5QW5nbGUoYSkgewogICAgICByZXR1cm4gYSA8IC04MCAmJiBhID4gLTEwMCA/ICJ1cCIgOiBhID49IDgwICYmIGEgPCAxMDAgPyAiZG93biIgOiBhID49IDE3MCB8fCBhIDw9IC0xNzAgPyAibGVmdCIgOiBhID49IC0zNSAmJiBhIDw9IDEwID8gInJpZ2h0IiA6IG51bGw7CiAgICB9LAogICAgX2RyYWc6IGZ1bmN0aW9uIF9kcmFnKGMpIHsKICAgICAgdmFyIGQgPSBjLmRldGFpbDsKCiAgICAgIGlmICgodGhpcy5vcHRpb25zLnNjcm9sbFkgfHwgInVwIiA9PT0gZC5kaXJlY3Rpb24gfHwgImRvd24iID09PSBkLmRpcmVjdGlvbikgJiYgYS5vcy5pb3MgJiYgcGFyc2VGbG9hdChhLm9zLnZlcnNpb24pID49IDgpIHsKICAgICAgICB2YXIgZSA9IGQuZ2VzdHVyZS50b3VjaGVzWzBdLmNsaWVudFk7CiAgICAgICAgaWYgKGUgKyAxMCA+IGIuaW5uZXJIZWlnaHQgfHwgZSA8IDEwKSByZXR1cm4gdm9pZCB0aGlzLnJlc2V0UG9zaXRpb24odGhpcy5vcHRpb25zLmJvdW5jZVRpbWUpOwogICAgICB9CgogICAgICB2YXIgZiA9IGlzUmV0dXJuID0gITE7CgogICAgICB0aGlzLl9nZXREaXJlY3Rpb25CeUFuZ2xlKGQuYW5nbGUpOwoKICAgICAgaWYgKCJsZWZ0IiA9PT0gZC5kaXJlY3Rpb24gfHwgInJpZ2h0IiA9PT0gZC5kaXJlY3Rpb24gPyB0aGlzLm9wdGlvbnMuc2Nyb2xsWCA/IChmID0gITAsIHRoaXMubW92ZWQgfHwgKGEuZ2VzdHVyZXMuc2Vzc2lvbi5sb2NrRGlyZWN0aW9uID0gITAsIGEuZ2VzdHVyZXMuc2Vzc2lvbi5zdGFydERpcmVjdGlvbiA9IGQuZGlyZWN0aW9uKSkgOiB0aGlzLm9wdGlvbnMuc2Nyb2xsWSAmJiAhdGhpcy5tb3ZlZCAmJiAoaXNSZXR1cm4gPSAhMCkgOiAidXAiID09PSBkLmRpcmVjdGlvbiB8fCAiZG93biIgPT09IGQuZGlyZWN0aW9uID8gdGhpcy5vcHRpb25zLnNjcm9sbFkgPyAoZiA9ICEwLCB0aGlzLm1vdmVkIHx8IChhLmdlc3R1cmVzLnNlc3Npb24ubG9ja0RpcmVjdGlvbiA9ICEwLCBhLmdlc3R1cmVzLnNlc3Npb24uc3RhcnREaXJlY3Rpb24gPSBkLmRpcmVjdGlvbikpIDogdGhpcy5vcHRpb25zLnNjcm9sbFggJiYgIXRoaXMubW92ZWQgJiYgKGlzUmV0dXJuID0gITApIDogaXNSZXR1cm4gPSAhMCwgKHRoaXMubW92ZWQgfHwgZikgJiYgKGMuc3RvcFByb3BhZ2F0aW9uKCksIGQuZ2VzdHVyZSAmJiBkLmdlc3R1cmUucHJldmVudERlZmF1bHQoKSksICFpc1JldHVybikgewogICAgICAgIHRoaXMubW92ZWQgPyBjLnN0b3BQcm9wYWdhdGlvbigpIDogYS50cmlnZ2VyKHRoaXMuc2Nyb2xsZXIsICJzY3JvbGxzdGFydCIsIHRoaXMpOwogICAgICAgIHZhciBnID0gMCwKICAgICAgICAgICAgaCA9IDA7CiAgICAgICAgdGhpcy5tb3ZlZCA/IChnID0gZC5kZWx0YVggLSBhLmdlc3R1cmVzLnNlc3Npb24ucHJldlRvdWNoLmRlbHRhWCwgaCA9IGQuZGVsdGFZIC0gYS5nZXN0dXJlcy5zZXNzaW9uLnByZXZUb3VjaC5kZWx0YVkpIDogKGcgPSBkLmRlbHRhWCwgaCA9IGQuZGVsdGFZKTsKICAgICAgICB2YXIgaSA9IE1hdGguYWJzKGQuZGVsdGFYKSwKICAgICAgICAgICAgaiA9IE1hdGguYWJzKGQuZGVsdGFZKTsKICAgICAgICBpID4gaiArIHRoaXMub3B0aW9ucy5kaXJlY3Rpb25Mb2NrVGhyZXNob2xkID8gaCA9IDAgOiBqID49IGkgKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCAmJiAoZyA9IDApLCBnID0gdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsID8gZyA6IDAsIGggPSB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsID8gaCA6IDA7CiAgICAgICAgdmFyIGsgPSB0aGlzLnggKyBnLAogICAgICAgICAgICBsID0gdGhpcy55ICsgaDsKICAgICAgICAoayA+IDAgfHwgayA8IHRoaXMubWF4U2Nyb2xsWCkgJiYgKGsgPSB0aGlzLm9wdGlvbnMuYm91bmNlID8gdGhpcy54ICsgZyAvIDMgOiBrID4gMCA/IDAgOiB0aGlzLm1heFNjcm9sbFgpLCAobCA+IDAgfHwgbCA8IHRoaXMubWF4U2Nyb2xsWSkgJiYgKGwgPSB0aGlzLm9wdGlvbnMuYm91bmNlID8gdGhpcy55ICsgaCAvIDMgOiBsID4gMCA/IDAgOiB0aGlzLm1heFNjcm9sbFkpLCB0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB0aGlzLl91cGRhdGVUcmFuc2xhdGUoKSwgdGhpcy5kaXJlY3Rpb24gPSBkLmRlbHRhWCA+IDAgPyAicmlnaHQiIDogImxlZnQiLCB0aGlzLm1vdmVkID0gITAsIHRoaXMueCA9IGssIHRoaXMueSA9IGwsIGEudHJpZ2dlcih0aGlzLnNjcm9sbGVyLCAic2Nyb2xsIiwgdGhpcyk7CiAgICAgIH0KICAgIH0sCiAgICBfZmxpY2s6IGZ1bmN0aW9uIF9mbGljayhiKSB7CiAgICAgIGlmICh0aGlzLm1vdmVkKSB7CiAgICAgICAgYi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB2YXIgYyA9IGIuZGV0YWlsOwoKICAgICAgICBpZiAodGhpcy5fY2xlYXJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSwgImRyYWdlbmQiICE9PSBiLnR5cGUgfHwgIWMuZmxpY2spIHsKICAgICAgICAgIHZhciBkID0gTWF0aC5yb3VuZCh0aGlzLngpLAogICAgICAgICAgICAgIGUgPSBNYXRoLnJvdW5kKHRoaXMueSk7CgogICAgICAgICAgaWYgKHRoaXMuaXNJblRyYW5zaXRpb24gPSAhMSwgIXRoaXMucmVzZXRQb3NpdGlvbih0aGlzLm9wdGlvbnMuYm91bmNlVGltZSkpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG8oZCwgZSksICJkcmFnZW5kIiA9PT0gYi50eXBlKSByZXR1cm4gdm9pZCBhLnRyaWdnZXIodGhpcy5zY3JvbGxlciwgInNjcm9sbGVuZCIsIHRoaXMpOwogICAgICAgICAgICB2YXIgZiA9IDAsCiAgICAgICAgICAgICAgICBnID0gIiI7CiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubW9tZW50dW0gJiYgYy5mbGlja1RpbWUgPCAzMDAgJiYgKG1vbWVudHVtWCA9IHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IHRoaXMuX21vbWVudHVtKHRoaXMueCwgYy5mbGlja0Rpc3RhbmNlWCwgYy5mbGlja1RpbWUsIHRoaXMubWF4U2Nyb2xsWCwgdGhpcy5vcHRpb25zLmJvdW5jZSA/IHRoaXMud3JhcHBlcldpZHRoIDogMCwgdGhpcy5vcHRpb25zLmRlY2VsZXJhdGlvbikgOiB7CiAgICAgICAgICAgICAgZGVzdGluYXRpb246IGQsCiAgICAgICAgICAgICAgZHVyYXRpb246IDAKICAgICAgICAgICAgfSwgbW9tZW50dW1ZID0gdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IHRoaXMuX21vbWVudHVtKHRoaXMueSwgYy5mbGlja0Rpc3RhbmNlWSwgYy5mbGlja1RpbWUsIHRoaXMubWF4U2Nyb2xsWSwgdGhpcy5vcHRpb25zLmJvdW5jZSA/IHRoaXMud3JhcHBlckhlaWdodCA6IDAsIHRoaXMub3B0aW9ucy5kZWNlbGVyYXRpb24pIDogewogICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBlLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAwCiAgICAgICAgICAgIH0sIGQgPSBtb21lbnR1bVguZGVzdGluYXRpb24sIGUgPSBtb21lbnR1bVkuZGVzdGluYXRpb24sIGYgPSBNYXRoLm1heChtb21lbnR1bVguZHVyYXRpb24sIG1vbWVudHVtWS5kdXJhdGlvbiksIHRoaXMuaXNJblRyYW5zaXRpb24gPSAhMCksIGQgIT0gdGhpcy54IHx8IGUgIT0gdGhpcy55KSByZXR1cm4gKGQgPiAwIHx8IGQgPCB0aGlzLm1heFNjcm9sbFggfHwgZSA+IDAgfHwgZSA8IHRoaXMubWF4U2Nyb2xsWSkgJiYgKGcgPSBrLnF1YWRyYXRpYyksIHZvaWQgdGhpcy5zY3JvbGxUbyhkLCBlLCBmLCBnKTsKICAgICAgICAgICAgYS50cmlnZ2VyKHRoaXMuc2Nyb2xsZXIsICJzY3JvbGxlbmQiLCB0aGlzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBfZW5kOiBmdW5jdGlvbiBfZW5kKGIpIHsKICAgICAgdGhpcy5uZWVkUmVzZXQgPSAhMSwgKCF0aGlzLm1vdmVkICYmIHRoaXMubmVlZFJlc2V0IHx8IGIudHlwZSA9PT0gYS5FVkVOVF9DQU5DRUwpICYmIHRoaXMucmVzZXRQb3NpdGlvbigpOwogICAgfSwKICAgIF90cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBfdHJhbnNpdGlvbkVuZChiKSB7CiAgICAgIGIudGFyZ2V0ID09IHRoaXMuc2Nyb2xsZXIgJiYgdGhpcy5pc0luVHJhbnNpdGlvbiAmJiAodGhpcy5fdHJhbnNpdGlvblRpbWUoKSwgdGhpcy5yZXNldFBvc2l0aW9uKHRoaXMub3B0aW9ucy5ib3VuY2VUaW1lKSB8fCAodGhpcy5pc0luVHJhbnNpdGlvbiA9ICExLCBhLnRyaWdnZXIodGhpcy5zY3JvbGxlciwgInNjcm9sbGVuZCIsIHRoaXMpKSk7CiAgICB9LAogICAgX3Njcm9sbGVuZDogZnVuY3Rpb24gX3Njcm9sbGVuZChiKSB7CiAgICAgICgwID09PSB0aGlzLnkgJiYgMCA9PT0gdGhpcy5tYXhTY3JvbGxZIHx8IE1hdGguYWJzKHRoaXMueSkgPiAwICYmIHRoaXMueSA8PSB0aGlzLm1heFNjcm9sbFkpICYmIGEudHJpZ2dlcih0aGlzLnNjcm9sbGVyLCAic2Nyb2xsYm90dG9tIiwgdGhpcyk7CiAgICB9LAogICAgX3Jlc2l6ZTogZnVuY3Rpb24gX3Jlc2l6ZSgpIHsKICAgICAgdmFyIGEgPSB0aGlzOwogICAgICBjbGVhclRpbWVvdXQoYS5yZXNpemVUaW1lb3V0KSwgYS5yZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgYS5yZWZyZXNoKCk7CiAgICAgIH0sIGEub3B0aW9ucy5yZXNpemVQb2xsaW5nKTsKICAgIH0sCiAgICBfdHJhbnNpdGlvblRpbWU6IGZ1bmN0aW9uIF90cmFuc2l0aW9uVGltZShiKSB7CiAgICAgIGlmIChiID0gYiB8fCAwLCB0aGlzLnNjcm9sbGVyU3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gYiArICJtcyIsIHRoaXMucGFyYWxsYXhFbGVtZW50ICYmIHRoaXMub3B0aW9ucy5zY3JvbGxZICYmICh0aGlzLnBhcmFsbGF4U3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gYiArICJtcyIpLCB0aGlzLm9wdGlvbnMuZml4ZWRCYWRBbmRvcmlkICYmICFiICYmIGEub3MuaXNCYWRBbmRyb2lkICYmICh0aGlzLnNjcm9sbGVyU3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gIjAuMDAxcyIsIHRoaXMucGFyYWxsYXhFbGVtZW50ICYmIHRoaXMub3B0aW9ucy5zY3JvbGxZICYmICh0aGlzLnBhcmFsbGF4U3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gIjAuMDAxcyIpKSwgdGhpcy5pbmRpY2F0b3JzKSBmb3IgKHZhciBjID0gdGhpcy5pbmRpY2F0b3JzLmxlbmd0aDsgYy0tOykgewogICAgICAgIHRoaXMuaW5kaWNhdG9yc1tjXS50cmFuc2l0aW9uVGltZShiKTsKICAgICAgfQogICAgICBiICYmICh0aGlzLnRyYW5zaXRpb25UaW1lciAmJiB0aGlzLnRyYW5zaXRpb25UaW1lci5jYW5jZWwoKSwgdGhpcy50cmFuc2l0aW9uVGltZXIgPSBhLmxhdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgICBhLnRyaWdnZXIodGhpcy5zY3JvbGxlciwgIndlYmtpdFRyYW5zaXRpb25FbmQiKTsKICAgICAgfSwgYiArIDEwMCwgdGhpcykpOwogICAgfSwKICAgIF90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGZ1bmN0aW9uIF90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24oYSkgewogICAgICBpZiAodGhpcy5zY3JvbGxlclN0eWxlLndlYmtpdFRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IGEsIHRoaXMucGFyYWxsYXhFbGVtZW50ICYmIHRoaXMub3B0aW9ucy5zY3JvbGxZICYmICh0aGlzLnBhcmFsbGF4U3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gYSksIHRoaXMuaW5kaWNhdG9ycykgZm9yICh2YXIgYiA9IHRoaXMuaW5kaWNhdG9ycy5sZW5ndGg7IGItLTspIHsKICAgICAgICB0aGlzLmluZGljYXRvcnNbYl0udHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uKGEpOwogICAgICB9CiAgICB9LAogICAgX3RyYW5zbGF0ZTogZnVuY3Rpb24gX3RyYW5zbGF0ZShhLCBiKSB7CiAgICAgIHRoaXMueCA9IGEsIHRoaXMueSA9IGI7CiAgICB9LAogICAgX2NsZWFyUmVxdWVzdEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiBfY2xlYXJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSB7CiAgICAgIHRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIChjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSksIHRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gbnVsbCk7CiAgICB9LAogICAgX3VwZGF0ZVRyYW5zbGF0ZTogZnVuY3Rpb24gX3VwZGF0ZVRyYW5zbGF0ZSgpIHsKICAgICAgdmFyIGEgPSB0aGlzOwogICAgICBhLnggPT09IGEubGFzdFggJiYgYS55ID09PSBhLmxhc3RZIHx8IGEuc2V0VHJhbnNsYXRlKGEueCwgYS55KSwgYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgIGEuX3VwZGF0ZVRyYW5zbGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBfY3JlYXRlU2Nyb2xsQmFyOiBmdW5jdGlvbiBfY3JlYXRlU2Nyb2xsQmFyKGEpIHsKICAgICAgdmFyIGIgPSBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgICAgZCA9IGMuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHJldHVybiBiLmNsYXNzTmFtZSA9IGYgKyAiICIgKyBhLCBkLmNsYXNzTmFtZSA9IGcsIGIuYXBwZW5kQ2hpbGQoZCksIGEgPT09IGggPyAodGhpcy5zY3JvbGxiYXJZID0gYiwgdGhpcy5zY3JvbGxiYXJJbmRpY2F0b3JZID0gZCkgOiBhID09PSBpICYmICh0aGlzLnNjcm9sbGJhclggPSBiLCB0aGlzLnNjcm9sbGJhckluZGljYXRvclggPSBkKSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGIpLCBiOwogICAgfSwKICAgIF9wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbjogZnVuY3Rpb24gX3ByZXZlbnREZWZhdWx0RXhjZXB0aW9uKGEsIGIpIHsKICAgICAgZm9yICh2YXIgYyBpbiBiKSB7CiAgICAgICAgaWYgKGJbY10udGVzdChhW2NdKSkgcmV0dXJuICEwOwogICAgICB9CgogICAgICByZXR1cm4gITE7CiAgICB9LAogICAgX3JlTGF5b3V0OiBmdW5jdGlvbiBfcmVMYXlvdXQoKSB7CiAgICAgIGlmICh0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgfHwgKHRoaXMubWF4U2Nyb2xsWCA9IDAsIHRoaXMuc2Nyb2xsZXJXaWR0aCA9IHRoaXMud3JhcHBlcldpZHRoKSwgdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCB8fCAodGhpcy5tYXhTY3JvbGxZID0gMCwgdGhpcy5zY3JvbGxlckhlaWdodCA9IHRoaXMud3JhcHBlckhlaWdodCksIHRoaXMuaW5kaWNhdG9ycy5tYXAoZnVuY3Rpb24gKGEpIHsKICAgICAgICBhLnJlZnJlc2goKTsKICAgICAgfSksIHRoaXMub3B0aW9ucy5zbmFwICYmICJzdHJpbmciID09IHR5cGVvZiB0aGlzLm9wdGlvbnMuc25hcCkgewogICAgICAgIHZhciBhID0gdGhpcy5zY3JvbGxlci5xdWVyeVNlbGVjdG9yQWxsKHRoaXMub3B0aW9ucy5zbmFwKTsKICAgICAgICB0aGlzLml0ZW1MZW5ndGggPSAwLCB0aGlzLnNuYXBzID0gW107CgogICAgICAgIGZvciAodmFyIGIgPSAwLCBjID0gYS5sZW5ndGg7IGIgPCBjOyBiKyspIHsKICAgICAgICAgIHZhciBkID0gYVtiXTsKICAgICAgICAgIGQucGFyZW50Tm9kZSA9PT0gdGhpcy5zY3JvbGxlciAmJiAodGhpcy5pdGVtTGVuZ3RoKyssIHRoaXMuc25hcHMucHVzaChkKSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9pbml0U25hcCgpOwogICAgICB9CiAgICB9LAogICAgX21vbWVudHVtOiBmdW5jdGlvbiBfbW9tZW50dW0oYSwgYiwgYywgZSwgZiwgZykgewogICAgICB2YXIgaCwKICAgICAgICAgIGksCiAgICAgICAgICBqID0gcGFyc2VGbG9hdChNYXRoLmFicyhiKSAvIGMpOwogICAgICByZXR1cm4gZyA9IGcgPT09IGQgPyA2ZS00IDogZywgaCA9IGEgKyBqICogaiAvICgyICogZykgKiAoYiA8IDAgPyAtMSA6IDEpLCBpID0gaiAvIGcsIGggPCBlID8gKGggPSBmID8gZSAtIGYgLyAyLjUgKiAoaiAvIDgpIDogZSwgYiA9IE1hdGguYWJzKGggLSBhKSwgaSA9IGIgLyBqKSA6IGggPiAwICYmIChoID0gZiA/IGYgLyAyLjUgKiAoaiAvIDgpIDogMCwgYiA9IE1hdGguYWJzKGEpICsgaCwgaSA9IGIgLyBqKSwgewogICAgICAgIGRlc3RpbmF0aW9uOiBNYXRoLnJvdW5kKGgpLAogICAgICAgIGR1cmF0aW9uOiBpCiAgICAgIH07CiAgICB9LAogICAgX2dldFRyYW5zbGF0ZVN0cjogZnVuY3Rpb24gX2dldFRyYW5zbGF0ZVN0cihhLCBiKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaGFyZHdhcmVBY2NlbGVyYXRlZCA/ICJ0cmFuc2xhdGUzZCgiICsgYSArICJweCwiICsgYiArICJweCwwcHgpICIgKyB0aGlzLnRyYW5zbGF0ZVogOiAidHJhbnNsYXRlKCIgKyBhICsgInB4LCIgKyBiICsgInB4KSAiOwogICAgfSwKICAgIHNldFN0b3BwZWQ6IGZ1bmN0aW9uIHNldFN0b3BwZWQoYSkgewogICAgICBhID8gKHRoaXMuZGlzYWJsZVB1bGx1cFRvUmVmcmVzaCgpLCB0aGlzLmRpc2FibGVQdWxsZG93blRvUmVmcmVzaCgpKSA6ICh0aGlzLmVuYWJsZVB1bGx1cFRvUmVmcmVzaCgpLCB0aGlzLmVuYWJsZVB1bGxkb3duVG9SZWZyZXNoKCkpOwogICAgfSwKICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKGIsIGMpIHsKICAgICAgaWYgKHRoaXMueCA9IGIsIHRoaXMueSA9IGMsIHRoaXMuc2Nyb2xsZXJTdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB0aGlzLl9nZXRUcmFuc2xhdGVTdHIoYiwgYyksIHRoaXMucGFyYWxsYXhFbGVtZW50ICYmIHRoaXMub3B0aW9ucy5zY3JvbGxZKSB7CiAgICAgICAgdmFyIGQgPSBjICogdGhpcy5vcHRpb25zLnBhcmFsbGF4UmF0aW8sCiAgICAgICAgICAgIGUgPSAxICsgZCAvICgodGhpcy5wYXJhbGxheEhlaWdodCAtIGQpIC8gMik7CiAgICAgICAgZSA+IDEgPyAodGhpcy5wYXJhbGxheEltZ1N0eWxlLm9wYWNpdHkgPSAxIC0gZCAvIDEwMCAqIHRoaXMub3B0aW9ucy5wYXJhbGxheFJhdGlvLCB0aGlzLnBhcmFsbGF4U3R5bGUud2Via2l0VHJhbnNmb3JtID0gdGhpcy5fZ2V0VHJhbnNsYXRlU3RyKDAsIC1kKSArICIgc2NhbGUoIiArIGUgKyAiLCIgKyBlICsgIikiKSA6ICh0aGlzLnBhcmFsbGF4SW1nU3R5bGUub3BhY2l0eSA9IDEsIHRoaXMucGFyYWxsYXhTdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB0aGlzLl9nZXRUcmFuc2xhdGVTdHIoMCwgLTEpICsgIiBzY2FsZSgxLDEpIik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmluZGljYXRvcnMpIGZvciAodmFyIGYgPSB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBmLS07KSB7CiAgICAgICAgdGhpcy5pbmRpY2F0b3JzW2ZdLnVwZGF0ZVBvc2l0aW9uKCk7CiAgICAgIH0KICAgICAgdGhpcy5sYXN0WCA9IHRoaXMueCwgdGhpcy5sYXN0WSA9IHRoaXMueSwgYS50cmlnZ2VyKHRoaXMuc2Nyb2xsZXIsICJzY3JvbGwiLCB0aGlzKTsKICAgIH0sCiAgICByZUxheW91dDogZnVuY3Rpb24gcmVMYXlvdXQoKSB7CiAgICAgIHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBiID0gcGFyc2VGbG9hdChhLmdldFN0eWxlcyh0aGlzLndyYXBwZXIsICJwYWRkaW5nLWxlZnQiKSkgfHwgMCwKICAgICAgICAgIGMgPSBwYXJzZUZsb2F0KGEuZ2V0U3R5bGVzKHRoaXMud3JhcHBlciwgInBhZGRpbmctcmlnaHQiKSkgfHwgMCwKICAgICAgICAgIGQgPSBwYXJzZUZsb2F0KGEuZ2V0U3R5bGVzKHRoaXMud3JhcHBlciwgInBhZGRpbmctdG9wIikpIHx8IDAsCiAgICAgICAgICBlID0gcGFyc2VGbG9hdChhLmdldFN0eWxlcyh0aGlzLndyYXBwZXIsICJwYWRkaW5nLWJvdHRvbSIpKSB8fCAwLAogICAgICAgICAgZiA9IHRoaXMud3JhcHBlci5jbGllbnRXaWR0aCwKICAgICAgICAgIGcgPSB0aGlzLndyYXBwZXIuY2xpZW50SGVpZ2h0OwogICAgICB0aGlzLnNjcm9sbGVyV2lkdGggPSB0aGlzLnNjcm9sbGVyLm9mZnNldFdpZHRoLCB0aGlzLnNjcm9sbGVySGVpZ2h0ID0gdGhpcy5zY3JvbGxlci5vZmZzZXRIZWlnaHQsIHRoaXMud3JhcHBlcldpZHRoID0gZiAtIGIgLSBjLCB0aGlzLndyYXBwZXJIZWlnaHQgPSBnIC0gZCAtIGUsIHRoaXMubWF4U2Nyb2xsWCA9IE1hdGgubWluKHRoaXMud3JhcHBlcldpZHRoIC0gdGhpcy5zY3JvbGxlcldpZHRoLCAwKSwgdGhpcy5tYXhTY3JvbGxZID0gTWF0aC5taW4odGhpcy53cmFwcGVySGVpZ2h0IC0gdGhpcy5zY3JvbGxlckhlaWdodCwgMCksIHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA9IHRoaXMub3B0aW9ucy5zY3JvbGxYICYmIHRoaXMubWF4U2Nyb2xsWCA8IDAsIHRoaXMuaGFzVmVydGljYWxTY3JvbGwgPSB0aGlzLm9wdGlvbnMuc2Nyb2xsWSAmJiB0aGlzLm1heFNjcm9sbFkgPCAwLCB0aGlzLl9yZUxheW91dCgpOwogICAgfSwKICAgIHJlc2V0UG9zaXRpb246IGZ1bmN0aW9uIHJlc2V0UG9zaXRpb24oYSkgewogICAgICB2YXIgYiA9IHRoaXMueCwKICAgICAgICAgIGMgPSB0aGlzLnk7CiAgICAgIHJldHVybiBhID0gYSB8fCAwLCAhdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsIHx8IHRoaXMueCA+IDAgPyBiID0gMCA6IHRoaXMueCA8IHRoaXMubWF4U2Nyb2xsWCAmJiAoYiA9IHRoaXMubWF4U2Nyb2xsWCksICF0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsIHx8IHRoaXMueSA+IDAgPyBjID0gMCA6IHRoaXMueSA8IHRoaXMubWF4U2Nyb2xsWSAmJiAoYyA9IHRoaXMubWF4U2Nyb2xsWSksIChiICE9IHRoaXMueCB8fCBjICE9IHRoaXMueSkgJiYgKHRoaXMuc2Nyb2xsVG8oYiwgYywgYSwgdGhpcy5vcHRpb25zLnNjcm9sbEVhc2luZyksICEwKTsKICAgIH0sCiAgICBfcmVJbml0OiBmdW5jdGlvbiBfcmVJbml0KCkgewogICAgICBmb3IgKHZhciBhID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iICsgZSksIGIgPSAwLCBjID0gYS5sZW5ndGg7IGIgPCBjOyBiKyspIHsKICAgICAgICBpZiAoYVtiXS5wYXJlbnROb2RlID09PSB0aGlzLndyYXBwZXIpIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsZXIgPSBhW2JdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnNjcm9sbGVyU3R5bGUgPSB0aGlzLnNjcm9sbGVyICYmIHRoaXMuc2Nyb2xsZXIuc3R5bGU7CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdGhpcy5fcmVJbml0KCksIHRoaXMucmVMYXlvdXQoKSwgYS50cmlnZ2VyKHRoaXMuc2Nyb2xsZXIsICJyZWZyZXNoIiwgdGhpcyksIHRoaXMucmVzZXRQb3NpdGlvbigpOwogICAgfSwKICAgIHNjcm9sbFRvOiBmdW5jdGlvbiBzY3JvbGxUbyhhLCBiLCBjLCBkKSB7CiAgICAgIHZhciBkID0gZCB8fCBrLmNpcmN1bGFyOwogICAgICB0aGlzLmlzSW5UcmFuc2l0aW9uID0gYyA+IDAsIHRoaXMuaXNJblRyYW5zaXRpb24gPyAodGhpcy5fY2xlYXJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSwgdGhpcy5fdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uKGQuc3R5bGUpLCB0aGlzLl90cmFuc2l0aW9uVGltZShjKSwgdGhpcy5zZXRUcmFuc2xhdGUoYSwgYikpIDogdGhpcy5zZXRUcmFuc2xhdGUoYSwgYik7CiAgICB9LAogICAgc2Nyb2xsVG9Cb3R0b206IGZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKGEsIGIpIHsKICAgICAgYSA9IGEgfHwgdGhpcy5vcHRpb25zLnNjcm9sbFRpbWUsIHRoaXMuc2Nyb2xsVG8oMCwgdGhpcy5tYXhTY3JvbGxZLCBhLCBiKTsKICAgIH0sCiAgICBnb3RvUGFnZTogZnVuY3Rpb24gZ290b1BhZ2UoYSkgewogICAgICB0aGlzLl9nb3RvUGFnZShhKTsKICAgIH0sCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB0aGlzLl9pbml0RXZlbnQoITApLCBkZWxldGUgYS5kYXRhW3RoaXMud3JhcHBlci5nZXRBdHRyaWJ1dGUoImRhdGEtc2Nyb2xsIildLCB0aGlzLndyYXBwZXIuc2V0QXR0cmlidXRlKCJkYXRhLXNjcm9sbCIsICIiKTsKICAgIH0KICB9KSwKICAgICAgbSA9IGZ1bmN0aW9uIG0oYiwgZCkgewogICAgdGhpcy53cmFwcGVyID0gInN0cmluZyIgPT0gdHlwZW9mIGQuZWwgPyBjLnF1ZXJ5U2VsZWN0b3IoZC5lbCkgOiBkLmVsLCB0aGlzLndyYXBwZXJTdHlsZSA9IHRoaXMud3JhcHBlci5zdHlsZSwgdGhpcy5pbmRpY2F0b3IgPSB0aGlzLndyYXBwZXIuY2hpbGRyZW5bMF0sIHRoaXMuaW5kaWNhdG9yU3R5bGUgPSB0aGlzLmluZGljYXRvci5zdHlsZSwgdGhpcy5zY3JvbGxlciA9IGIsIHRoaXMub3B0aW9ucyA9IGEuZXh0ZW5kKHsKICAgICAgbGlzdGVuWDogITAsCiAgICAgIGxpc3Rlblk6ICEwLAogICAgICBmYWRlOiAhMSwKICAgICAgc3BlZWRSYXRpb1g6IDAsCiAgICAgIHNwZWVkUmF0aW9ZOiAwCiAgICB9LCBkKSwgdGhpcy5zaXplUmF0aW9YID0gMSwgdGhpcy5zaXplUmF0aW9ZID0gMSwgdGhpcy5tYXhQb3NYID0gMCwgdGhpcy5tYXhQb3NZID0gMCwgdGhpcy5vcHRpb25zLmZhZGUgJiYgKHRoaXMud3JhcHBlclN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRoaXMuc2Nyb2xsZXIudHJhbnNsYXRlWiwgdGhpcy53cmFwcGVyU3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gdGhpcy5vcHRpb25zLmZpeGVkQmFkQW5kb3JpZCAmJiBhLm9zLmlzQmFkQW5kcm9pZCA/ICIwLjAwMXMiIDogIjBtcyIsIHRoaXMud3JhcHBlclN0eWxlLm9wYWNpdHkgPSAiMCIpOwogIH07CgogIG0ucHJvdG90eXBlID0gewogICAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGEpIHt9LAogICAgdHJhbnNpdGlvblRpbWU6IGZ1bmN0aW9uIHRyYW5zaXRpb25UaW1lKGIpIHsKICAgICAgYiA9IGIgfHwgMCwgdGhpcy5pbmRpY2F0b3JTdHlsZS53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb24gPSBiICsgIm1zIiwgdGhpcy5zY3JvbGxlci5vcHRpb25zLmZpeGVkQmFkQW5kb3JpZCAmJiAhYiAmJiBhLm9zLmlzQmFkQW5kcm9pZCAmJiAodGhpcy5pbmRpY2F0b3JTdHlsZS53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb24gPSAiMC4wMDFzIik7CiAgICB9LAogICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBmdW5jdGlvbiB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24oYSkgewogICAgICB0aGlzLmluZGljYXRvclN0eWxlLndlYmtpdFRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IGE7CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdGhpcy50cmFuc2l0aW9uVGltZSgpLCB0aGlzLm9wdGlvbnMubGlzdGVuWCAmJiAhdGhpcy5vcHRpb25zLmxpc3RlblkgPyB0aGlzLmluZGljYXRvclN0eWxlLmRpc3BsYXkgPSB0aGlzLnNjcm9sbGVyLmhhc0hvcml6b250YWxTY3JvbGwgPyAiYmxvY2siIDogIm5vbmUiIDogdGhpcy5vcHRpb25zLmxpc3RlblkgJiYgIXRoaXMub3B0aW9ucy5saXN0ZW5YID8gdGhpcy5pbmRpY2F0b3JTdHlsZS5kaXNwbGF5ID0gdGhpcy5zY3JvbGxlci5oYXNWZXJ0aWNhbFNjcm9sbCA/ICJibG9jayIgOiAibm9uZSIgOiB0aGlzLmluZGljYXRvclN0eWxlLmRpc3BsYXkgPSB0aGlzLnNjcm9sbGVyLmhhc0hvcml6b250YWxTY3JvbGwgfHwgdGhpcy5zY3JvbGxlci5oYXNWZXJ0aWNhbFNjcm9sbCA/ICJibG9jayIgOiAibm9uZSIsIHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQsIHRoaXMub3B0aW9ucy5saXN0ZW5YICYmICh0aGlzLndyYXBwZXJXaWR0aCA9IHRoaXMud3JhcHBlci5jbGllbnRXaWR0aCwgdGhpcy5pbmRpY2F0b3JXaWR0aCA9IE1hdGgubWF4KE1hdGgucm91bmQodGhpcy53cmFwcGVyV2lkdGggKiB0aGlzLndyYXBwZXJXaWR0aCAvICh0aGlzLnNjcm9sbGVyLnNjcm9sbGVyV2lkdGggfHwgdGhpcy53cmFwcGVyV2lkdGggfHwgMSkpLCA4KSwgdGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHRoaXMuaW5kaWNhdG9yV2lkdGggKyAicHgiLCB0aGlzLm1heFBvc1ggPSB0aGlzLndyYXBwZXJXaWR0aCAtIHRoaXMuaW5kaWNhdG9yV2lkdGgsIHRoaXMubWluQm91bmRhcnlYID0gMCwgdGhpcy5tYXhCb3VuZGFyeVggPSB0aGlzLm1heFBvc1gsIHRoaXMuc2l6ZVJhdGlvWCA9IHRoaXMub3B0aW9ucy5zcGVlZFJhdGlvWCB8fCB0aGlzLnNjcm9sbGVyLm1heFNjcm9sbFggJiYgdGhpcy5tYXhQb3NYIC8gdGhpcy5zY3JvbGxlci5tYXhTY3JvbGxYKSwgdGhpcy5vcHRpb25zLmxpc3RlblkgJiYgKHRoaXMud3JhcHBlckhlaWdodCA9IHRoaXMud3JhcHBlci5jbGllbnRIZWlnaHQsIHRoaXMuaW5kaWNhdG9ySGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh0aGlzLndyYXBwZXJIZWlnaHQgKiB0aGlzLndyYXBwZXJIZWlnaHQgLyAodGhpcy5zY3JvbGxlci5zY3JvbGxlckhlaWdodCB8fCB0aGlzLndyYXBwZXJIZWlnaHQgfHwgMSkpLCA4KSwgdGhpcy5pbmRpY2F0b3JTdHlsZS5oZWlnaHQgPSB0aGlzLmluZGljYXRvckhlaWdodCArICJweCIsIHRoaXMubWF4UG9zWSA9IHRoaXMud3JhcHBlckhlaWdodCAtIHRoaXMuaW5kaWNhdG9ySGVpZ2h0LCB0aGlzLm1pbkJvdW5kYXJ5WSA9IDAsIHRoaXMubWF4Qm91bmRhcnlZID0gdGhpcy5tYXhQb3NZLCB0aGlzLnNpemVSYXRpb1kgPSB0aGlzLm9wdGlvbnMuc3BlZWRSYXRpb1kgfHwgdGhpcy5zY3JvbGxlci5tYXhTY3JvbGxZICYmIHRoaXMubWF4UG9zWSAvIHRoaXMuc2Nyb2xsZXIubWF4U2Nyb2xsWSksIHRoaXMudXBkYXRlUG9zaXRpb24oKTsKICAgIH0sCiAgICB1cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oKSB7CiAgICAgIHZhciBhID0gdGhpcy5vcHRpb25zLmxpc3RlblggJiYgTWF0aC5yb3VuZCh0aGlzLnNpemVSYXRpb1ggKiB0aGlzLnNjcm9sbGVyLngpIHx8IDAsCiAgICAgICAgICBiID0gdGhpcy5vcHRpb25zLmxpc3RlblkgJiYgTWF0aC5yb3VuZCh0aGlzLnNpemVSYXRpb1kgKiB0aGlzLnNjcm9sbGVyLnkpIHx8IDA7CiAgICAgIGEgPCB0aGlzLm1pbkJvdW5kYXJ5WCA/ICh0aGlzLndpZHRoID0gTWF0aC5tYXgodGhpcy5pbmRpY2F0b3JXaWR0aCArIGEsIDgpLCB0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICJweCIsIGEgPSB0aGlzLm1pbkJvdW5kYXJ5WCkgOiBhID4gdGhpcy5tYXhCb3VuZGFyeVggPyAodGhpcy53aWR0aCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9yV2lkdGggLSAoYSAtIHRoaXMubWF4UG9zWCksIDgpLCB0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICJweCIsIGEgPSB0aGlzLm1heFBvc1ggKyB0aGlzLmluZGljYXRvcldpZHRoIC0gdGhpcy53aWR0aCkgOiB0aGlzLndpZHRoICE9IHRoaXMuaW5kaWNhdG9yV2lkdGggJiYgKHRoaXMud2lkdGggPSB0aGlzLmluZGljYXRvcldpZHRoLCB0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICJweCIpLCBiIDwgdGhpcy5taW5Cb3VuZGFyeVkgPyAodGhpcy5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmluZGljYXRvckhlaWdodCArIDMgKiBiLCA4KSwgdGhpcy5pbmRpY2F0b3JTdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICJweCIsIGIgPSB0aGlzLm1pbkJvdW5kYXJ5WSkgOiBiID4gdGhpcy5tYXhCb3VuZGFyeVkgPyAodGhpcy5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmluZGljYXRvckhlaWdodCAtIDMgKiAoYiAtIHRoaXMubWF4UG9zWSksIDgpLCB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgInB4IiwgYiA9IHRoaXMubWF4UG9zWSArIHRoaXMuaW5kaWNhdG9ySGVpZ2h0IC0gdGhpcy5oZWlnaHQpIDogdGhpcy5oZWlnaHQgIT0gdGhpcy5pbmRpY2F0b3JIZWlnaHQgJiYgKHRoaXMuaGVpZ2h0ID0gdGhpcy5pbmRpY2F0b3JIZWlnaHQsIHRoaXMuaW5kaWNhdG9yU3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAicHgiKSwgdGhpcy54ID0gYSwgdGhpcy55ID0gYiwgdGhpcy5pbmRpY2F0b3JTdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB0aGlzLnNjcm9sbGVyLl9nZXRUcmFuc2xhdGVTdHIoYSwgYik7CiAgICB9LAogICAgZmFkZTogZnVuY3Rpb24gZmFkZShhLCBiKSB7CiAgICAgIGlmICghYiB8fCB0aGlzLnZpc2libGUpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5mYWRlVGltZW91dCksIHRoaXMuZmFkZVRpbWVvdXQgPSBudWxsOwogICAgICAgIHZhciBjID0gYSA/IDI1MCA6IDUwMCwKICAgICAgICAgICAgZCA9IGEgPyAwIDogMzAwOwogICAgICAgIGEgPSBhID8gIjEiIDogIjAiLCB0aGlzLndyYXBwZXJTdHlsZS53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb24gPSBjICsgIm1zIiwgdGhpcy5mYWRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHRoaXMud3JhcHBlclN0eWxlLm9wYWNpdHkgPSBhLCB0aGlzLnZpc2libGUgPSArYTsKICAgICAgICB9LmJpbmQodGhpcywgYSksIGQpOwogICAgICB9CiAgICB9CiAgfSwgYS5TY3JvbGwgPSBsLCBhLmZuLnNjcm9sbCA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IFtdOwogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkID0gbnVsbCwKICAgICAgICAgIGUgPSB0aGlzLAogICAgICAgICAgZiA9IGUuZ2V0QXR0cmlidXRlKCJkYXRhLXNjcm9sbCIpOwogICAgICBpZiAoZikgZCA9IGEuZGF0YVtmXTtlbHNlIHsKICAgICAgICBmID0gKythLnV1aWQ7CiAgICAgICAgdmFyIGcgPSBhLmV4dGVuZCh7fSwgYik7CiAgICAgICAgZS5jbGFzc0xpc3QuY29udGFpbnMoIm11aS1zZWdtZW50ZWQtY29udHJvbCIpICYmIChnID0gYS5leHRlbmQoZywgewogICAgICAgICAgc2Nyb2xsWTogITEsCiAgICAgICAgICBzY3JvbGxYOiAhMCwKICAgICAgICAgIGluZGljYXRvcnM6ICExLAogICAgICAgICAgc25hcDogIi5tdWktY29udHJvbC1pdGVtIgogICAgICAgIH0pKSwgYS5kYXRhW2ZdID0gZCA9IG5ldyBsKGUsIGcpLCBlLnNldEF0dHJpYnV0ZSgiZGF0YS1zY3JvbGwiLCBmKTsKICAgICAgfQogICAgICBjLnB1c2goZCk7CiAgICB9KSwgMSA9PT0gYy5sZW5ndGggPyBjWzBdIDogYzsKICB9Owp9KG11aSwgd2luZG93LCBkb2N1bWVudCksIGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgdmFyIGUgPSAibXVpLXZpc2liaWxpdHkiLAogICAgICBmID0gIm11aS1oaWRkZW4iLAogICAgICBnID0gYS5TY3JvbGwuZXh0ZW5kKGEuZXh0ZW5kKHsKICAgIGhhbmRsZUV2ZW50OiBmdW5jdGlvbiBoYW5kbGVFdmVudChhKSB7CiAgICAgIHRoaXMuX3N1cGVyKGEpLCAic2Nyb2xsYm90dG9tIiA9PT0gYS50eXBlICYmIGEudGFyZ2V0ID09PSB0aGlzLnNjcm9sbGVyICYmIHRoaXMuX3Njcm9sbGJvdHRvbSgpOwogICAgfSwKICAgIF9zY3JvbGxib3R0b206IGZ1bmN0aW9uIF9zY3JvbGxib3R0b20oKSB7CiAgICAgIHRoaXMucHVsbGRvd24gfHwgdGhpcy5sb2FkaW5nIHx8ICh0aGlzLnB1bGxkb3duID0gITEsIHRoaXMuX2luaXRQdWxsdXBSZWZyZXNoKCksIHRoaXMucHVsbHVwTG9hZGluZygpKTsKICAgIH0sCiAgICBfc3RhcnQ6IGZ1bmN0aW9uIF9zdGFydChhKSB7CiAgICAgIGEudG91Y2hlcyAmJiBhLnRvdWNoZXMubGVuZ3RoICYmIGEudG91Y2hlc1swXS5jbGllbnRYID4gMzAgJiYgYS50YXJnZXQgJiYgIXRoaXMuX3ByZXZlbnREZWZhdWx0RXhjZXB0aW9uKGEudGFyZ2V0LCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHRFeGNlcHRpb24pICYmIGEucHJldmVudERlZmF1bHQoKSwgdGhpcy5sb2FkaW5nIHx8ICh0aGlzLnB1bGxkb3duID0gdGhpcy5wdWxsUG9ja2V0ID0gdGhpcy5wdWxsQ2FwdGlvbiA9IHRoaXMucHVsbExvYWRpbmcgPSAhMSksIHRoaXMuX3N1cGVyKGEpOwogICAgfSwKICAgIF9kcmFnOiBmdW5jdGlvbiBfZHJhZyhhKSB7CiAgICAgIHRoaXMueSA+PSAwICYmIHRoaXMuZGlzYWJsZVB1bGxkb3duICYmICJkb3duIiA9PT0gYS5kZXRhaWwuZGlyZWN0aW9uIHx8ICh0aGlzLl9zdXBlcihhKSwgIXRoaXMucHVsbGRvd24gJiYgIXRoaXMubG9hZGluZyAmJiB0aGlzLnRvcFBvY2tldCAmJiAiZG93biIgPT09IGEuZGV0YWlsLmRpcmVjdGlvbiAmJiB0aGlzLnkgPj0gMCAmJiB0aGlzLl9pbml0UHVsbGRvd25SZWZyZXNoKCksIHRoaXMucHVsbGRvd24gJiYgdGhpcy5fc2V0Q2FwdGlvbih0aGlzLnkgPiB0aGlzLm9wdGlvbnMuZG93bi5oZWlnaHQgPyB0aGlzLm9wdGlvbnMuZG93bi5jb250ZW50b3ZlciA6IHRoaXMub3B0aW9ucy5kb3duLmNvbnRlbnRkb3duKSk7CiAgICB9LAogICAgX3JlTGF5b3V0OiBmdW5jdGlvbiBfcmVMYXlvdXQoKSB7CiAgICAgIHRoaXMuaGFzVmVydGljYWxTY3JvbGwgPSAhMCwgdGhpcy5fc3VwZXIoKTsKICAgIH0sCiAgICByZXNldFBvc2l0aW9uOiBmdW5jdGlvbiByZXNldFBvc2l0aW9uKGEpIHsKICAgICAgaWYgKHRoaXMucHVsbGRvd24gJiYgIXRoaXMuZGlzYWJsZVB1bGxkb3duKSB7CiAgICAgICAgaWYgKHRoaXMueSA+PSB0aGlzLm9wdGlvbnMuZG93bi5oZWlnaHQpIHJldHVybiB0aGlzLnB1bGxkb3duTG9hZGluZyhkLCBhIHx8IDApLCAhMDsKICAgICAgICAhdGhpcy5sb2FkaW5nICYmIHRoaXMudG9wUG9ja2V0LmNsYXNzTGlzdC5yZW1vdmUoZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLl9zdXBlcihhKTsKICAgIH0sCiAgICBwdWxsZG93bkxvYWRpbmc6IGZ1bmN0aW9uIHB1bGxkb3duTG9hZGluZyhhLCBiKSB7CiAgICAgIGlmICh2b2lkIDAgPT09IGEgJiYgKGEgPSB0aGlzLm9wdGlvbnMuZG93bi5oZWlnaHQpLCB0aGlzLnNjcm9sbFRvKDAsIGEsIGIsIHRoaXMub3B0aW9ucy5ib3VuY2VFYXNpbmcpLCAhdGhpcy5sb2FkaW5nKSB7CiAgICAgICAgdGhpcy5faW5pdFB1bGxkb3duUmVmcmVzaCgpLCB0aGlzLl9zZXRDYXB0aW9uKHRoaXMub3B0aW9ucy5kb3duLmNvbnRlbnRyZWZyZXNoKSwgdGhpcy5sb2FkaW5nID0gITAsIHRoaXMuaW5kaWNhdG9ycy5tYXAoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIGEuZmFkZSgwKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgYyA9IHRoaXMub3B0aW9ucy5kb3duLmNhbGxiYWNrOwogICAgICAgIGMgJiYgYy5jYWxsKHRoaXMpOwogICAgICB9CiAgICB9LAogICAgZW5kUHVsbGRvd25Ub1JlZnJlc2g6IGZ1bmN0aW9uIGVuZFB1bGxkb3duVG9SZWZyZXNoKCkgewogICAgICB2YXIgYSA9IHRoaXM7CiAgICAgIGEudG9wUG9ja2V0ICYmIGEubG9hZGluZyAmJiB0aGlzLnB1bGxkb3duICYmIChhLnNjcm9sbFRvKDAsIDAsIGEub3B0aW9ucy5ib3VuY2VUaW1lLCBhLm9wdGlvbnMuYm91bmNlRWFzaW5nKSwgYS5sb2FkaW5nID0gITEsIGEuX3NldENhcHRpb24oYS5vcHRpb25zLmRvd24uY29udGVudGRvd24sICEwKSwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgYS5sb2FkaW5nIHx8IGEudG9wUG9ja2V0LmNsYXNzTGlzdC5yZW1vdmUoZSk7CiAgICAgIH0sIDM1MCkpOwogICAgfSwKICAgIHB1bGx1cExvYWRpbmc6IGZ1bmN0aW9uIHB1bGx1cExvYWRpbmcoYSwgYiwgYykgewogICAgICBiID0gYiB8fCAwLCB0aGlzLnNjcm9sbFRvKGIsIHRoaXMubWF4U2Nyb2xsWSwgYywgdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyksIHRoaXMubG9hZGluZyB8fCAodGhpcy5faW5pdFB1bGx1cFJlZnJlc2goKSwgdGhpcy5fc2V0Q2FwdGlvbih0aGlzLm9wdGlvbnMudXAuY29udGVudHJlZnJlc2gpLCB0aGlzLmluZGljYXRvcnMubWFwKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgYS5mYWRlKDApOwogICAgICB9KSwgdGhpcy5sb2FkaW5nID0gITAsIChhID0gYSB8fCB0aGlzLm9wdGlvbnMudXAuY2FsbGJhY2spICYmIGEuY2FsbCh0aGlzKSk7CiAgICB9LAogICAgZW5kUHVsbHVwVG9SZWZyZXNoOiBmdW5jdGlvbiBlbmRQdWxsdXBUb1JlZnJlc2goYSkgewogICAgICB2YXIgYiA9IHRoaXM7CiAgICAgIGIuYm90dG9tUG9ja2V0ICYmIChiLmxvYWRpbmcgPSAhMSwgYSA/ICh0aGlzLmZpbmlzaGVkID0gITAsIGIuX3NldENhcHRpb24oYi5vcHRpb25zLnVwLmNvbnRlbnRub21vcmUpLCBiLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsYm90dG9tIiwgYikpIDogKGIuX3NldENhcHRpb24oYi5vcHRpb25zLnVwLmNvbnRlbnRkb3duKSwgYi5sb2FkaW5nIHx8IGIuYm90dG9tUG9ja2V0LmNsYXNzTGlzdC5yZW1vdmUoZSkpKTsKICAgIH0sCiAgICBkaXNhYmxlUHVsbHVwVG9SZWZyZXNoOiBmdW5jdGlvbiBkaXNhYmxlUHVsbHVwVG9SZWZyZXNoKCkgewogICAgICB0aGlzLl9pbml0UHVsbHVwUmVmcmVzaCgpLCB0aGlzLmJvdHRvbVBvY2tldC5jbGFzc05hbWUgPSAibXVpLXB1bGwtYm90dG9tLXBvY2tldCAiICsgZiwgdGhpcy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbGJvdHRvbSIsIHRoaXMpOwogICAgfSwKICAgIGRpc2FibGVQdWxsZG93blRvUmVmcmVzaDogZnVuY3Rpb24gZGlzYWJsZVB1bGxkb3duVG9SZWZyZXNoKCkgewogICAgICB0aGlzLl9pbml0UHVsbGRvd25SZWZyZXNoKCksIHRoaXMudG9wUG9ja2V0LmNsYXNzTmFtZSA9ICJtdWktcHVsbC10b3AtcG9ja2V0ICIgKyBmLCB0aGlzLmRpc2FibGVQdWxsZG93biA9ICEwOwogICAgfSwKICAgIGVuYWJsZVB1bGxkb3duVG9SZWZyZXNoOiBmdW5jdGlvbiBlbmFibGVQdWxsZG93blRvUmVmcmVzaCgpIHsKICAgICAgdGhpcy5faW5pdFB1bGxkb3duUmVmcmVzaCgpLCB0aGlzLnRvcFBvY2tldC5jbGFzc0xpc3QucmVtb3ZlKGYpLCB0aGlzLl9zZXRDYXB0aW9uKHRoaXMub3B0aW9ucy5kb3duLmNvbnRlbnRkb3duKSwgdGhpcy5kaXNhYmxlUHVsbGRvd24gPSAhMTsKICAgIH0sCiAgICBlbmFibGVQdWxsdXBUb1JlZnJlc2g6IGZ1bmN0aW9uIGVuYWJsZVB1bGx1cFRvUmVmcmVzaCgpIHsKICAgICAgdGhpcy5faW5pdFB1bGx1cFJlZnJlc2goKSwgdGhpcy5ib3R0b21Qb2NrZXQuY2xhc3NMaXN0LnJlbW92ZShmKSwgdGhpcy5fc2V0Q2FwdGlvbih0aGlzLm9wdGlvbnMudXAuY29udGVudGRvd24pLCB0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsYm90dG9tIiwgdGhpcyk7CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChhKSB7CiAgICAgIGEgJiYgdGhpcy5maW5pc2hlZCAmJiAodGhpcy5lbmFibGVQdWxsdXBUb1JlZnJlc2goKSwgdGhpcy5maW5pc2hlZCA9ICExKSwgdGhpcy5fc3VwZXIoKTsKICAgIH0KICB9LCBhLlB1bGxSZWZyZXNoKSk7CgogIGEuZm4ucHVsbFJlZnJlc2ggPSBmdW5jdGlvbiAoYikgewogICAgaWYgKDEgPT09IHRoaXMubGVuZ3RoKSB7CiAgICAgIHZhciBjID0gdGhpc1swXSwKICAgICAgICAgIGQgPSBudWxsLAogICAgICAgICAgZSA9IGMuZ2V0QXR0cmlidXRlKCJkYXRhLXB1bGxyZWZyZXNoIik7CiAgICAgIHJldHVybiAhKCFlICYmIHZvaWQgMCA9PT0gYikgJiYgKGIgPSBiIHx8IHt9LCBlID8gZCA9IGEuZGF0YVtlXSA6IChlID0gKythLnV1aWQsIGEuZGF0YVtlXSA9IGQgPSBuZXcgZyhjLCBiKSwgYy5zZXRBdHRyaWJ1dGUoImRhdGEtcHVsbHJlZnJlc2giLCBlKSksIGIuZG93biAmJiBiLmRvd24uYXV0byA/IGQucHVsbGRvd25Mb2FkaW5nKGIuZG93bi5hdXRvWSkgOiBiLnVwICYmIGIudXAuYXV0byAmJiBkLnB1bGx1cExvYWRpbmcoKSwgZCk7CiAgICB9CiAgfTsKfShtdWksIHdpbmRvdywgZG9jdW1lbnQpLCBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gIm11aS1zbGlkZXIiLAogICAgICBkID0gIm11aS1zbGlkZXItZ3JvdXAiLAogICAgICBlID0gIm11aS1zbGlkZXItbG9vcCIsCiAgICAgIGYgPSAibXVpLWFjdGlvbi1wcmV2aW91cyIsCiAgICAgIGcgPSAibXVpLWFjdGlvbi1uZXh0IiwKICAgICAgaCA9ICJtdWktc2xpZGVyLWl0ZW0iLAogICAgICBpID0gIm11aS1hY3RpdmUiLAogICAgICBqID0gIi4iICsgaCwKICAgICAgayA9ICIubXVpLXNsaWRlci1wcm9ncmVzcy1iYXIiLAogICAgICBsID0gYS5TbGlkZXIgPSBhLlNjcm9sbC5leHRlbmQoewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChiLCBjKSB7CiAgICAgIHRoaXMuX3N1cGVyKGIsIGEuZXh0ZW5kKCEwLCB7CiAgICAgICAgZmluZ2VyczogMSwKICAgICAgICBpbnRlcnZhbDogMCwKICAgICAgICBzY3JvbGxZOiAhMSwKICAgICAgICBzY3JvbGxYOiAhMCwKICAgICAgICBpbmRpY2F0b3JzOiAhMSwKICAgICAgICBzY3JvbGxUaW1lOiAxZTMsCiAgICAgICAgc3RhcnRYOiAhMSwKICAgICAgICBzbGlkZVRpbWU6IDAsCiAgICAgICAgc25hcDogagogICAgICB9LCBjKSksIHRoaXMub3B0aW9ucy5zdGFydFg7CiAgICB9LAogICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkgewogICAgICB0aGlzLl9yZUluaXQoKSwgdGhpcy5zY3JvbGxlciAmJiAodGhpcy5zY3JvbGxlclN0eWxlID0gdGhpcy5zY3JvbGxlci5zdHlsZSwgdGhpcy5wcm9ncmVzc0JhciA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGspLCB0aGlzLnByb2dyZXNzQmFyICYmICh0aGlzLnByb2dyZXNzQmFyV2lkdGggPSB0aGlzLnByb2dyZXNzQmFyLm9mZnNldFdpZHRoLCB0aGlzLnByb2dyZXNzQmFyU3R5bGUgPSB0aGlzLnByb2dyZXNzQmFyLnN0eWxlKSwgdGhpcy5fc3VwZXIoKSwgdGhpcy5faW5pdFRpbWVyKCkpOwogICAgfSwKICAgIF90cmlnZ2VyU2xpZGU6IGZ1bmN0aW9uIF90cmlnZ2VyU2xpZGUoKSB7CiAgICAgIHZhciBiID0gdGhpczsKICAgICAgYi5pc0luVHJhbnNpdGlvbiA9ICExOwogICAgICBiLmN1cnJlbnRQYWdlOwogICAgICBiLnNsaWRlTnVtYmVyID0gYi5fZml4ZWRTbGlkZU51bWJlcigpLCBiLmxvb3AgJiYgKDAgPT09IGIuc2xpZGVOdW1iZXIgPyBiLnNldFRyYW5zbGF0ZShiLnBhZ2VzWzFdWzBdLngsIDApIDogYi5zbGlkZU51bWJlciA9PT0gYi5pdGVtTGVuZ3RoIC0gMyAmJiBiLnNldFRyYW5zbGF0ZShiLnBhZ2VzW2IuaXRlbUxlbmd0aCAtIDJdWzBdLngsIDApKSwgYi5sYXN0U2xpZGVOdW1iZXIgIT0gYi5zbGlkZU51bWJlciAmJiAoYi5sYXN0U2xpZGVOdW1iZXIgPSBiLnNsaWRlTnVtYmVyLCBiLmxhc3RQYWdlID0gYi5jdXJyZW50UGFnZSwgYS50cmlnZ2VyKGIud3JhcHBlciwgInNsaWRlIiwgewogICAgICAgIHNsaWRlTnVtYmVyOiBiLnNsaWRlTnVtYmVyCiAgICAgIH0pKSwgYi5faW5pdFRpbWVyKCk7CiAgICB9LAogICAgX2hhbmRsZVNsaWRlOiBmdW5jdGlvbiBfaGFuZGxlU2xpZGUoYikgewogICAgICB2YXIgYyA9IHRoaXM7CgogICAgICBpZiAoYi50YXJnZXQgPT09IGMud3JhcHBlcikgewogICAgICAgIHZhciBkID0gYi5kZXRhaWw7CiAgICAgICAgZC5zbGlkZU51bWJlciA9IGQuc2xpZGVOdW1iZXIgfHwgMDsKCiAgICAgICAgZm9yICh2YXIgZSA9IGMuc2Nyb2xsZXIucXVlcnlTZWxlY3RvckFsbChqKSwgZiA9IFtdLCBnID0gMCwgaCA9IGUubGVuZ3RoOyBnIDwgaDsgZysrKSB7CiAgICAgICAgICB2YXIgayA9IGVbZ107CiAgICAgICAgICBrLnBhcmVudE5vZGUgPT09IGMuc2Nyb2xsZXIgJiYgZi5wdXNoKGspOwogICAgICAgIH0KCiAgICAgICAgdmFyIGwgPSBkLnNsaWRlTnVtYmVyOwogICAgICAgIGlmIChjLmxvb3AgJiYgKGwgKz0gMSksICFjLndyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCJtdWktc2VnbWVudGVkLWNvbnRyb2wiKSkgZm9yICh2YXIgZyA9IDAsIGggPSBmLmxlbmd0aDsgZyA8IGg7IGcrKykgewogICAgICAgICAgdmFyIGsgPSBmW2ddOwogICAgICAgICAgay5wYXJlbnROb2RlID09PSBjLnNjcm9sbGVyICYmIChnID09PSBsID8gay5jbGFzc0xpc3QuYWRkKGkpIDogay5jbGFzc0xpc3QucmVtb3ZlKGkpKTsKICAgICAgICB9CiAgICAgICAgdmFyIG0gPSBjLndyYXBwZXIucXVlcnlTZWxlY3RvcigiLm11aS1zbGlkZXItaW5kaWNhdG9yIik7CgogICAgICAgIGlmIChtKSB7CiAgICAgICAgICBtLmdldEF0dHJpYnV0ZSgiZGF0YS1zY3JvbGwiKSAmJiBhKG0pLnNjcm9sbCgpLmdvdG9QYWdlKGQuc2xpZGVOdW1iZXIpOwogICAgICAgICAgdmFyIG4gPSBtLnF1ZXJ5U2VsZWN0b3JBbGwoIi5tdWktaW5kaWNhdG9yIik7CiAgICAgICAgICBpZiAobi5sZW5ndGggPiAwKSBmb3IgKHZhciBnID0gMCwgaCA9IG4ubGVuZ3RoOyBnIDwgaDsgZysrKSB7CiAgICAgICAgICAgIG5bZ10uY2xhc3NMaXN0W2cgPT09IGQuc2xpZGVOdW1iZXIgPyAiYWRkIiA6ICJyZW1vdmUiXShpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBvID0gbS5xdWVyeVNlbGVjdG9yKCIubXVpLW51bWJlciBzcGFuIik7CiAgICAgICAgICAgIGlmIChvKSBvLmlubmVyVGV4dCA9IGQuc2xpZGVOdW1iZXIgKyAxO2Vsc2UgZm9yICh2YXIgcCA9IG0ucXVlcnlTZWxlY3RvckFsbCgiLm11aS1jb250cm9sLWl0ZW0iKSwgZyA9IDAsIGggPSBwLmxlbmd0aDsgZyA8IGg7IGcrKykgewogICAgICAgICAgICAgIHBbZ10uY2xhc3NMaXN0W2cgPT09IGQuc2xpZGVOdW1iZXIgPyAiYWRkIiA6ICJyZW1vdmUiXShpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfQogICAgfSwKICAgIF9oYW5kbGVUYWJTaG93OiBmdW5jdGlvbiBfaGFuZGxlVGFiU2hvdyhhKSB7CiAgICAgIHZhciBiID0gdGhpczsKICAgICAgYi5nb3RvSXRlbShhLmRldGFpbC50YWJOdW1iZXIgfHwgMCwgYi5vcHRpb25zLnNsaWRlVGltZSk7CiAgICB9LAogICAgX2hhbmRsZUluZGljYXRvclRhcDogZnVuY3Rpb24gX2hhbmRsZUluZGljYXRvclRhcChhKSB7CiAgICAgIHZhciBiID0gdGhpcywKICAgICAgICAgIGMgPSBhLnRhcmdldDsKICAgICAgKGMuY2xhc3NMaXN0LmNvbnRhaW5zKGYpIHx8IGMuY2xhc3NMaXN0LmNvbnRhaW5zKGcpKSAmJiAoYltjLmNsYXNzTGlzdC5jb250YWlucyhmKSA/ICJwcmV2SXRlbSIgOiAibmV4dEl0ZW0iXSgpLCBhLnN0b3BQcm9wYWdhdGlvbigpKTsKICAgIH0sCiAgICBfaW5pdEV2ZW50OiBmdW5jdGlvbiBfaW5pdEV2ZW50KGIpIHsKICAgICAgdmFyIGMgPSB0aGlzOwoKICAgICAgYy5fc3VwZXIoYik7CgogICAgICB2YXIgZCA9IGIgPyAicmVtb3ZlRXZlbnRMaXN0ZW5lciIgOiAiYWRkRXZlbnRMaXN0ZW5lciI7CiAgICAgIGMud3JhcHBlcltkXSgic2xpZGUiLCB0aGlzKSwgYy53cmFwcGVyW2RdKGEuZXZlbnROYW1lKCJzaG93biIsICJ0YWIiKSwgdGhpcyk7CiAgICB9LAogICAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGIpIHsKICAgICAgc3dpdGNoICh0aGlzLl9zdXBlcihiKSwgYi50eXBlKSB7CiAgICAgICAgY2FzZSAic2xpZGUiOgogICAgICAgICAgdGhpcy5faGFuZGxlU2xpZGUoYik7CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgYS5ldmVudE5hbWUoInNob3duIiwgInRhYiIpOgogICAgICAgICAgfnRoaXMuc25hcHMuaW5kZXhPZihiLnRhcmdldCkgJiYgdGhpcy5faGFuZGxlVGFiU2hvdyhiKTsKICAgICAgfQogICAgfSwKICAgIF9zY3JvbGxlbmQ6IGZ1bmN0aW9uIF9zY3JvbGxlbmQoYSkgewogICAgICB0aGlzLl9zdXBlcihhKSwgdGhpcy5fdHJpZ2dlclNsaWRlKGEpOwogICAgfSwKICAgIF9kcmFnOiBmdW5jdGlvbiBfZHJhZyhhKSB7CiAgICAgIHRoaXMuX3N1cGVyKGEpOwoKICAgICAgdmFyIGMgPSBhLmRldGFpbC5kaXJlY3Rpb247CgogICAgICBpZiAoImxlZnQiID09PSBjIHx8ICJyaWdodCIgPT09IGMpIHsKICAgICAgICB2YXIgZCA9IHRoaXMud3JhcHBlci5nZXRBdHRyaWJ1dGUoImRhdGEtc2xpZGVyc2hvd1RpbWVyIik7CiAgICAgICAgZCAmJiBiLmNsZWFyVGltZW91dChkKSwgYS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfQogICAgfSwKICAgIF9pbml0VGltZXI6IGZ1bmN0aW9uIF9pbml0VGltZXIoKSB7CiAgICAgIHZhciBhID0gdGhpcywKICAgICAgICAgIGMgPSBhLndyYXBwZXIsCiAgICAgICAgICBkID0gYS5vcHRpb25zLmludGVydmFsLAogICAgICAgICAgZSA9IGMuZ2V0QXR0cmlidXRlKCJkYXRhLXNsaWRlcnNob3dUaW1lciIpOwogICAgICBlICYmIGIuY2xlYXJUaW1lb3V0KGUpLCBkICYmIChlID0gYi5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjICYmICgoYy5vZmZzZXRXaWR0aCB8fCBjLm9mZnNldEhlaWdodCkgJiYgYS5uZXh0SXRlbSghMCksIGEuX2luaXRUaW1lcigpKTsKICAgICAgfSwgZCksIGMuc2V0QXR0cmlidXRlKCJkYXRhLXNsaWRlcnNob3dUaW1lciIsIGUpKTsKICAgIH0sCiAgICBfZml4ZWRTbGlkZU51bWJlcjogZnVuY3Rpb24gX2ZpeGVkU2xpZGVOdW1iZXIoYSkgewogICAgICBhID0gYSB8fCB0aGlzLmN1cnJlbnRQYWdlOwogICAgICB2YXIgYiA9IGEucGFnZVg7CiAgICAgIHJldHVybiB0aGlzLmxvb3AgJiYgKGIgPSAwID09PSBhLnBhZ2VYID8gdGhpcy5pdGVtTGVuZ3RoIC0gMyA6IGEucGFnZVggPT09IHRoaXMuaXRlbUxlbmd0aCAtIDEgPyAwIDogYS5wYWdlWCAtIDEpLCBiOwogICAgfSwKICAgIF9yZUxheW91dDogZnVuY3Rpb24gX3JlTGF5b3V0KCkgewogICAgICB0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgPSAhMCwgdGhpcy5sb29wID0gdGhpcy5zY3JvbGxlci5jbGFzc0xpc3QuY29udGFpbnMoZSksIHRoaXMuX3N1cGVyKCk7CiAgICB9LAogICAgX2dldFNjcm9sbDogZnVuY3Rpb24gX2dldFNjcm9sbCgpIHsKICAgICAgdmFyIGIgPSBhLnBhcnNlVHJhbnNsYXRlTWF0cml4KGEuZ2V0U3R5bGVzKHRoaXMuc2Nyb2xsZXIsICJ3ZWJraXRUcmFuc2Zvcm0iKSk7CiAgICAgIHJldHVybiBiID8gYi54IDogMDsKICAgIH0sCiAgICBfdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gX3RyYW5zaXRpb25FbmQoYikgewogICAgICBiLnRhcmdldCA9PT0gdGhpcy5zY3JvbGxlciAmJiB0aGlzLmlzSW5UcmFuc2l0aW9uICYmICh0aGlzLl90cmFuc2l0aW9uVGltZSgpLCB0aGlzLmlzSW5UcmFuc2l0aW9uID0gITEsIGEudHJpZ2dlcih0aGlzLndyYXBwZXIsICJzY3JvbGxlbmQiLCB0aGlzKSk7CiAgICB9LAogICAgX2ZsaWNrOiBmdW5jdGlvbiBfZmxpY2soYSkgewogICAgICBpZiAodGhpcy5tb3ZlZCkgewogICAgICAgIHZhciBiID0gYS5kZXRhaWwsCiAgICAgICAgICAgIGMgPSBiLmRpcmVjdGlvbjsKICAgICAgICB0aGlzLl9jbGVhclJlcXVlc3RBbmltYXRpb25GcmFtZSgpLCB0aGlzLmlzSW5UcmFuc2l0aW9uID0gITAsICJmbGljayIgPT09IGEudHlwZSA/IChiLmRlbHRhVGltZSA8IDIwMCAmJiAodGhpcy54ID0gdGhpcy5fZ2V0UGFnZSh0aGlzLnNsaWRlTnVtYmVyICsgKCJyaWdodCIgPT09IGMgPyAtMSA6IDEpLCAhMCkueCksIHRoaXMucmVzZXRQb3NpdGlvbih0aGlzLm9wdGlvbnMuYm91bmNlVGltZSkpIDogImRyYWdlbmQiICE9PSBhLnR5cGUgfHwgYi5mbGljayB8fCB0aGlzLnJlc2V0UG9zaXRpb24odGhpcy5vcHRpb25zLmJvdW5jZVRpbWUpLCBhLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9CiAgICB9LAogICAgX2luaXRTbmFwOiBmdW5jdGlvbiBfaW5pdFNuYXAoKSB7CiAgICAgIGlmICh0aGlzLnNjcm9sbGVyV2lkdGggPSB0aGlzLml0ZW1MZW5ndGggKiB0aGlzLnNjcm9sbGVyV2lkdGgsIHRoaXMubWF4U2Nyb2xsWCA9IE1hdGgubWluKHRoaXMud3JhcHBlcldpZHRoIC0gdGhpcy5zY3JvbGxlcldpZHRoLCAwKSwgdGhpcy5fc3VwZXIoKSwgdGhpcy5jdXJyZW50UGFnZS54KSB0aGlzLnNsaWRlTnVtYmVyID0gdGhpcy5fZml4ZWRTbGlkZU51bWJlcigpLCB0aGlzLmxhc3RTbGlkZU51bWJlciA9IHZvaWQgMCA9PT0gdGhpcy5sYXN0U2xpZGVOdW1iZXIgPyB0aGlzLnNsaWRlTnVtYmVyIDogdGhpcy5sYXN0U2xpZGVOdW1iZXI7ZWxzZSB7CiAgICAgICAgdmFyIGEgPSB0aGlzLnBhZ2VzW3RoaXMubG9vcCA/IDEgOiAwXTsKICAgICAgICBpZiAoIShhID0gYSB8fCB0aGlzLnBhZ2VzWzBdKSkgcmV0dXJuOwogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBhWzBdLCB0aGlzLnNsaWRlTnVtYmVyID0gMCwgdGhpcy5sYXN0U2xpZGVOdW1iZXIgPSB2b2lkIDAgPT09IHRoaXMubGFzdFNsaWRlTnVtYmVyID8gMCA6IHRoaXMubGFzdFNsaWRlTnVtYmVyOwogICAgICB9CiAgICAgIHRoaXMub3B0aW9ucy5zdGFydFggPSB0aGlzLmN1cnJlbnRQYWdlLnggfHwgMDsKICAgIH0sCiAgICBfZ2V0U25hcFg6IGZ1bmN0aW9uIF9nZXRTbmFwWChhKSB7CiAgICAgIHJldHVybiBNYXRoLm1heCgtYSwgdGhpcy5tYXhTY3JvbGxYKTsKICAgIH0sCiAgICBfZ2V0UGFnZTogZnVuY3Rpb24gX2dldFBhZ2UoYSwgYikgewogICAgICByZXR1cm4gdGhpcy5sb29wID8gYSA+IHRoaXMuaXRlbUxlbmd0aCAtIChiID8gMiA6IDMpID8gKGEgPSAxLCB0aW1lID0gMCkgOiBhIDwgKGIgPyAtMSA6IDApID8gKGEgPSB0aGlzLml0ZW1MZW5ndGggLSAyLCB0aW1lID0gMCkgOiBhICs9IDEgOiAoYiB8fCAoYSA+IHRoaXMuaXRlbUxlbmd0aCAtIDEgPyAoYSA9IDAsIHRpbWUgPSAwKSA6IGEgPCAwICYmIChhID0gdGhpcy5pdGVtTGVuZ3RoIC0gMSwgdGltZSA9IDApKSwgYSA9IE1hdGgubWluKE1hdGgubWF4KDAsIGEpLCB0aGlzLml0ZW1MZW5ndGggLSAxKSksIHRoaXMucGFnZXNbYV1bMF07CiAgICB9LAogICAgX2dvdG9JdGVtOiBmdW5jdGlvbiBfZ290b0l0ZW0oYiwgYykgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5fZ2V0UGFnZShiLCAhMCksIHRoaXMuc2Nyb2xsVG8odGhpcy5jdXJyZW50UGFnZS54LCAwLCBjLCB0aGlzLm9wdGlvbnMuc2Nyb2xsRWFzaW5nKSwgMCA9PT0gYyAmJiBhLnRyaWdnZXIodGhpcy53cmFwcGVyLCAic2Nyb2xsZW5kIiwgdGhpcyk7CiAgICB9LAogICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoYSwgYikgewogICAgICB0aGlzLl9zdXBlcihhLCBiKSwgdGhpcy5wcm9ncmVzc0JhciAmJiAodGhpcy5wcm9ncmVzc0JhclN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRoaXMuX2dldFRyYW5zbGF0ZVN0cigtYSAqICh0aGlzLnByb2dyZXNzQmFyV2lkdGggLyB0aGlzLndyYXBwZXJXaWR0aCksIDApKTsKICAgIH0sCiAgICByZXNldFBvc2l0aW9uOiBmdW5jdGlvbiByZXNldFBvc2l0aW9uKGEpIHsKICAgICAgcmV0dXJuIGEgPSBhIHx8IDAsIHRoaXMueCA+IDAgPyB0aGlzLnggPSAwIDogdGhpcy54IDwgdGhpcy5tYXhTY3JvbGxYICYmICh0aGlzLnggPSB0aGlzLm1heFNjcm9sbFgpLCB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5fbmVhcmVzdFNuYXAodGhpcy54KSwgdGhpcy5zY3JvbGxUbyh0aGlzLmN1cnJlbnRQYWdlLngsIDAsIGEsIHRoaXMub3B0aW9ucy5zY3JvbGxFYXNpbmcpLCAhMDsKICAgIH0sCiAgICBnb3RvSXRlbTogZnVuY3Rpb24gZ290b0l0ZW0oYSwgYikgewogICAgICB0aGlzLl9nb3RvSXRlbShhLCB2b2lkIDAgPT09IGIgPyB0aGlzLm9wdGlvbnMuc2Nyb2xsVGltZSA6IGIpOwogICAgfSwKICAgIG5leHRJdGVtOiBmdW5jdGlvbiBuZXh0SXRlbSgpIHsKICAgICAgdGhpcy5fZ290b0l0ZW0odGhpcy5zbGlkZU51bWJlciArIDEsIHRoaXMub3B0aW9ucy5zY3JvbGxUaW1lKTsKICAgIH0sCiAgICBwcmV2SXRlbTogZnVuY3Rpb24gcHJldkl0ZW0oKSB7CiAgICAgIHRoaXMuX2dvdG9JdGVtKHRoaXMuc2xpZGVOdW1iZXIgLSAxLCB0aGlzLm9wdGlvbnMuc2Nyb2xsVGltZSk7CiAgICB9LAogICAgZ2V0U2xpZGVOdW1iZXI6IGZ1bmN0aW9uIGdldFNsaWRlTnVtYmVyKCkgewogICAgICByZXR1cm4gdGhpcy5zbGlkZU51bWJlciB8fCAwOwogICAgfSwKICAgIF9yZUluaXQ6IGZ1bmN0aW9uIF9yZUluaXQoKSB7CiAgICAgIGZvciAodmFyIGEgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgiLiIgKyBkKSwgYiA9IDAsIGMgPSBhLmxlbmd0aDsgYiA8IGM7IGIrKykgewogICAgICAgIGlmIChhW2JdLnBhcmVudE5vZGUgPT09IHRoaXMud3JhcHBlcikgewogICAgICAgICAgdGhpcy5zY3JvbGxlciA9IGFbYl07CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZSA9IHRoaXMuc2Nyb2xsZXIgJiYgdGhpcy5zY3JvbGxlci5zdHlsZSwgdGhpcy5wcm9ncmVzc0JhciAmJiAodGhpcy5wcm9ncmVzc0JhcldpZHRoID0gdGhpcy5wcm9ncmVzc0Jhci5vZmZzZXRXaWR0aCwgdGhpcy5wcm9ncmVzc0JhclN0eWxlID0gdGhpcy5wcm9ncmVzc0Jhci5zdHlsZSk7CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChiKSB7CiAgICAgIGIgPyAoYS5leHRlbmQodGhpcy5vcHRpb25zLCBiKSwgdGhpcy5fc3VwZXIoKSwgdGhpcy5faW5pdFRpbWVyKCkpIDogdGhpcy5fc3VwZXIoKTsKICAgIH0sCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB0aGlzLl9pbml0RXZlbnQoITApLCBkZWxldGUgYS5kYXRhW3RoaXMud3JhcHBlci5nZXRBdHRyaWJ1dGUoImRhdGEtc2xpZGVyIildLCB0aGlzLndyYXBwZXIuc2V0QXR0cmlidXRlKCJkYXRhLXNsaWRlciIsICIiKTsKICAgIH0KICB9KTsKICBhLmZuLnNsaWRlciA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgZCA9IG51bGw7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKGMpIHx8IChlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCIuIiArIGMpKSwgZSAmJiBlLnF1ZXJ5U2VsZWN0b3IoaikpIHsKICAgICAgICB2YXIgZiA9IGUuZ2V0QXR0cmlidXRlKCJkYXRhLXNsaWRlciIpOwogICAgICAgIGYgPyAoZCA9IGEuZGF0YVtmXSkgJiYgYiAmJiBkLnJlZnJlc2goYikgOiAoZiA9ICsrYS51dWlkLCBhLmRhdGFbZl0gPSBkID0gbmV3IGwoZSwgYiksIGUuc2V0QXR0cmlidXRlKCJkYXRhLXNsaWRlciIsIGYpKTsKICAgICAgfQogICAgfSksIGQ7CiAgfSwgYS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICBhKCIubXVpLXNsaWRlciIpLnNsaWRlcigpLCBhKCIubXVpLXNjcm9sbC13cmFwcGVyLm11aS1zbGlkZXItaW5kaWNhdG9yLm11aS1zZWdtZW50ZWQtY29udHJvbCIpLnNjcm9sbCh7CiAgICAgIHNjcm9sbFk6ICExLAogICAgICBzY3JvbGxYOiAhMCwKICAgICAgaW5kaWNhdG9yczogITEsCiAgICAgIHNuYXA6ICIubXVpLWNvbnRyb2wtaXRlbSIKICAgIH0pOwogIH0pOwp9KG11aSwgd2luZG93KSwgZnVuY3Rpb24gKGEsIGIpIHsKICBhLm9zLnBsdXMgJiYgYS5wbHVzUmVhZHkoZnVuY3Rpb24gKCkgewogICAgaWYgKCExICE9PSB3aW5kb3cuX19OV2luX0VuYWJsZV9fKSB7CiAgICAgIHZhciBjID0gIm11aS12aXNpYmlsaXR5IiwKICAgICAgICAgIGQgPSAibXVpLWhpZGRlbiIsCiAgICAgICAgICBlID0gIm11aS1ibG9jayIsCiAgICAgICAgICBmID0gIm11aS1wdWxsLWNhcHRpb24iLAogICAgICAgICAgZyA9ICJtdWktcHVsbC1jYXB0aW9uLWRvd24iLAogICAgICAgICAgaCA9ICJtdWktcHVsbC1jYXB0aW9uLXJlZnJlc2giLAogICAgICAgICAgaSA9ICJtdWktcHVsbC1jYXB0aW9uLW5vbW9yZSIsCiAgICAgICAgICBqID0gYS5DbGFzcy5leHRlbmQoewogICAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoYSwgYikgewogICAgICAgICAgdGhpcy5lbGVtZW50ID0gYSwgdGhpcy5vcHRpb25zID0gYiwgdGhpcy53cmFwcGVyID0gdGhpcy5zY3JvbGxlciA9IGEsIHRoaXMuX2luaXQoKSwgdGhpcy5faW5pdFB1bGxkb3duUmVmcmVzaEV2ZW50KCk7CiAgICAgICAgfSwKICAgICAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7CiAgICAgICAgICB2YXIgYSA9IHRoaXM7CiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ3VwIiwgYSksIGIuYWRkRXZlbnRMaXN0ZW5lcigicGx1c3Njcm9sbGJvdHRvbSIsIGEpLCBhLnNjcm9sbEludGVydmFsID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYS5pc1Njcm9sbCAmJiAhYS5sb2FkaW5nICYmIHdpbmRvdy5wYWdlWU9mZnNldCArIHdpbmRvdy5pbm5lckhlaWdodCArIDEwID49IGIuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAmJiAoYS5pc1Njcm9sbCA9ICExLCBhLmJvdHRvbVBvY2tldCAmJiBhLnB1bGx1cExvYWRpbmcoKSk7CiAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0sCiAgICAgICAgX2luaXRQdWxsZG93blJlZnJlc2hFdmVudDogZnVuY3Rpb24gX2luaXRQdWxsZG93blJlZnJlc2hFdmVudCgpIHsKICAgICAgICAgIHZhciBiID0gdGhpczsKICAgICAgICAgIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCJjaXJjbGUiID09IGIub3B0aW9ucy5kb3duLnN0eWxlKSBiLm9wdGlvbnMud2VidmlldyA9IHBsdXMud2Vidmlldy5jdXJyZW50V2VidmlldygpLCBiLm9wdGlvbnMud2Vidmlldy5zZXRQdWxsVG9SZWZyZXNoKHsKICAgICAgICAgICAgICBzdXBwb3J0OiAhMCwKICAgICAgICAgICAgICBjb2xvcjogYi5vcHRpb25zLmRvd24uY29sb3IgfHwgIiMyQkQwMDkiLAogICAgICAgICAgICAgIGhlaWdodDogYi5vcHRpb25zLmRvd24uaGVpZ2h0IHx8ICI1MHB4IiwKICAgICAgICAgICAgICByYW5nZTogYi5vcHRpb25zLmRvd24ucmFuZ2UgfHwgIjEwMHB4IiwKICAgICAgICAgICAgICBzdHlsZTogImNpcmNsZSIsCiAgICAgICAgICAgICAgb2Zmc2V0OiBiLm9wdGlvbnMuZG93bi5vZmZzZXQgfHwgIjBweCIKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGIub3B0aW9ucy5kb3duLmNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0pO2Vsc2UgaWYgKGIudG9wUG9ja2V0ICYmIGIub3B0aW9ucy53ZWJ2aWV3SWQpIHsKICAgICAgICAgICAgICB2YXIgYSA9IHBsdXMud2Vidmlldy5nZXRXZWJ2aWV3QnlJZChiLm9wdGlvbnMud2Vidmlld0lkKTsKICAgICAgICAgICAgICBpZiAoIWEpIHJldHVybjsKICAgICAgICAgICAgICBiLm9wdGlvbnMud2VidmlldyA9IGE7CiAgICAgICAgICAgICAgdmFyIGMgPSBiLm9wdGlvbnMuZG93biwKICAgICAgICAgICAgICAgICAgZCA9IGMuaGVpZ2h0OwogICAgICAgICAgICAgIGEuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgYSA9IGIub3B0aW9ucy53ZWJ2aWV3SWQgJiYgYi5vcHRpb25zLndlYnZpZXdJZC5yZXBsYWNlKC9cLy9nLCAiXyIpOwogICAgICAgICAgICAgICAgYi5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1wdWxscmVmcmVzaC1wbHVzLSIgKyBhKTsKICAgICAgICAgICAgICB9KSwgYS5hZGRFdmVudExpc3RlbmVyKCJkcmFnQm91bmNlIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoYi5wdWxsZG93biA/IGIucHVsbFBvY2tldC5jbGFzc0xpc3QuYWRkKGUpIDogYi5faW5pdFB1bGxkb3duUmVmcmVzaCgpLCBkLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBjYXNlICJiZWZvcmVDaGFuZ2VPZmZzZXQiOgogICAgICAgICAgICAgICAgICAgIGIuX3NldENhcHRpb24oYy5jb250ZW50ZG93bik7CgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgY2FzZSAiYWZ0ZXJDaGFuZ2VPZmZzZXQiOgogICAgICAgICAgICAgICAgICAgIGIuX3NldENhcHRpb24oYy5jb250ZW50b3Zlcik7CgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgY2FzZSAiZHJhZ0VuZEFmdGVyQ2hhbmdlT2Zmc2V0IjoKICAgICAgICAgICAgICAgICAgICBhLmV2YWxKUygid2luZG93Lm11aSYmbXVpLm9wdGlvbnMucHVsbFJlZnJlc2guZG93bi5jYWxsYmFjaygpIiksIGIuX3NldENhcHRpb24oYy5jb250ZW50cmVmcmVzaCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgITEpLCBhLnNldEJvdW5jZSh7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogewogICAgICAgICAgICAgICAgICB0b3A6IDIgKiBkICsgInB4IgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNoYW5nZW9mZnNldDogewogICAgICAgICAgICAgICAgICB0b3A6IGQgKyAicHgiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGEpIHsKICAgICAgICAgIHZhciBiID0gdGhpczsKICAgICAgICAgIGIuc3RvcHBlZCB8fCAoYi5pc1Njcm9sbCA9ICExLCAiZHJhZ3VwIiAhPT0gYS50eXBlICYmICJwbHVzc2Nyb2xsYm90dG9tIiAhPT0gYS50eXBlIHx8IChiLmlzU2Nyb2xsID0gITAsIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBiLmlzU2Nyb2xsID0gITE7CiAgICAgICAgICB9LCAxZTMpKSk7CiAgICAgICAgfQogICAgICB9KS5leHRlbmQoYS5leHRlbmQoewogICAgICAgIHNldFN0b3BwZWQ6IGZ1bmN0aW9uIHNldFN0b3BwZWQoYSkgewogICAgICAgICAgdGhpcy5zdG9wcGVkID0gISFhLCB0aGlzLnN0b3BwZWQgPyAodGhpcy5kaXNhYmxlUHVsbHVwVG9SZWZyZXNoKCksIHRoaXMuZGlzYWJsZVB1bGxkb3duVG9SZWZyZXNoKCkpIDogKHRoaXMuZW5hYmxlUHVsbHVwVG9SZWZyZXNoKCksIHRoaXMuZW5hYmxlUHVsbGRvd25Ub1JlZnJlc2goKSk7CiAgICAgICAgfSwKICAgICAgICBiZWdpblB1bGxkb3duOiBmdW5jdGlvbiBiZWdpblB1bGxkb3duKCkgewogICAgICAgICAgdmFyIGIgPSB0aGlzOwogICAgICAgICAgYS5wbHVzUmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAoImNpcmNsZSIgPT0gYi5vcHRpb25zLmRvd24uc3R5bGUpIHBsdXMud2Vidmlldy5jdXJyZW50V2VidmlldygpLmJlZ2luUHVsbFRvUmVmcmVzaCgpO2Vsc2UgewogICAgICAgICAgICAgICAgdmFyIGEgPSBiLm9wdGlvbnMud2VidmlldzsKICAgICAgICAgICAgICAgIGEgJiYgYS5zZXRCb3VuY2UoewogICAgICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgICAgICB0b3A6IGIub3B0aW9ucy5kb3duLmhlaWdodCArICJweCIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxNSk7CiAgICAgICAgICB9LmJpbmQodGhpcykpOwogICAgICAgIH0sCiAgICAgICAgcHVsbGRvd25Mb2FkaW5nOiBmdW5jdGlvbiBwdWxsZG93bkxvYWRpbmcoKSB7CiAgICAgICAgICB0aGlzLmJlZ2luUHVsbGRvd24oKTsKICAgICAgICB9LAogICAgICAgIF9wdWxsZG93bkxvYWRpbmc6IGZ1bmN0aW9uIF9wdWxsZG93bkxvYWRpbmcoKSB7CiAgICAgICAgICB2YXIgYiA9IHRoaXM7CiAgICAgICAgICBhLnBsdXNSZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBhID0gcGx1cy53ZWJ2aWV3LmdldFdlYnZpZXdCeUlkKGIub3B0aW9ucy53ZWJ2aWV3SWQpOwogICAgICAgICAgICBhICYmIGEuc2V0Qm91bmNlKHsKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHRvcDogYi5vcHRpb25zLmRvd24uaGVpZ2h0ICsgInB4IgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGVuZFB1bGxkb3duOiBmdW5jdGlvbiBlbmRQdWxsZG93bigpIHsKICAgICAgICAgIHZhciBhID0gcGx1cy53ZWJ2aWV3LmN1cnJlbnRXZWJ2aWV3KCk7CiAgICAgICAgICBhLnBhcmVudCgpICYmICJjaXJjbGUiICE9PSB0aGlzLm9wdGlvbnMuZG93bi5zdHlsZSA/IGEucGFyZW50KCkuZXZhbEpTKCJtdWkmJm11aShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXVpLWNvbnRlbnQnKSkucHVsbFJlZnJlc2goJyIgKyBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIHdlYnZpZXdJZDogYS5pZAogICAgICAgICAgfSkgKyAiJykuX2VuZFB1bGxkb3duVG9SZWZyZXNoKCkiKSA6IGEuZW5kUHVsbFRvUmVmcmVzaCgpOwogICAgICAgIH0sCiAgICAgICAgZW5kUHVsbGRvd25Ub1JlZnJlc2g6IGZ1bmN0aW9uIGVuZFB1bGxkb3duVG9SZWZyZXNoKCkgewogICAgICAgICAgdGhpcy5lbmRQdWxsZG93bigpOwogICAgICAgIH0sCiAgICAgICAgX2VuZFB1bGxkb3duVG9SZWZyZXNoOiBmdW5jdGlvbiBfZW5kUHVsbGRvd25Ub1JlZnJlc2goKSB7CiAgICAgICAgICB2YXIgYSA9IHRoaXM7CiAgICAgICAgICBhLnRvcFBvY2tldCAmJiBhLm9wdGlvbnMud2VidmlldyAmJiAoYS5vcHRpb25zLndlYnZpZXcuZW5kUHVsbFRvUmVmcmVzaCgpLCBhLmxvYWRpbmcgPSAhMSwgYS5fc2V0Q2FwdGlvbihhLm9wdGlvbnMuZG93bi5jb250ZW50ZG93biwgITApLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYS5sb2FkaW5nIHx8IGEudG9wUG9ja2V0LmNsYXNzTGlzdC5yZW1vdmUoZSk7CiAgICAgICAgICB9LCAzNTApKTsKICAgICAgICB9LAogICAgICAgIGJlZ2luUHVsbHVwOiBmdW5jdGlvbiBiZWdpblB1bGx1cChhKSB7CiAgICAgICAgICB2YXIgYiA9IHRoaXM7CiAgICAgICAgICBiLmlzTG9hZGluZyB8fCAoYi5pc0xvYWRpbmcgPSAhMCwgITEgIT09IGIucHVsbGRvd24gPyBiLl9pbml0UHVsbHVwUmVmcmVzaCgpIDogdGhpcy5wdWxsUG9ja2V0LmNsYXNzTGlzdC5hZGQoZSksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBiLnB1bGxMb2FkaW5nLmNsYXNzTGlzdC5hZGQoYyksIGIucHVsbExvYWRpbmcuY2xhc3NMaXN0LnJlbW92ZShkKSwgYi5wdWxsQ2FwdGlvbi5pbm5lckhUTUwgPSAiIiwgYi5wdWxsQ2FwdGlvbi5jbGFzc05hbWUgPSBmICsgIiAiICsgaCwgYi5wdWxsQ2FwdGlvbi5pbm5lckhUTUwgPSBiLm9wdGlvbnMudXAuY29udGVudHJlZnJlc2gsIChhID0gYSB8fCBiLm9wdGlvbnMudXAuY2FsbGJhY2spICYmIGEuY2FsbChiKTsKICAgICAgICAgIH0sIDMwMCkpOwogICAgICAgIH0sCiAgICAgICAgcHVsbHVwTG9hZGluZzogZnVuY3Rpb24gcHVsbHVwTG9hZGluZyhhKSB7CiAgICAgICAgICB0aGlzLmJlZ2luUHVsbHVwKGEpOwogICAgICAgIH0sCiAgICAgICAgZW5kUHVsbHVwOiBmdW5jdGlvbiBlbmRQdWxsdXAoYSkgewogICAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgICAgZS5wdWxsTG9hZGluZyAmJiAoZS5wdWxsTG9hZGluZy5jbGFzc0xpc3QucmVtb3ZlKGMpLCBlLnB1bGxMb2FkaW5nLmNsYXNzTGlzdC5hZGQoZCksIGUuaXNMb2FkaW5nID0gITEsIGEgPyAoZS5maW5pc2hlZCA9ICEwLCBlLnB1bGxDYXB0aW9uLmNsYXNzTmFtZSA9IGYgKyAiICIgKyBpLCBlLnB1bGxDYXB0aW9uLmlubmVySFRNTCA9IGUub3B0aW9ucy51cC5jb250ZW50bm9tb3JlLCBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBsdXNzY3JvbGxib3R0b20iLCBlKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImRyYWd1cCIsIGUpKSA6IChlLnB1bGxDYXB0aW9uLmNsYXNzTmFtZSA9IGYgKyAiICIgKyBnLCBlLnB1bGxDYXB0aW9uLmlubmVySFRNTCA9IGUub3B0aW9ucy51cC5jb250ZW50ZG93bikpOwogICAgICAgIH0sCiAgICAgICAgZW5kUHVsbHVwVG9SZWZyZXNoOiBmdW5jdGlvbiBlbmRQdWxsdXBUb1JlZnJlc2goYSkgewogICAgICAgICAgdGhpcy5lbmRQdWxsdXAoYSk7CiAgICAgICAgfSwKICAgICAgICBkaXNhYmxlUHVsbGRvd25Ub1JlZnJlc2g6IGZ1bmN0aW9uIGRpc2FibGVQdWxsZG93blRvUmVmcmVzaCgpIHsKICAgICAgICAgIHZhciBhID0gcGx1cy53ZWJ2aWV3LmN1cnJlbnRXZWJ2aWV3KCk7CiAgICAgICAgICB0aGlzLm9wdGlvbnMuZG93bi5zdHlsZSAmJiAiY2lyY2xlIiA9PSB0aGlzLm9wdGlvbnMuZG93bi5zdHlsZSA/IHRoaXMub3B0aW9ucy53ZWJ2aWV3LnNldFB1bGxUb1JlZnJlc2goewogICAgICAgICAgICBzdXBwb3J0OiAhMSwKICAgICAgICAgICAgc3R5bGU6ICJjaXJjbGUiCiAgICAgICAgICB9KSA6IChhLnNldFN0eWxlKHsKICAgICAgICAgICAgYm91bmNlOiAibm9uZSIKICAgICAgICAgIH0pLCBhLnNldEJvdW5jZSh7CiAgICAgICAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgICAgICAgdG9wOiAibm9uZSIKICAgICAgICAgICAgfQogICAgICAgICAgfSkpOwogICAgICAgIH0sCiAgICAgICAgZW5hYmxlUHVsbGRvd25Ub1JlZnJlc2g6IGZ1bmN0aW9uIGVuYWJsZVB1bGxkb3duVG9SZWZyZXNoKCkgewogICAgICAgICAgdmFyIGEgPSB0aGlzLAogICAgICAgICAgICAgIGIgPSBwbHVzLndlYnZpZXcuY3VycmVudFdlYnZpZXcoKSwKICAgICAgICAgICAgICBjID0gdGhpcy5vcHRpb25zLmRvd24uaGVpZ2h0OwogICAgICAgICAgdGhpcy5vcHRpb25zLmRvd24uc3R5bGUgJiYgImNpcmNsZSIgPT0gdGhpcy5vcHRpb25zLmRvd24uc3R5bGUgPyBiLnNldFB1bGxUb1JlZnJlc2goewogICAgICAgICAgICBzdXBwb3J0OiAhMCwKICAgICAgICAgICAgaGVpZ2h0OiBjIHx8ICI1MHB4IiwKICAgICAgICAgICAgcmFuZ2U6IGEub3B0aW9ucy5kb3duLnJhbmdlIHx8ICIxMDBweCIsCiAgICAgICAgICAgIHN0eWxlOiAiY2lyY2xlIiwKICAgICAgICAgICAgb2Zmc2V0OiBhLm9wdGlvbnMuZG93bi5vZmZzZXQgfHwgIjBweCIKICAgICAgICAgIH0pIDogKGIuc2V0U3R5bGUoewogICAgICAgICAgICBib3VuY2U6ICJ2ZXJ0aWNhbCIKICAgICAgICAgIH0pLCBiLnNldEJvdW5jZSh7CiAgICAgICAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgICAgICAgdG9wOiAyICogYyArICJweCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2hhbmdlb2Zmc2V0OiB7CiAgICAgICAgICAgICAgdG9wOiBjICsgInB4IgogICAgICAgICAgICB9CiAgICAgICAgICB9KSk7CiAgICAgICAgfSwKICAgICAgICBkaXNhYmxlUHVsbHVwVG9SZWZyZXNoOiBmdW5jdGlvbiBkaXNhYmxlUHVsbHVwVG9SZWZyZXNoKCkgewogICAgICAgICAgdGhpcy5faW5pdFB1bGx1cFJlZnJlc2goKSwgdGhpcy5ib3R0b21Qb2NrZXQuY2xhc3NOYW1lID0gIm11aS1wdWxsLWJvdHRvbS1wb2NrZXQgIiArIGQsIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJkcmFndXAiLCB0aGlzKTsKICAgICAgICB9LAogICAgICAgIGVuYWJsZVB1bGx1cFRvUmVmcmVzaDogZnVuY3Rpb24gZW5hYmxlUHVsbHVwVG9SZWZyZXNoKCkgewogICAgICAgICAgdGhpcy5faW5pdFB1bGx1cFJlZnJlc2goKSwgdGhpcy5ib3R0b21Qb2NrZXQuY2xhc3NMaXN0LnJlbW92ZShkKSwgdGhpcy5wdWxsQ2FwdGlvbi5jbGFzc05hbWUgPSBmICsgIiAiICsgZywgdGhpcy5wdWxsQ2FwdGlvbi5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMudXAuY29udGVudGRvd24sIGIuYWRkRXZlbnRMaXN0ZW5lcigicGx1c3Njcm9sbGJvdHRvbSIsIHRoaXMpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ3VwIiwgdGhpcyk7CiAgICAgICAgfSwKICAgICAgICBzY3JvbGxUbzogZnVuY3Rpb24gc2Nyb2xsVG8oYiwgYywgZCkgewogICAgICAgICAgYS5zY3JvbGxUbyhjLCBkKTsKICAgICAgICB9LAogICAgICAgIHNjcm9sbFRvQm90dG9tOiBmdW5jdGlvbiBzY3JvbGxUb0JvdHRvbShjKSB7CiAgICAgICAgICBhLnNjcm9sbFRvKGIuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgYyk7CiAgICAgICAgfSwKICAgICAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKGEpIHsKICAgICAgICAgIGEgJiYgdGhpcy5maW5pc2hlZCAmJiAodGhpcy5lbmFibGVQdWxsdXBUb1JlZnJlc2goKSwgdGhpcy5maW5pc2hlZCA9ICExKTsKICAgICAgICB9CiAgICAgIH0sIGEuUHVsbFJlZnJlc2gpKTsKCiAgICAgIGEuZm4ucHVsbFJlZnJlc2hfbmF0aXZlID0gZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgZDsKICAgICAgICAwID09PSB0aGlzLmxlbmd0aCA/IChkID0gYi5jcmVhdGVFbGVtZW50KCJkaXYiKSwgZC5jbGFzc05hbWUgPSAibXVpLWNvbnRlbnQiLCBiLmJvZHkuYXBwZW5kQ2hpbGQoZCkpIDogZCA9IHRoaXNbMF07CiAgICAgICAgdmFyIGUgPSBjOwogICAgICAgIGMgPSBjIHx8IHt9LCAic3RyaW5nIiA9PSB0eXBlb2YgYyAmJiAoYyA9IGEucGFyc2VKU09OKGMpKSwgIWMud2Vidmlld0lkICYmIChjLndlYnZpZXdJZCA9IHBsdXMud2Vidmlldy5jdXJyZW50V2VidmlldygpLmlkIHx8IHBsdXMud2Vidmlldy5jdXJyZW50V2VidmlldygpLmdldFVSTCgpKTsKICAgICAgICB2YXIgZiA9IG51bGwsCiAgICAgICAgICAgIGcgPSBjLndlYnZpZXdJZCAmJiBjLndlYnZpZXdJZC5yZXBsYWNlKC9cLy9nLCAiXyIpLAogICAgICAgICAgICBoID0gZC5nZXRBdHRyaWJ1dGUoImRhdGEtcHVsbHJlZnJlc2gtcGx1cy0iICsgZyk7CiAgICAgICAgcmV0dXJuICEoIWggJiYgdm9pZCAwID09PSBlKSAmJiAoaCA/IGYgPSBhLmRhdGFbaF0gOiAoaCA9ICsrYS51dWlkLCBkLnNldEF0dHJpYnV0ZSgiZGF0YS1wdWxscmVmcmVzaC1wbHVzLSIgKyBnLCBoKSwgYi5ib2R5LmNsYXNzTGlzdC5hZGQoIm11aS1wbHVzLXB1bGxyZWZyZXNoIiksIGEuZGF0YVtoXSA9IGYgPSBuZXcgaihkLCBjKSksIGMuZG93biAmJiBjLmRvd24uYXV0byA/IGYuYmVnaW5QdWxsZG93bigpIDogYy51cCAmJiBjLnVwLmF1dG8gJiYgZi5iZWdpblB1bGx1cCgpLCBmKTsKICAgICAgfTsKICAgIH0KICB9KTsKfShtdWksIGRvY3VtZW50KSwgZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICB2YXIgZSA9ICJtdWktb2ZmLWNhbnZhcy1sZWZ0IiwKICAgICAgZiA9ICJtdWktb2ZmLWNhbnZhcy1yaWdodCIsCiAgICAgIGcgPSAibXVpLW9mZi1jYW52YXMtYmFja2Ryb3AiLAogICAgICBoID0gIm11aS1vZmYtY2FudmFzLXdyYXAiLAogICAgICBpID0gIm11aS1zbGlkZS1pbiIsCiAgICAgIGogPSAibXVpLWFjdGl2ZSIsCiAgICAgIGsgPSAibXVpLXRyYW5zaXRpb25pbmciLAogICAgICBsID0gIi5tdWktaW5uZXItd3JhcCIsCiAgICAgIG0gPSBhLkNsYXNzLmV4dGVuZCh7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGIsIGQpIHsKICAgICAgdGhpcy53cmFwcGVyID0gdGhpcy5lbGVtZW50ID0gYiwgdGhpcy5zY3JvbGxlciA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGwpLCB0aGlzLmNsYXNzTGlzdCA9IHRoaXMud3JhcHBlci5jbGFzc0xpc3QsIHRoaXMuc2Nyb2xsZXIgJiYgKHRoaXMub3B0aW9ucyA9IGEuZXh0ZW5kKCEwLCB7CiAgICAgICAgZHJhZ1RocmVzaG9sZFg6IDEwLAogICAgICAgIHNjYWxlOiAuOCwKICAgICAgICBvcGFjaXR5OiAuMSwKICAgICAgICBwcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbjogewogICAgICAgICAgdGFnTmFtZTogL14oSU5QVVR8VEVYVEFSRUF8QlVUVE9OfFNFTEVDVHxWSURFTykkLwogICAgICAgIH0KICAgICAgfSwgZCksIGMuYm9keS5jbGFzc0xpc3QuYWRkKCJtdWktZnVsbHNjcmVlbiIpLCB0aGlzLnJlZnJlc2goKSwgdGhpcy5pbml0RXZlbnQoKSk7CiAgICB9LAogICAgX3ByZXZlbnREZWZhdWx0RXhjZXB0aW9uOiBmdW5jdGlvbiBfcHJldmVudERlZmF1bHRFeGNlcHRpb24oYSwgYikgewogICAgICBmb3IgKHZhciBjIGluIGIpIHsKICAgICAgICBpZiAoYltjXS50ZXN0KGFbY10pKSByZXR1cm4gITA7CiAgICAgIH0KCiAgICAgIHJldHVybiAhMTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKGEpIHsKICAgICAgdGhpcy5zbGlkZUluID0gdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoaSksIHRoaXMuc2NhbGFibGUgPSB0aGlzLmNsYXNzTGlzdC5jb250YWlucygibXVpLXNjYWxhYmxlIikgJiYgIXRoaXMuc2xpZGVJbiwgdGhpcy5zY3JvbGxlciA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGwpLCB0aGlzLm9mZkNhbnZhc0xlZnRzID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iICsgZSksIHRoaXMub2ZmQ2FudmFzUmlnaHRzID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iICsgZiksIGEgPyBhLmNsYXNzTGlzdC5jb250YWlucyhlKSA/IHRoaXMub2ZmQ2FudmFzTGVmdCA9IGEgOiBhLmNsYXNzTGlzdC5jb250YWlucyhmKSAmJiAodGhpcy5vZmZDYW52YXNSaWdodCA9IGEpIDogKHRoaXMub2ZmQ2FudmFzUmlnaHQgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcigiLiIgKyBmKSwgdGhpcy5vZmZDYW52YXNMZWZ0ID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoIi4iICsgZSkpLCB0aGlzLm9mZkNhbnZhc1JpZ2h0V2lkdGggPSB0aGlzLm9mZkNhbnZhc0xlZnRXaWR0aCA9IDAsIHRoaXMub2ZmQ2FudmFzTGVmdFNsaWRlSW4gPSB0aGlzLm9mZkNhbnZhc1JpZ2h0U2xpZGVJbiA9ICExLCB0aGlzLm9mZkNhbnZhc1JpZ2h0ICYmICh0aGlzLm9mZkNhbnZhc1JpZ2h0V2lkdGggPSB0aGlzLm9mZkNhbnZhc1JpZ2h0Lm9mZnNldFdpZHRoLCB0aGlzLm9mZkNhbnZhc1JpZ2h0U2xpZGVJbiA9IHRoaXMuc2xpZGVJbiAmJiB0aGlzLm9mZkNhbnZhc1JpZ2h0LnBhcmVudE5vZGUgPT09IHRoaXMud3JhcHBlciksIHRoaXMub2ZmQ2FudmFzTGVmdCAmJiAodGhpcy5vZmZDYW52YXNMZWZ0V2lkdGggPSB0aGlzLm9mZkNhbnZhc0xlZnQub2Zmc2V0V2lkdGgsIHRoaXMub2ZmQ2FudmFzTGVmdFNsaWRlSW4gPSB0aGlzLnNsaWRlSW4gJiYgdGhpcy5vZmZDYW52YXNMZWZ0LnBhcmVudE5vZGUgPT09IHRoaXMud3JhcHBlciksIHRoaXMuYmFja2Ryb3AgPSB0aGlzLnNjcm9sbGVyLnF1ZXJ5U2VsZWN0b3IoIi4iICsgZyksIHRoaXMub3B0aW9ucy5kcmFnVGhyZXNob2xkWCA9IHRoaXMub3B0aW9ucy5kcmFnVGhyZXNob2xkWCB8fCAxMCwgdGhpcy52aXNpYmxlID0gITEsIHRoaXMuc3RhcnRYID0gbnVsbCwgdGhpcy5sYXN0WCA9IG51bGwsIHRoaXMub2Zmc2V0WCA9IG51bGwsIHRoaXMubGFzdFRyYW5zbGF0ZVggPSBudWxsOwogICAgfSwKICAgIGhhbmRsZUV2ZW50OiBmdW5jdGlvbiBoYW5kbGVFdmVudChiKSB7CiAgICAgIHN3aXRjaCAoYi50eXBlKSB7CiAgICAgICAgY2FzZSBhLkVWRU5UX1NUQVJUOgogICAgICAgICAgYi50YXJnZXQgJiYgIXRoaXMuX3ByZXZlbnREZWZhdWx0RXhjZXB0aW9uKGIudGFyZ2V0LCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHRFeGNlcHRpb24pICYmIGIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ3ZWJraXRUcmFuc2l0aW9uRW5kIjoKICAgICAgICAgIGIudGFyZ2V0ID09PSB0aGlzLnNjcm9sbGVyICYmIHRoaXMuX2Rpc3BhdGNoRXZlbnQoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkcmFnIjoKICAgICAgICAgIHZhciBjID0gYi5kZXRhaWw7CiAgICAgICAgICB0aGlzLnN0YXJ0WCA/IHRoaXMubGFzdFggPSBjLmNlbnRlci54IDogKHRoaXMuc3RhcnRYID0gYy5jZW50ZXIueCwgdGhpcy5sYXN0WCA9IHRoaXMuc3RhcnRYKSwgIXRoaXMuaXNEcmFnZ2luZyAmJiBNYXRoLmFicyh0aGlzLmxhc3RYIC0gdGhpcy5zdGFydFgpID4gdGhpcy5vcHRpb25zLmRyYWdUaHJlc2hvbGRYICYmICgibGVmdCIgPT09IGMuZGlyZWN0aW9uIHx8ICJyaWdodCIgPT09IGMuZGlyZWN0aW9uKSAmJiAodGhpcy5zbGlkZUluID8gKHRoaXMuc2Nyb2xsZXIgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcihsKSwgdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoaikgPyB0aGlzLm9mZkNhbnZhc1JpZ2h0ICYmIHRoaXMub2ZmQ2FudmFzUmlnaHQuY2xhc3NMaXN0LmNvbnRhaW5zKGopID8gKHRoaXMub2ZmQ2FudmFzID0gdGhpcy5vZmZDYW52YXNSaWdodCwgdGhpcy5vZmZDYW52YXNXaWR0aCA9IHRoaXMub2ZmQ2FudmFzUmlnaHRXaWR0aCkgOiAodGhpcy5vZmZDYW52YXMgPSB0aGlzLm9mZkNhbnZhc0xlZnQsIHRoaXMub2ZmQ2FudmFzV2lkdGggPSB0aGlzLm9mZkNhbnZhc0xlZnRXaWR0aCkgOiAibGVmdCIgPT09IGMuZGlyZWN0aW9uICYmIHRoaXMub2ZmQ2FudmFzUmlnaHQgPyAodGhpcy5vZmZDYW52YXMgPSB0aGlzLm9mZkNhbnZhc1JpZ2h0LCB0aGlzLm9mZkNhbnZhc1dpZHRoID0gdGhpcy5vZmZDYW52YXNSaWdodFdpZHRoKSA6ICJyaWdodCIgPT09IGMuZGlyZWN0aW9uICYmIHRoaXMub2ZmQ2FudmFzTGVmdCA/ICh0aGlzLm9mZkNhbnZhcyA9IHRoaXMub2ZmQ2FudmFzTGVmdCwgdGhpcy5vZmZDYW52YXNXaWR0aCA9IHRoaXMub2ZmQ2FudmFzTGVmdFdpZHRoKSA6IHRoaXMuc2Nyb2xsZXIgPSBudWxsKSA6IHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKGopID8gImxlZnQiID09PSBjLmRpcmVjdGlvbiA/ICh0aGlzLm9mZkNhbnZhcyA9IHRoaXMub2ZmQ2FudmFzTGVmdCwgdGhpcy5vZmZDYW52YXNXaWR0aCA9IHRoaXMub2ZmQ2FudmFzTGVmdFdpZHRoKSA6ICh0aGlzLm9mZkNhbnZhcyA9IHRoaXMub2ZmQ2FudmFzUmlnaHQsIHRoaXMub2ZmQ2FudmFzV2lkdGggPSB0aGlzLm9mZkNhbnZhc1JpZ2h0V2lkdGgpIDogInJpZ2h0IiA9PT0gYy5kaXJlY3Rpb24gPyAodGhpcy5vZmZDYW52YXMgPSB0aGlzLm9mZkNhbnZhc0xlZnQsIHRoaXMub2ZmQ2FudmFzV2lkdGggPSB0aGlzLm9mZkNhbnZhc0xlZnRXaWR0aCkgOiAodGhpcy5vZmZDYW52YXMgPSB0aGlzLm9mZkNhbnZhc1JpZ2h0LCB0aGlzLm9mZkNhbnZhc1dpZHRoID0gdGhpcy5vZmZDYW52YXNSaWdodFdpZHRoKSwgdGhpcy5vZmZDYW52YXMgJiYgdGhpcy5zY3JvbGxlciAmJiAodGhpcy5zdGFydFggPSB0aGlzLmxhc3RYLCB0aGlzLmlzRHJhZ2dpbmcgPSAhMCwgYS5nZXN0dXJlcy5zZXNzaW9uLmxvY2tEaXJlY3Rpb24gPSAhMCwgYS5nZXN0dXJlcy5zZXNzaW9uLnN0YXJ0RGlyZWN0aW9uID0gYy5kaXJlY3Rpb24sIHRoaXMub2ZmQ2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoayksIHRoaXMuc2Nyb2xsZXIuY2xhc3NMaXN0LnJlbW92ZShrKSwgdGhpcy5vZmZzZXRYID0gdGhpcy5nZXRUcmFuc2xhdGVYKCksIHRoaXMuX2luaXRPZmZDYW52YXNWaXNpYmxlKCkpKSwgdGhpcy5pc0RyYWdnaW5nICYmICh0aGlzLnVwZGF0ZVRyYW5zbGF0ZSh0aGlzLm9mZnNldFggKyAodGhpcy5sYXN0WCAtIHRoaXMuc3RhcnRYKSksIGMuZ2VzdHVyZS5wcmV2ZW50RGVmYXVsdCgpLCBiLnN0b3BQcm9wYWdhdGlvbigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkcmFnZW5kIjoKICAgICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHsKICAgICAgICAgICAgdmFyIGMgPSBiLmRldGFpbCwKICAgICAgICAgICAgICAgIGQgPSBjLmRpcmVjdGlvbjsKICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gITEsIHRoaXMub2ZmQ2FudmFzLmNsYXNzTGlzdC5hZGQoayksIHRoaXMuc2Nyb2xsZXIuY2xhc3NMaXN0LmFkZChrKTsKICAgICAgICAgICAgdmFyIGUgPSAwLAogICAgICAgICAgICAgICAgZiA9IHRoaXMuZ2V0VHJhbnNsYXRlWCgpOwoKICAgICAgICAgICAgaWYgKHRoaXMuc2xpZGVJbikgewogICAgICAgICAgICAgIGlmIChlID0gZiA+PSAwID8gdGhpcy5vZmZDYW52YXNSaWdodFdpZHRoICYmIGYgLyB0aGlzLm9mZkNhbnZhc1JpZ2h0V2lkdGggfHwgMCA6IHRoaXMub2ZmQ2FudmFzTGVmdFdpZHRoICYmIGYgLyB0aGlzLm9mZkNhbnZhc0xlZnRXaWR0aCB8fCAwLCAicmlnaHQiID09PSBkICYmIGUgPD0gMCAmJiAoZSA+PSAtLjUgfHwgYy5zd2lwZSkgPyB0aGlzLm9wZW5QZXJjZW50YWdlKDEwMCkgOiAicmlnaHQiID09PSBkICYmIGUgPiAwICYmIChlID49IC41IHx8IGMuc3dpcGUpID8gdGhpcy5vcGVuUGVyY2VudGFnZSgwKSA6ICJyaWdodCIgPT09IGQgJiYgZSA8PSAtLjUgPyB0aGlzLm9wZW5QZXJjZW50YWdlKDApIDogInJpZ2h0IiA9PT0gZCAmJiBlID4gMCAmJiBlIDw9IC41ID8gdGhpcy5vcGVuUGVyY2VudGFnZSgtMTAwKSA6ICJsZWZ0IiA9PT0gZCAmJiBlID49IDAgJiYgKGUgPD0gLjUgfHwgYy5zd2lwZSkgPyB0aGlzLm9wZW5QZXJjZW50YWdlKC0xMDApIDogImxlZnQiID09PSBkICYmIGUgPCAwICYmIChlIDw9IC0uNSB8fCBjLnN3aXBlKSA/IHRoaXMub3BlblBlcmNlbnRhZ2UoMCkgOiAibGVmdCIgPT09IGQgJiYgZSA+PSAuNSA/IHRoaXMub3BlblBlcmNlbnRhZ2UoMCkgOiAibGVmdCIgPT09IGQgJiYgZSA+PSAtLjUgJiYgZSA8IDAgPyB0aGlzLm9wZW5QZXJjZW50YWdlKDEwMCkgOiB0aGlzLm9wZW5QZXJjZW50YWdlKDApLCAxID09PSBlIHx8IC0xID09PSBlIHx8IDAgPT09IGUpIHJldHVybiB2b2lkIHRoaXMuX2Rpc3BhdGNoRXZlbnQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoMCA9PT0gKGUgPSBmID49IDAgPyB0aGlzLm9mZkNhbnZhc0xlZnRXaWR0aCAmJiBmIC8gdGhpcy5vZmZDYW52YXNMZWZ0V2lkdGggfHwgMCA6IHRoaXMub2ZmQ2FudmFzUmlnaHRXaWR0aCAmJiBmIC8gdGhpcy5vZmZDYW52YXNSaWdodFdpZHRoIHx8IDApKSByZXR1cm4gdGhpcy5vcGVuUGVyY2VudGFnZSgwKSwgdm9pZCB0aGlzLl9kaXNwYXRjaEV2ZW50KCk7CiAgICAgICAgICAgICAgInJpZ2h0IiA9PT0gZCAmJiBlID49IDAgJiYgKGUgPj0gLjUgfHwgYy5zd2lwZSkgPyB0aGlzLm9wZW5QZXJjZW50YWdlKDEwMCkgOiAicmlnaHQiID09PSBkICYmIGUgPCAwICYmIChlID4gLS41IHx8IGMuc3dpcGUpID8gdGhpcy5vcGVuUGVyY2VudGFnZSgwKSA6ICJyaWdodCIgPT09IGQgJiYgZSA+IDAgJiYgZSA8IC41ID8gdGhpcy5vcGVuUGVyY2VudGFnZSgwKSA6ICJyaWdodCIgPT09IGQgJiYgZSA8IC41ID8gdGhpcy5vcGVuUGVyY2VudGFnZSgtMTAwKSA6ICJsZWZ0IiA9PT0gZCAmJiBlIDw9IDAgJiYgKGUgPD0gLS41IHx8IGMuc3dpcGUpID8gdGhpcy5vcGVuUGVyY2VudGFnZSgtMTAwKSA6ICJsZWZ0IiA9PT0gZCAmJiBlID4gMCAmJiAoZSA8PSAuNSB8fCBjLnN3aXBlKSA/IHRoaXMub3BlblBlcmNlbnRhZ2UoMCkgOiAibGVmdCIgPT09IGQgJiYgZSA8IDAgJiYgZSA+PSAtLjUgPyB0aGlzLm9wZW5QZXJjZW50YWdlKDApIDogImxlZnQiID09PSBkICYmIGUgPiAuNSA/IHRoaXMub3BlblBlcmNlbnRhZ2UoMTAwKSA6IHRoaXMub3BlblBlcmNlbnRhZ2UoMCksIDEgIT09IGUgJiYgLTEgIT09IGUgfHwgdGhpcy5fZGlzcGF0Y2hFdmVudCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICB9CiAgICB9LAogICAgX2Rpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uIF9kaXNwYXRjaEV2ZW50KCkgewogICAgICB0aGlzLmNsYXNzTGlzdC5jb250YWlucyhqKSA/IGEudHJpZ2dlcih0aGlzLndyYXBwZXIsICJzaG93biIsIHRoaXMpIDogYS50cmlnZ2VyKHRoaXMud3JhcHBlciwgImhpZGRlbiIsIHRoaXMpOwogICAgfSwKICAgIF9pbml0T2ZmQ2FudmFzVmlzaWJsZTogZnVuY3Rpb24gX2luaXRPZmZDYW52YXNWaXNpYmxlKCkgewogICAgICB0aGlzLnZpc2libGUgfHwgKHRoaXMudmlzaWJsZSA9ICEwLCB0aGlzLm9mZkNhbnZhc0xlZnQgJiYgKHRoaXMub2ZmQ2FudmFzTGVmdC5zdHlsZS52aXNpYmlsaXR5ID0gInZpc2libGUiKSwgdGhpcy5vZmZDYW52YXNSaWdodCAmJiAodGhpcy5vZmZDYW52YXNSaWdodC5zdHlsZS52aXNpYmlsaXR5ID0gInZpc2libGUiKSk7CiAgICB9LAogICAgaW5pdEV2ZW50OiBmdW5jdGlvbiBpbml0RXZlbnQoKSB7CiAgICAgIHZhciBiID0gdGhpczsKICAgICAgYi5iYWNrZHJvcCAmJiBiLmJhY2tkcm9wLmFkZEV2ZW50TGlzdGVuZXIoInRhcCIsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgYi5jbG9zZSgpLCBhLmRldGFpbC5nZXN0dXJlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0pLCB0aGlzLmNsYXNzTGlzdC5jb250YWlucygibXVpLWRyYWdnYWJsZSIpICYmICh0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihhLkVWRU5UX1NUQVJULCB0aGlzKSwgdGhpcy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoImRyYWciLCB0aGlzKSwgdGhpcy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoImRyYWdlbmQiLCB0aGlzKSksIHRoaXMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgdGhpcyk7CiAgICB9LAogICAgb3BlblBlcmNlbnRhZ2U6IGZ1bmN0aW9uIG9wZW5QZXJjZW50YWdlKGEpIHsKICAgICAgdmFyIGIgPSBhIC8gMTAwOwogICAgICB0aGlzLnNsaWRlSW4gPyAodGhpcy5vZmZDYW52YXNMZWZ0ICYmIGEgPj0gMCA/IChiID0gMCA9PT0gYiA/IC0xIDogMCwgdGhpcy51cGRhdGVUcmFuc2xhdGUodGhpcy5vZmZDYW52YXNMZWZ0V2lkdGggKiBiKSwgdGhpcy5vZmZDYW52YXNMZWZ0LmNsYXNzTGlzdFswICE9PSBhID8gImFkZCIgOiAicmVtb3ZlIl0oaikpIDogdGhpcy5vZmZDYW52YXNSaWdodCAmJiBhIDw9IDAgJiYgKGIgPSAwID09PSBiID8gMSA6IDAsIHRoaXMudXBkYXRlVHJhbnNsYXRlKHRoaXMub2ZmQ2FudmFzUmlnaHRXaWR0aCAqIGIpLCB0aGlzLm9mZkNhbnZhc1JpZ2h0LmNsYXNzTGlzdFswICE9PSBhID8gImFkZCIgOiAicmVtb3ZlIl0oaikpLCB0aGlzLmNsYXNzTGlzdFswICE9PSBhID8gImFkZCIgOiAicmVtb3ZlIl0oaikpIDogKHRoaXMub2ZmQ2FudmFzTGVmdCAmJiBhID49IDAgPyAodGhpcy51cGRhdGVUcmFuc2xhdGUodGhpcy5vZmZDYW52YXNMZWZ0V2lkdGggKiBiKSwgdGhpcy5vZmZDYW52YXNMZWZ0LmNsYXNzTGlzdFswICE9PSBiID8gImFkZCIgOiAicmVtb3ZlIl0oaikpIDogdGhpcy5vZmZDYW52YXNSaWdodCAmJiBhIDw9IDAgJiYgKHRoaXMudXBkYXRlVHJhbnNsYXRlKHRoaXMub2ZmQ2FudmFzUmlnaHRXaWR0aCAqIGIpLCB0aGlzLm9mZkNhbnZhc1JpZ2h0LmNsYXNzTGlzdFswICE9PSBiID8gImFkZCIgOiAicmVtb3ZlIl0oaikpLCB0aGlzLmNsYXNzTGlzdFswICE9PSBiID8gImFkZCIgOiAicmVtb3ZlIl0oaikpOwogICAgfSwKICAgIHVwZGF0ZVRyYW5zbGF0ZTogZnVuY3Rpb24gdXBkYXRlVHJhbnNsYXRlKGIpIHsKICAgICAgaWYgKGIgIT09IHRoaXMubGFzdFRyYW5zbGF0ZVgpIHsKICAgICAgICBpZiAodGhpcy5zbGlkZUluKSB7CiAgICAgICAgICBpZiAodGhpcy5vZmZDYW52YXMuY2xhc3NMaXN0LmNvbnRhaW5zKGYpKSB7CiAgICAgICAgICAgIGlmIChiIDwgMCkgcmV0dXJuIHZvaWQgdGhpcy5zZXRUcmFuc2xhdGVYKDApOwogICAgICAgICAgICBpZiAoYiA+IHRoaXMub2ZmQ2FudmFzUmlnaHRXaWR0aCkgcmV0dXJuIHZvaWQgdGhpcy5zZXRUcmFuc2xhdGVYKHRoaXMub2ZmQ2FudmFzUmlnaHRXaWR0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoYiA+IDApIHJldHVybiB2b2lkIHRoaXMuc2V0VHJhbnNsYXRlWCgwKTsKICAgICAgICAgICAgaWYgKGIgPCAtdGhpcy5vZmZDYW52YXNMZWZ0V2lkdGgpIHJldHVybiB2b2lkIHRoaXMuc2V0VHJhbnNsYXRlWCgtdGhpcy5vZmZDYW52YXNMZWZ0V2lkdGgpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuc2V0VHJhbnNsYXRlWChiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCF0aGlzLm9mZkNhbnZhc0xlZnQgJiYgYiA+IDAgfHwgIXRoaXMub2ZmQ2FudmFzUmlnaHQgJiYgYiA8IDApIHJldHVybiB2b2lkIHRoaXMuc2V0VHJhbnNsYXRlWCgwKTsKICAgICAgICAgIGlmICh0aGlzLmxlZnRTaG93aW5nICYmIGIgPiB0aGlzLm9mZkNhbnZhc0xlZnRXaWR0aCkgcmV0dXJuIHZvaWQgdGhpcy5zZXRUcmFuc2xhdGVYKHRoaXMub2ZmQ2FudmFzTGVmdFdpZHRoKTsKICAgICAgICAgIGlmICh0aGlzLnJpZ2h0U2hvd2luZyAmJiBiIDwgLXRoaXMub2ZmQ2FudmFzUmlnaHRXaWR0aCkgcmV0dXJuIHZvaWQgdGhpcy5zZXRUcmFuc2xhdGVYKC10aGlzLm9mZkNhbnZhc1JpZ2h0V2lkdGgpOwogICAgICAgICAgdGhpcy5zZXRUcmFuc2xhdGVYKGIpLCBiID49IDAgPyAodGhpcy5sZWZ0U2hvd2luZyA9ICEwLCB0aGlzLnJpZ2h0U2hvd2luZyA9ICExLCBiID4gMCAmJiAodGhpcy5vZmZDYW52YXNMZWZ0ICYmIGEuZWFjaCh0aGlzLm9mZkNhbnZhc0xlZnRzLCBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICBiID09PSB0aGlzLm9mZkNhbnZhc0xlZnQgPyB0aGlzLm9mZkNhbnZhc0xlZnQuc3R5bGUuekluZGV4ID0gMCA6IGIuc3R5bGUuekluZGV4ID0gLTE7CiAgICAgICAgICB9LmJpbmQodGhpcykpLCB0aGlzLm9mZkNhbnZhc1JpZ2h0ICYmICh0aGlzLm9mZkNhbnZhc1JpZ2h0LnN0eWxlLnpJbmRleCA9IC0xKSkpIDogKHRoaXMucmlnaHRTaG93aW5nID0gITAsIHRoaXMubGVmdFNob3dpbmcgPSAhMSwgdGhpcy5vZmZDYW52YXNSaWdodCAmJiBhLmVhY2godGhpcy5vZmZDYW52YXNSaWdodHMsIGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIGIgPT09IHRoaXMub2ZmQ2FudmFzUmlnaHQgPyBiLnN0eWxlLnpJbmRleCA9IDAgOiBiLnN0eWxlLnpJbmRleCA9IC0xOwogICAgICAgICAgfS5iaW5kKHRoaXMpKSwgdGhpcy5vZmZDYW52YXNMZWZ0ICYmICh0aGlzLm9mZkNhbnZhc0xlZnQuc3R5bGUuekluZGV4ID0gLTEpKTsKICAgICAgICB9CgogICAgICAgIHRoaXMubGFzdFRyYW5zbGF0ZVggPSBiOwogICAgICB9CiAgICB9LAogICAgc2V0VHJhbnNsYXRlWDogYS5hbmltYXRpb25GcmFtZShmdW5jdGlvbiAoYSkgewogICAgICBpZiAodGhpcy5zY3JvbGxlcikgaWYgKHRoaXMuc2NhbGFibGUgJiYgdGhpcy5vZmZDYW52YXMucGFyZW50Tm9kZSA9PT0gdGhpcy53cmFwcGVyKSB7CiAgICAgICAgdmFyIGIgPSBNYXRoLmFicyhhKSAvIHRoaXMub2ZmQ2FudmFzV2lkdGgsCiAgICAgICAgICAgIGMgPSAxIC0gKDEgLSB0aGlzLm9wdGlvbnMuc2NhbGUpICogYiwKICAgICAgICAgICAgZCA9IHRoaXMub3B0aW9ucy5zY2FsZSArICgxIC0gdGhpcy5vcHRpb25zLnNjYWxlKSAqIGIsCiAgICAgICAgICAgIGYgPSAodGhpcy5vcHRpb25zLm9wYWNpdHksIHRoaXMub3B0aW9ucy5vcGFjaXR5ICsgKDEgLSB0aGlzLm9wdGlvbnMub3BhY2l0eSkgKiBiKTsKICAgICAgICB0aGlzLm9mZkNhbnZhcy5jbGFzc0xpc3QuY29udGFpbnMoZSkgPyAodGhpcy5vZmZDYW52YXMuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luID0gIi0xMDAlIiwgdGhpcy5zY3JvbGxlci5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSAibGVmdCIpIDogKHRoaXMub2ZmQ2FudmFzLnN0eWxlLndlYmtpdFRyYW5zZm9ybU9yaWdpbiA9ICIyMDAlIiwgdGhpcy5zY3JvbGxlci5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSAicmlnaHQiKSwgdGhpcy5vZmZDYW52YXMuc3R5bGUub3BhY2l0eSA9IGYsIHRoaXMub2ZmQ2FudmFzLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoIiArIGQgKyAiKSIsIHRoaXMuc2Nyb2xsZXIuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gInRyYW5zbGF0ZTNkKCIgKyBhICsgInB4LDAsMCkgc2NhbGUoIiArIGMgKyAiKSI7CiAgICAgIH0gZWxzZSB0aGlzLnNsaWRlSW4gPyB0aGlzLm9mZkNhbnZhcy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAidHJhbnNsYXRlM2QoIiArIGEgKyAicHgsMCwwKSIgOiB0aGlzLnNjcm9sbGVyLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUzZCgiICsgYSArICJweCwwLDApIjsKICAgIH0pLAogICAgZ2V0VHJhbnNsYXRlWDogZnVuY3Rpb24gZ2V0VHJhbnNsYXRlWCgpIHsKICAgICAgaWYgKHRoaXMub2ZmQ2FudmFzKSB7CiAgICAgICAgdmFyIGIgPSB0aGlzLnNsaWRlSW4gPyB0aGlzLm9mZkNhbnZhcyA6IHRoaXMuc2Nyb2xsZXIsCiAgICAgICAgICAgIGMgPSBhLnBhcnNlVHJhbnNsYXRlTWF0cml4KGEuZ2V0U3R5bGVzKGIsICJ3ZWJraXRUcmFuc2Zvcm0iKSk7CiAgICAgICAgcmV0dXJuIGMgJiYgYy54IHx8IDA7CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIGlzU2hvd246IGZ1bmN0aW9uIGlzU2hvd24oYSkgewogICAgICB2YXIgYiA9ICExOwogICAgICBpZiAodGhpcy5zbGlkZUluKSBiID0gImxlZnQiID09PSBhID8gdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoaikgJiYgdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoIi4iICsgZSArICIuIiArIGopIDogInJpZ2h0IiA9PT0gYSA/IHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKGopICYmIHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKCIuIiArIGYgKyAiLiIgKyBqKSA6IHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKGopICYmICh0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcigiLiIgKyBlICsgIi4iICsgaikgfHwgdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoIi4iICsgZiArICIuIiArIGopKTtlbHNlIHsKICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0VHJhbnNsYXRlWCgpOwogICAgICAgIGIgPSAicmlnaHQiID09PSBhID8gdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoaikgJiYgYyA8IDAgOiAibGVmdCIgPT09IGEgPyB0aGlzLmNsYXNzTGlzdC5jb250YWlucyhqKSAmJiBjID4gMCA6IHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKGopICYmIDAgIT09IGM7CiAgICAgIH0KICAgICAgcmV0dXJuIGI7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLl9pbml0T2ZmQ2FudmFzVmlzaWJsZSgpLCB0aGlzLm9mZkNhbnZhcyA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKCIuIiArIGYgKyAiLiIgKyBqKSB8fCB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcigiLiIgKyBlICsgIi4iICsgaiksIHRoaXMub2ZmQ2FudmFzV2lkdGggPSB0aGlzLm9mZkNhbnZhcy5vZmZzZXRXaWR0aCwgdGhpcy5zY3JvbGxlciAmJiAodGhpcy5vZmZDYW52YXMub2Zmc2V0SGVpZ2h0LCB0aGlzLm9mZkNhbnZhcy5jbGFzc0xpc3QuYWRkKGspLCB0aGlzLnNjcm9sbGVyLmNsYXNzTGlzdC5hZGQoayksIHRoaXMub3BlblBlcmNlbnRhZ2UoMCkpOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coYSkgewogICAgICByZXR1cm4gdGhpcy5faW5pdE9mZkNhbnZhc1Zpc2libGUoKSwgIXRoaXMuaXNTaG93bihhKSAmJiAoYSB8fCAoYSA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKCIuIiArIGYpID8gInJpZ2h0IiA6ICJsZWZ0IiksICJyaWdodCIgPT09IGEgPyAodGhpcy5vZmZDYW52YXMgPSB0aGlzLm9mZkNhbnZhc1JpZ2h0LCB0aGlzLm9mZkNhbnZhc1dpZHRoID0gdGhpcy5vZmZDYW52YXNSaWdodFdpZHRoKSA6ICh0aGlzLm9mZkNhbnZhcyA9IHRoaXMub2ZmQ2FudmFzTGVmdCwgdGhpcy5vZmZDYW52YXNXaWR0aCA9IHRoaXMub2ZmQ2FudmFzTGVmdFdpZHRoKSwgdGhpcy5zY3JvbGxlciAmJiAodGhpcy5vZmZDYW52YXMub2Zmc2V0SGVpZ2h0LCB0aGlzLm9mZkNhbnZhcy5jbGFzc0xpc3QuYWRkKGspLCB0aGlzLnNjcm9sbGVyLmNsYXNzTGlzdC5hZGQoayksIHRoaXMub3BlblBlcmNlbnRhZ2UoImxlZnQiID09PSBhID8gMTAwIDogLTEwMCkpLCAhMCk7CiAgICB9LAogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoYSkgewogICAgICB2YXIgYiA9IGE7CiAgICAgIGEgJiYgYS5jbGFzc0xpc3QgJiYgKGIgPSBhLmNsYXNzTGlzdC5jb250YWlucyhlKSA/ICJsZWZ0IiA6ICJyaWdodCIsIHRoaXMucmVmcmVzaChhKSksIHRoaXMuc2hvdyhiKSB8fCB0aGlzLmNsb3NlKCk7CiAgICB9CiAgfSksCiAgICAgIG4gPSBmdW5jdGlvbiBuKGEpIHsKICAgIGlmIChwYXJlbnROb2RlID0gYS5wYXJlbnROb2RlLCBwYXJlbnROb2RlKSB7CiAgICAgIGlmIChwYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucyhoKSkgcmV0dXJuIHBhcmVudE5vZGU7CiAgICAgIGlmIChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucyhoKSkgcmV0dXJuIHBhcmVudE5vZGU7CiAgICB9CiAgfSwKICAgICAgbyA9IGZ1bmN0aW9uIG8oYiwgZCkgewogICAgaWYgKCJBIiA9PT0gZC50YWdOYW1lICYmIGQuaGFzaCkgewogICAgICB2YXIgZSA9IGMuZ2V0RWxlbWVudEJ5SWQoZC5oYXNoLnJlcGxhY2UoIiMiLCAiIikpOwoKICAgICAgaWYgKGUpIHsKICAgICAgICB2YXIgZiA9IG4oZSk7CiAgICAgICAgaWYgKGYpIHJldHVybiBhLnRhcmdldHMuX2NvbnRhaW5lciA9IGYsIGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gITE7CiAgfTsKCiAgYS5yZWdpc3RlclRhcmdldCh7CiAgICBuYW1lOiBkLAogICAgaW5kZXg6IDYwLAogICAgaGFuZGxlOiBvLAogICAgdGFyZ2V0OiAhMSwKICAgIGlzUmVzZXQ6ICExLAogICAgaXNDb250aW51ZTogITAKICB9KSwgYi5hZGRFdmVudExpc3RlbmVyKCJ0YXAiLCBmdW5jdGlvbiAoYikgewogICAgaWYgKGEudGFyZ2V0cy5vZmZjYW52YXMpIGZvciAodmFyIGQgPSBiLnRhcmdldDsgZCAmJiBkICE9PSBjOyBkID0gZC5wYXJlbnROb2RlKSB7CiAgICAgIGlmICgiQSIgPT09IGQudGFnTmFtZSAmJiBkLmhhc2ggJiYgZC5oYXNoID09PSAiIyIgKyBhLnRhcmdldHMub2ZmY2FudmFzLmlkKSB7CiAgICAgICAgYi5kZXRhaWwgJiYgYi5kZXRhaWwuZ2VzdHVyZSAmJiBiLmRldGFpbC5nZXN0dXJlLnByZXZlbnREZWZhdWx0KCksIGEoYS50YXJnZXRzLl9jb250YWluZXIpLm9mZkNhbnZhcygpLnRvZ2dsZShhLnRhcmdldHMub2ZmY2FudmFzKSwgYS50YXJnZXRzLm9mZmNhbnZhcyA9IGEudGFyZ2V0cy5fY29udGFpbmVyID0gbnVsbDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0pLCBhLmZuLm9mZkNhbnZhcyA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IFtdOwogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkID0gbnVsbCwKICAgICAgICAgIGUgPSB0aGlzOwogICAgICBlLmNsYXNzTGlzdC5jb250YWlucyhoKSB8fCAoZSA9IG4oZSkpOwogICAgICB2YXIgZiA9IGUuZ2V0QXR0cmlidXRlKCJkYXRhLW9mZkNhbnZhcyIpOwogICAgICBmID8gZCA9IGEuZGF0YVtmXSA6IChmID0gKythLnV1aWQsIGEuZGF0YVtmXSA9IGQgPSBuZXcgbShlLCBiKSwgZS5zZXRBdHRyaWJ1dGUoImRhdGEtb2ZmQ2FudmFzIiwgZikpLCAic2hvdyIgIT09IGIgJiYgImNsb3NlIiAhPT0gYiAmJiAidG9nZ2xlIiAhPT0gYiB8fCBkLnRvZ2dsZSgpLCBjLnB1c2goZCk7CiAgICB9KSwgMSA9PT0gYy5sZW5ndGggPyBjWzBdIDogYzsKICB9LCBhLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgIGEoIi5tdWktb2ZmLWNhbnZhcy13cmFwIikub2ZmQ2FudmFzKCk7CiAgfSk7Cn0obXVpLCB3aW5kb3csIGRvY3VtZW50LCAib2ZmY2FudmFzIiksIGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSAibXVpLWFjdGlvbiIsCiAgICAgIGQgPSBmdW5jdGlvbiBkKGEsIGIpIHsKICAgIHZhciBkID0gYi5jbGFzc05hbWUgfHwgIiI7CiAgICByZXR1cm4gInN0cmluZyIgIT0gdHlwZW9mIGQgJiYgKGQgPSAiIiksICEoIWQgfHwgIX5kLmluZGV4T2YoYykpICYmIChiLmNsYXNzTGlzdC5jb250YWlucygibXVpLWFjdGlvbi1iYWNrIikgJiYgYS5wcmV2ZW50RGVmYXVsdCgpLCBiKTsKICB9OwoKICBhLnJlZ2lzdGVyVGFyZ2V0KHsKICAgIG5hbWU6IGIsCiAgICBpbmRleDogNTAsCiAgICBoYW5kbGU6IGQsCiAgICB0YXJnZXQ6ICExLAogICAgaXNDb250aW51ZTogITAKICB9KTsKfShtdWksICJhY3Rpb24iKSwgZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICB2YXIgZSA9ICJtdWktbW9kYWwiLAogICAgICBmID0gZnVuY3Rpb24gZihhLCBiKSB7CiAgICBpZiAoIkEiID09PSBiLnRhZ05hbWUgJiYgYi5oYXNoKSB7CiAgICAgIHZhciBkID0gYy5nZXRFbGVtZW50QnlJZChiLmhhc2gucmVwbGFjZSgiIyIsICIiKSk7CiAgICAgIGlmIChkICYmIGQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpKSByZXR1cm4gZDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfTsKCiAgYS5yZWdpc3RlclRhcmdldCh7CiAgICBuYW1lOiBkLAogICAgaW5kZXg6IDUwLAogICAgaGFuZGxlOiBmLAogICAgdGFyZ2V0OiAhMSwKICAgIGlzUmVzZXQ6ICExLAogICAgaXNDb250aW51ZTogITAKICB9KSwgYi5hZGRFdmVudExpc3RlbmVyKCJ0YXAiLCBmdW5jdGlvbiAoYikgewogICAgYS50YXJnZXRzLm1vZGFsICYmIChiLmRldGFpbC5nZXN0dXJlLnByZXZlbnREZWZhdWx0KCksIGEudGFyZ2V0cy5tb2RhbC5jbGFzc0xpc3QudG9nZ2xlKCJtdWktYWN0aXZlIikpOwogIH0pOwp9KG11aSwgd2luZG93LCBkb2N1bWVudCwgIm1vZGFsIiksIGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgdmFyIGUgPSAibXVpLXBvcG92ZXIiLAogICAgICBmID0gIm11aS1wb3BvdmVyLWFycm93IiwKICAgICAgZyA9ICJtdWktcG9wb3Zlci1hY3Rpb24iLAogICAgICBoID0gIm11aS1iYWNrZHJvcCIsCiAgICAgIGkgPSAibXVpLWJhci1wb3BvdmVyIiwKICAgICAgaiA9ICJtdWktYmFyLWJhY2tkcm9wIiwKICAgICAgayA9ICJtdWktYmFja2Ryb3AtYWN0aW9uIiwKICAgICAgbCA9ICJtdWktYWN0aXZlIiwKICAgICAgbSA9ICJtdWktYm90dG9tIiwKICAgICAgbiA9IGZ1bmN0aW9uIG4oYiwgZCkgewogICAgaWYgKCJBIiA9PT0gZC50YWdOYW1lICYmIGQuaGFzaCkgewogICAgICBpZiAoYS50YXJnZXRzLl9wb3BvdmVyID0gYy5nZXRFbGVtZW50QnlJZChkLmhhc2gucmVwbGFjZSgiIyIsICIiKSksIGEudGFyZ2V0cy5fcG9wb3ZlciAmJiBhLnRhcmdldHMuX3BvcG92ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGUpKSByZXR1cm4gZDsKICAgICAgYS50YXJnZXRzLl9wb3BvdmVyID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfTsKCiAgYS5yZWdpc3RlclRhcmdldCh7CiAgICBuYW1lOiBkLAogICAgaW5kZXg6IDYwLAogICAgaGFuZGxlOiBuLAogICAgdGFyZ2V0OiAhMSwKICAgIGlzUmVzZXQ6ICExLAogICAgaXNDb250aW51ZTogITAKICB9KTsKCiAgdmFyIG8sCiAgICAgIHAgPSBmdW5jdGlvbiBwKGIpIHsKICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0VHJhbnNpdGlvbkVuZCIsIHApLCB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYS5FVkVOVF9NT1ZFLCBhLnByZXZlbnREZWZhdWx0KSwgYS50cmlnZ2VyKHRoaXMsICJzaG93biIsIHRoaXMpOwogIH0sCiAgICAgIHEgPSBmdW5jdGlvbiBxKGIpIHsKICAgIHUodGhpcywgIm5vbmUiKSwgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgcSksIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLkVWRU5UX01PVkUsIGEucHJldmVudERlZmF1bHQpLCBhLnRyaWdnZXIodGhpcywgImhpZGRlbiIsIHRoaXMpOwogIH0sCiAgICAgIHIgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYiA9IGMuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICByZXR1cm4gYi5jbGFzc0xpc3QuYWRkKGgpLCBiLmFkZEV2ZW50TGlzdGVuZXIoYS5FVkVOVF9NT1ZFLCBhLnByZXZlbnREZWZhdWx0KSwgYi5hZGRFdmVudExpc3RlbmVyKCJ0YXAiLCBmdW5jdGlvbiAoYikgewogICAgICB2YXIgYyA9IGEudGFyZ2V0cy5fcG9wb3ZlcjsKICAgICAgYyAmJiAoYy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgcSksIGMuY2xhc3NMaXN0LnJlbW92ZShsKSwgcyhjKSk7CiAgICB9KSwgYjsKICB9KCksCiAgICAgIHMgPSBmdW5jdGlvbiBzKGIpIHsKICAgIHIuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJvcGFjaXR5OjAiKSwgYS50YXJnZXRzLnBvcG92ZXIgPSBhLnRhcmdldHMuX3BvcG92ZXIgPSBudWxsLCBvID0gYS5sYXRlcihmdW5jdGlvbiAoKSB7CiAgICAgICFiLmNsYXNzTGlzdC5jb250YWlucyhsKSAmJiByLnBhcmVudE5vZGUgJiYgci5wYXJlbnROb2RlID09PSBjLmJvZHkgJiYgYy5ib2R5LnJlbW92ZUNoaWxkKHIpOwogICAgfSwgMzUwKTsKICB9OwoKICBiLmFkZEV2ZW50TGlzdGVuZXIoInRhcCIsIGZ1bmN0aW9uIChiKSB7CiAgICBpZiAoYS50YXJnZXRzLnBvcG92ZXIpIHsKICAgICAgZm9yICh2YXIgZCA9ICExLCBlID0gYi50YXJnZXQ7IGUgJiYgZSAhPT0gYzsgZSA9IGUucGFyZW50Tm9kZSkgewogICAgICAgIGUgPT09IGEudGFyZ2V0cy5wb3BvdmVyICYmIChkID0gITApOwogICAgICB9CgogICAgICBkICYmIChiLmRldGFpbC5nZXN0dXJlLnByZXZlbnREZWZhdWx0KCksIHQoYS50YXJnZXRzLl9wb3BvdmVyLCBhLnRhcmdldHMucG9wb3ZlcikpOwogICAgfQogIH0pOwoKICB2YXIgdCA9IGZ1bmN0aW9uIHQoYSwgYiwgZCkgewogICAgaWYgKCEoInNob3ciID09PSBkICYmIGEuY2xhc3NMaXN0LmNvbnRhaW5zKGwpIHx8ICJoaWRlIiA9PT0gZCAmJiAhYS5jbGFzc0xpc3QuY29udGFpbnMobCkpKSB7CiAgICAgIG8gJiYgby5jYW5jZWwoKSwgYS5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgcCksIGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0VHJhbnNpdGlvbkVuZCIsIHEpLCByLmNsYXNzTGlzdC5yZW1vdmUoaiksIHIuY2xhc3NMaXN0LnJlbW92ZShrKTsKICAgICAgdmFyIGUgPSBjLnF1ZXJ5U2VsZWN0b3IoIi5tdWktcG9wb3Zlci5tdWktYWN0aXZlIik7CiAgICAgIGlmIChlICYmIChlLmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdFRyYW5zaXRpb25FbmQiLCBxKSwgZS5jbGFzc0xpc3QucmVtb3ZlKGwpLCBhID09PSBlKSkgcmV0dXJuIHZvaWQgcyhlKTsKICAgICAgdmFyIGYgPSAhMTsKICAgICAgKGEuY2xhc3NMaXN0LmNvbnRhaW5zKGkpIHx8IGEuY2xhc3NMaXN0LmNvbnRhaW5zKGcpKSAmJiAoYS5jbGFzc0xpc3QuY29udGFpbnMoZykgPyAoZiA9ICEwLCByLmNsYXNzTGlzdC5hZGQoaykpIDogci5jbGFzc0xpc3QuYWRkKGopKSwgdShhLCAiYmxvY2siKSwgYS5vZmZzZXRIZWlnaHQsIGEuY2xhc3NMaXN0LmFkZChsKSwgci5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgIiIpLCBjLmJvZHkuYXBwZW5kQ2hpbGQociksIHYoYSwgYiwgZiksIHIuY2xhc3NMaXN0LmFkZChsKSwgYS5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgcCk7CiAgICB9CiAgfSwKICAgICAgdSA9IGZ1bmN0aW9uIHUoYSwgYiwgYywgZCkgewogICAgdmFyIGUgPSBhLnN0eWxlOwogICAgdm9pZCAwICE9PSBiICYmIChlLmRpc3BsYXkgPSBiKSwgdm9pZCAwICE9PSBjICYmIChlLnRvcCA9IGMgKyAicHgiKSwgdm9pZCAwICE9PSBkICYmIChlLmxlZnQgPSBkICsgInB4Iik7CiAgfSwKICAgICAgdiA9IGZ1bmN0aW9uIHYoZCwgZSwgaCkgewogICAgaWYgKGQgJiYgZSkgewogICAgICBpZiAoaCkgcmV0dXJuIHZvaWQgdShkLCAiYmxvY2siKTsKICAgICAgdmFyIGkgPSBiLmlubmVyV2lkdGgsCiAgICAgICAgICBqID0gYi5pbm5lckhlaWdodCwKICAgICAgICAgIGsgPSBkLm9mZnNldFdpZHRoLAogICAgICAgICAgbCA9IGQub2Zmc2V0SGVpZ2h0LAogICAgICAgICAgbiA9IGUub2Zmc2V0V2lkdGgsCiAgICAgICAgICBvID0gZS5vZmZzZXRIZWlnaHQsCiAgICAgICAgICBwID0gYS5vZmZzZXQoZSksCiAgICAgICAgICBxID0gZC5xdWVyeVNlbGVjdG9yKCIuIiArIGYpOwogICAgICBxIHx8IChxID0gYy5jcmVhdGVFbGVtZW50KCJkaXYiKSwgcS5jbGFzc05hbWUgPSBmLCBkLmFwcGVuZENoaWxkKHEpKTsKICAgICAgdmFyIHIgPSBxICYmIHEub2Zmc2V0V2lkdGggLyAyIHx8IDAsCiAgICAgICAgICBzID0gMCwKICAgICAgICAgIHQgPSAwLAogICAgICAgICAgdiA9IDAsCiAgICAgICAgICB3ID0gMCwKICAgICAgICAgIHggPSBkLmNsYXNzTGlzdC5jb250YWlucyhnKSA/IDAgOiA1LAogICAgICAgICAgeSA9ICJ0b3AiOwogICAgICBsICsgciA8IHAudG9wIC0gYi5wYWdlWU9mZnNldCA/IHMgPSBwLnRvcCAtIGwgLSByIDogbCArIHIgPCBqIC0gKHAudG9wIC0gYi5wYWdlWU9mZnNldCkgLSBvID8gKHkgPSAiYm90dG9tIiwgcyA9IHAudG9wICsgbyArIHIpIDogKHkgPSAibWlkZGxlIiwgcyA9IE1hdGgubWF4KChqIC0gbCkgLyAyICsgYi5wYWdlWU9mZnNldCwgMCksIHQgPSBNYXRoLm1heCgoaSAtIGspIC8gMiArIGIucGFnZVhPZmZzZXQsIDApKSwgInRvcCIgPT09IHkgfHwgImJvdHRvbSIgPT09IHkgPyAodCA9IG4gLyAyICsgcC5sZWZ0IC0gayAvIDIsIHYgPSB0LCB0IDwgeCAmJiAodCA9IHgpLCB0ICsgayA+IGkgJiYgKHQgPSBpIC0gayAtIHgpLCBxICYmICgidG9wIiA9PT0geSA/IHEuY2xhc3NMaXN0LmFkZChtKSA6IHEuY2xhc3NMaXN0LnJlbW92ZShtKSwgdiAtPSB0LCB3ID0gayAvIDIgLSByIC8gMiArIHYsIHcgPSBNYXRoLm1heChNYXRoLm1pbih3LCBrIC0gMiAqIHIgLSA2KSwgNiksIHEuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJsZWZ0OiIgKyB3ICsgInB4IikpKSA6ICJtaWRkbGUiID09PSB5ICYmIHEuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJkaXNwbGF5Om5vbmUiKSwgdShkLCAiYmxvY2siLCBzLCB0KTsKICAgIH0KICB9OwoKICBhLmNyZWF0ZU1hc2sgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGQgPSBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgZC5jbGFzc0xpc3QuYWRkKGgpLCBkLmFkZEV2ZW50TGlzdGVuZXIoYS5FVkVOVF9NT1ZFLCBhLnByZXZlbnREZWZhdWx0KSwgZC5hZGRFdmVudExpc3RlbmVyKCJ0YXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGUuY2xvc2UoKTsKICAgIH0pOwogICAgdmFyIGUgPSBbZF07CiAgICByZXR1cm4gZS5fc2hvdyA9ICExLCBlLnNob3cgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBlLl9zaG93ID0gITAsIGQuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJvcGFjaXR5OjEiKSwgYy5ib2R5LmFwcGVuZENoaWxkKGQpLCBlOwogICAgfSwgZS5fcmVtb3ZlID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZS5fc2hvdyAmJiAoZS5fc2hvdyA9ICExLCBkLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAib3BhY2l0eTowIiksIGEubGF0ZXIoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhID0gYy5ib2R5OwogICAgICAgIGQucGFyZW50Tm9kZSA9PT0gYSAmJiBhLnJlbW92ZUNoaWxkKGQpOwogICAgICB9LCAzNTApKSwgZTsKICAgIH0sIGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGIgPyAhMSAhPT0gYigpICYmIGUuX3JlbW92ZSgpIDogZS5fcmVtb3ZlKCk7CiAgICB9LCBlOwogIH0sIGEuZm4ucG9wb3ZlciA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBiID0gYXJndW1lbnRzOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgYS50YXJnZXRzLl9wb3BvdmVyID0gdGhpcywgInNob3ciICE9PSBiWzBdICYmICJoaWRlIiAhPT0gYlswXSAmJiAidG9nZ2xlIiAhPT0gYlswXSB8fCB0KHRoaXMsIGJbMV0sIGJbMF0pOwogICAgfSk7CiAgfTsKfShtdWksIHdpbmRvdywgZG9jdW1lbnQsICJwb3BvdmVyIiksIGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7CiAgdmFyIGYgPSAibXVpLWNvbnRyb2wtaXRlbSIsCiAgICAgIGcgPSAibXVpLXNlZ21lbnRlZC1jb250cm9sLXZlcnRpY2FsIiwKICAgICAgaCA9ICJtdWktY29udHJvbC1jb250ZW50IiwKICAgICAgaSA9ICJtdWktdGFiLWl0ZW0iLAogICAgICBqID0gZnVuY3Rpb24gaihhLCBiKSB7CiAgICByZXR1cm4gISghYi5jbGFzc0xpc3QgfHwgIWIuY2xhc3NMaXN0LmNvbnRhaW5zKGYpICYmICFiLmNsYXNzTGlzdC5jb250YWlucyhpKSkgJiYgKGIucGFyZW50Tm9kZSAmJiBiLnBhcmVudE5vZGUuY2xhc3NMaXN0ICYmIGIucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoZykgfHwgYS5wcmV2ZW50RGVmYXVsdCgpLCBiKTsKICB9OwoKICBhLnJlZ2lzdGVyVGFyZ2V0KHsKICAgIG5hbWU6IGQsCiAgICBpbmRleDogODAsCiAgICBoYW5kbGU6IGosCiAgICB0YXJnZXQ6ICExCiAgfSksIGIuYWRkRXZlbnRMaXN0ZW5lcigidGFwIiwgZnVuY3Rpb24gKGIpIHsKICAgIHZhciBlID0gYS50YXJnZXRzLnRhYjsKCiAgICBpZiAoZSkgewogICAgICBmb3IgKHZhciBnLCBqLCBrLCBsID0gIm11aS1hY3RpdmUiLCBtID0gIi4iICsgbCwgbiA9IGUucGFyZW50Tm9kZTsgbiAmJiBuICE9PSBjOyBuID0gbi5wYXJlbnROb2RlKSB7CiAgICAgICAgaWYgKG4uY2xhc3NMaXN0LmNvbnRhaW5zKCJtdWktc2VnbWVudGVkLWNvbnRyb2wiKSkgewogICAgICAgICAgZyA9IG4ucXVlcnlTZWxlY3RvcihtICsgIi4iICsgZik7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIG4uY2xhc3NMaXN0LmNvbnRhaW5zKCJtdWktYmFyLXRhYiIpICYmIChnID0gbi5xdWVyeVNlbGVjdG9yKG0gKyAiLiIgKyBpKSk7CiAgICAgIH0KCiAgICAgIGcgJiYgZy5jbGFzc0xpc3QucmVtb3ZlKGwpOwogICAgICB2YXIgbyA9IGUgPT09IGc7CgogICAgICBpZiAoZSAmJiBlLmNsYXNzTGlzdC5hZGQobCksIGUuaGFzaCAmJiAoayA9IGMuZ2V0RWxlbWVudEJ5SWQoZS5oYXNoLnJlcGxhY2UoIiMiLCAiIikpKSkgewogICAgICAgIGlmICghay5jbGFzc0xpc3QuY29udGFpbnMoaCkpIHJldHVybiB2b2lkIGUuY2xhc3NMaXN0W28gPyAicmVtb3ZlIiA6ICJhZGQiXShsKTsKCiAgICAgICAgaWYgKCFvKSB7CiAgICAgICAgICB2YXIgcCA9IGsucGFyZW50Tm9kZTsKICAgICAgICAgIGogPSBwLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iICsgaCArIG0pOwoKICAgICAgICAgIGZvciAodmFyIHEgPSAwOyBxIDwgai5sZW5ndGg7IHErKykgewogICAgICAgICAgICB2YXIgciA9IGpbcV07CiAgICAgICAgICAgIHIucGFyZW50Tm9kZSA9PT0gcCAmJiByLmNsYXNzTGlzdC5yZW1vdmUobCk7CiAgICAgICAgICB9CgogICAgICAgICAgay5jbGFzc0xpc3QuYWRkKGwpOwoKICAgICAgICAgIGZvciAodmFyIHMgPSBbXSwgdCA9IHAucXVlcnlTZWxlY3RvckFsbCgiLiIgKyBoKSwgcSA9IDA7IHEgPCB0Lmxlbmd0aDsgcSsrKSB7CiAgICAgICAgICAgIHRbcV0ucGFyZW50Tm9kZSA9PT0gcCAmJiBzLnB1c2godFtxXSk7CiAgICAgICAgICB9CgogICAgICAgICAgYS50cmlnZ2VyKGssIGEuZXZlbnROYW1lKCJzaG93biIsIGQpLCB7CiAgICAgICAgICAgIHRhYk51bWJlcjogQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChzLCBrKQogICAgICAgICAgfSksIGIuZGV0YWlsICYmIGIuZGV0YWlsLmdlc3R1cmUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KTsKfShtdWksIHdpbmRvdywgZG9jdW1lbnQsICJ0YWIiKSwgZnVuY3Rpb24gKGEsIGIsIGMpIHsKICB2YXIgZCA9ICJtdWktc3dpdGNoIiwKICAgICAgZSA9ICJtdWktc3dpdGNoLWhhbmRsZSIsCiAgICAgIGYgPSAibXVpLWFjdGl2ZSIsCiAgICAgIGcgPSAibXVpLWRyYWdnaW5nIiwKICAgICAgaCA9ICJtdWktZGlzYWJsZWQiLAogICAgICBpID0gIi4iICsgZSwKICAgICAgaiA9IGZ1bmN0aW9uIGooYSwgYikgewogICAgcmV0dXJuICEoIWIuY2xhc3NMaXN0IHx8ICFiLmNsYXNzTGlzdC5jb250YWlucyhkKSkgJiYgYjsKICB9OwoKICBhLnJlZ2lzdGVyVGFyZ2V0KHsKICAgIG5hbWU6IGMsCiAgICBpbmRleDogMTAwLAogICAgaGFuZGxlOiBqLAogICAgdGFyZ2V0OiAhMQogIH0pOwoKICB2YXIgayA9IGZ1bmN0aW9uIGsoYSkgewogICAgdGhpcy5lbGVtZW50ID0gYSwgdGhpcy5jbGFzc0xpc3QgPSB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LCB0aGlzLmhhbmRsZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGkpLCB0aGlzLmluaXQoKSwgdGhpcy5pbml0RXZlbnQoKTsKICB9OwoKICBrLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy50b2dnbGVXaWR0aCA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCwgdGhpcy5oYW5kbGVXaWR0aCA9IHRoaXMuaGFuZGxlLm9mZnNldFdpZHRoLCB0aGlzLmhhbmRsZVggPSB0aGlzLnRvZ2dsZVdpZHRoIC0gdGhpcy5oYW5kbGVXaWR0aCAtIDM7CiAgfSwgay5wcm90b3R5cGUuaW5pdEV2ZW50ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoYS5FVkVOVF9TVEFSVCwgdGhpcyksIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJkcmFnIiwgdGhpcyksIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJzd2lwZXJpZ2h0IiwgdGhpcyksIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfRU5ELCB0aGlzKSwgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoYS5FVkVOVF9DQU5DRUwsIHRoaXMpOwogIH0sIGsucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKGIpIHsKICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoaCkpIHN3aXRjaCAoYi50eXBlKSB7CiAgICAgIGNhc2UgYS5FVkVOVF9TVEFSVDoKICAgICAgICB0aGlzLnN0YXJ0KGIpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiZHJhZyI6CiAgICAgICAgdGhpcy5kcmFnKGIpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAic3dpcGVyaWdodCI6CiAgICAgICAgdGhpcy5zd2lwZXJpZ2h0KCk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIGEuRVZFTlRfRU5EOgogICAgICBjYXNlIGEuRVZFTlRfQ0FOQ0VMOgogICAgICAgIHRoaXMuZW5kKGIpOwogICAgfQogIH0sIGsucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuaGFuZGxlLnN0eWxlLndlYmtpdFRyYW5zaXRpb25EdXJhdGlvbiA9IHRoaXMuZWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb24gPSAiLjJzIiwgdGhpcy5jbGFzc0xpc3QuYWRkKGcpLCAwICE9PSB0aGlzLnRvZ2dsZVdpZHRoICYmIDAgIT09IHRoaXMuaGFuZGxlV2lkdGggfHwgdGhpcy5pbml0KCk7CiAgfSwgay5wcm90b3R5cGUuZHJhZyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGEuZGV0YWlsOwogICAgdGhpcy5pc0RyYWdnaW5nIHx8ICJsZWZ0IiAhPT0gYi5kaXJlY3Rpb24gJiYgInJpZ2h0IiAhPT0gYi5kaXJlY3Rpb24gfHwgKHRoaXMuaXNEcmFnZ2luZyA9ICEwLCB0aGlzLmxhc3RDaGFuZ2VkID0gdm9pZCAwLCB0aGlzLmluaXRpYWxTdGF0ZSA9IHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKGYpKSwgdGhpcy5pc0RyYWdnaW5nICYmICh0aGlzLnNldFRyYW5zbGF0ZVgoYi5kZWx0YVgpLCBhLnN0b3BQcm9wYWdhdGlvbigpLCBiLmdlc3R1cmUucHJldmVudERlZmF1bHQoKSk7CiAgfSwgay5wcm90b3R5cGUuc3dpcGVyaWdodCA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLmlzRHJhZ2dpbmcgJiYgYS5zdG9wUHJvcGFnYXRpb24oKTsKICB9LCBrLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoYikgewogICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKGcpLCB0aGlzLmlzRHJhZ2dpbmcgPyAodGhpcy5pc0RyYWdnaW5nID0gITEsIGIuc3RvcFByb3BhZ2F0aW9uKCksIGEudHJpZ2dlcih0aGlzLmVsZW1lbnQsICJ0b2dnbGUiLCB7CiAgICAgIGlzQWN0aXZlOiB0aGlzLmNsYXNzTGlzdC5jb250YWlucyhmKQogICAgfSkpIDogdGhpcy50b2dnbGUoKTsKICB9LCBrLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSB0aGlzLmNsYXNzTGlzdDsKICAgIHRoaXMuaGFuZGxlLnN0eWxlLndlYmtpdFRyYW5zaXRpb25EdXJhdGlvbiA9IHRoaXMuZWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb24gPSAhMSA9PT0gYiA/ICIwcyIgOiAiLjJzIiwgYy5jb250YWlucyhmKSA/IChjLnJlbW92ZShmKSwgdGhpcy5oYW5kbGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gInRyYW5zbGF0ZSgwLDApIikgOiAoYy5hZGQoZiksIHRoaXMuaGFuZGxlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoIiArIHRoaXMuaGFuZGxlWCArICJweCwwKSIpLCBhLnRyaWdnZXIodGhpcy5lbGVtZW50LCAidG9nZ2xlIiwgewogICAgICBpc0FjdGl2ZTogdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoZikKICAgIH0pOwogIH0sIGsucHJvdG90eXBlLnNldFRyYW5zbGF0ZVggPSBhLmFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIChhKSB7CiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7CiAgICAgIHZhciBiID0gITE7CiAgICAgICh0aGlzLmluaXRpYWxTdGF0ZSAmJiAtYSA+IHRoaXMuaGFuZGxlWCAvIDIgfHwgIXRoaXMuaW5pdGlhbFN0YXRlICYmIGEgPiB0aGlzLmhhbmRsZVggLyAyKSAmJiAoYiA9ICEwKSwgdGhpcy5sYXN0Q2hhbmdlZCAhPT0gYiAmJiAoYiA/ICh0aGlzLmhhbmRsZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAidHJhbnNsYXRlKCIgKyAodGhpcy5pbml0aWFsU3RhdGUgPyAwIDogdGhpcy5oYW5kbGVYKSArICJweCwwKSIsIHRoaXMuY2xhc3NMaXN0W3RoaXMuaW5pdGlhbFN0YXRlID8gInJlbW92ZSIgOiAiYWRkIl0oZikpIDogKHRoaXMuaGFuZGxlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoIiArICh0aGlzLmluaXRpYWxTdGF0ZSA/IHRoaXMuaGFuZGxlWCA6IDApICsgInB4LDApIiwgdGhpcy5jbGFzc0xpc3RbdGhpcy5pbml0aWFsU3RhdGUgPyAiYWRkIiA6ICJyZW1vdmUiXShmKSksIHRoaXMubGFzdENoYW5nZWQgPSBiKTsKICAgIH0KICB9KSwgYS5mbi5zd2l0Y2ggPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBbXTsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgYiA9IG51bGwsCiAgICAgICAgICBkID0gdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtc3dpdGNoIik7CiAgICAgIGQgPyBiID0gYS5kYXRhW2RdIDogKGQgPSArK2EudXVpZCwgYS5kYXRhW2RdID0gbmV3IGsodGhpcyksIHRoaXMuc2V0QXR0cmlidXRlKCJkYXRhLXN3aXRjaCIsIGQpKSwgYy5wdXNoKGIpOwogICAgfSksIGMubGVuZ3RoID4gMSA/IGMgOiBjWzBdOwogIH0sIGEucmVhZHkoZnVuY3Rpb24gKCkgewogICAgYSgiLiIgKyBkKS5zd2l0Y2goKTsKICB9KTsKfShtdWksIHdpbmRvdywgInRvZ2dsZSIpLCBmdW5jdGlvbiAoYSwgYiwgYykgewogIGZ1bmN0aW9uIGQoYSwgYikgewogICAgdmFyIGMgPSBiID8gInJlbW92ZUV2ZW50TGlzdGVuZXIiIDogImFkZEV2ZW50TGlzdGVuZXIiOwogICAgYVtjXSgiZHJhZyIsIEYpLCBhW2NdKCJkcmFnZW5kIiwgRiksIGFbY10oInN3aXBlcmlnaHQiLCBGKSwgYVtjXSgic3dpcGVsZWZ0IiwgRiksIGFbY10oImZsaWNrIiwgRik7CiAgfQoKICB2YXIgZSwKICAgICAgZiwKICAgICAgZyA9ICJtdWktYWN0aXZlIiwKICAgICAgaCA9ICJtdWktc2VsZWN0ZWQiLAogICAgICBpID0gIm11aS1ncmlkLXZpZXciLAogICAgICBqID0gIm11aS10YWJsZS12aWV3LXJhZGlvIiwKICAgICAgayA9ICJtdWktdGFibGUtdmlldy1jZWxsIiwKICAgICAgbCA9ICJtdWktY29sbGFwc2UtY29udGVudCIsCiAgICAgIG0gPSAibXVpLWRpc2FibGVkIiwKICAgICAgbiA9ICJtdWktc3dpdGNoIiwKICAgICAgbyA9ICJtdWktYnRuIiwKICAgICAgcCA9ICJtdWktc2xpZGVyLWhhbmRsZSIsCiAgICAgIHEgPSAibXVpLXNsaWRlci1sZWZ0IiwKICAgICAgciA9ICJtdWktc2xpZGVyLXJpZ2h0IiwKICAgICAgcyA9ICJtdWktdHJhbnNpdGlvbmluZyIsCiAgICAgIHQgPSAiLiIgKyBwLAogICAgICB1ID0gIi4iICsgcSwKICAgICAgdiA9ICIuIiArIHIsCiAgICAgIHcgPSAiLiIgKyBoLAogICAgICB4ID0gIi4iICsgbywKICAgICAgeSA9IC44LAogICAgICB6ID0gaXNPcGVuZWQgPSBvcGVuZWRBY3Rpb25zID0gcHJvZ3Jlc3MgPSAhMSwKICAgICAgQSA9IHNsaWRlckFjdGlvbkxlZnQgPSBzbGlkZXJBY3Rpb25SaWdodCA9IGJ1dHRvbnNMZWZ0ID0gYnV0dG9uc1JpZ2h0ID0gc2xpZGVyRGlyZWN0aW9uID0gc2xpZGVyUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gITEsCiAgICAgIEIgPSB0cmFuc2xhdGVYID0gbGFzdFRyYW5zbGF0ZVggPSBzbGlkZXJBY3Rpb25MZWZ0V2lkdGggPSBzbGlkZXJBY3Rpb25SaWdodFdpZHRoID0gMCwKICAgICAgQyA9IGZ1bmN0aW9uIEMoYSkgewogICAgYSA/IGYgPyBmLmNsYXNzTGlzdC5hZGQoZykgOiBlICYmIGUuY2xhc3NMaXN0LmFkZChnKSA6IChCICYmIEIuY2FuY2VsKCksIGYgPyBmLmNsYXNzTGlzdC5yZW1vdmUoZykgOiBlICYmIGUuY2xhc3NMaXN0LnJlbW92ZShnKSk7CiAgfSwKICAgICAgRCA9IGZ1bmN0aW9uIEQoKSB7CiAgICBpZiAodHJhbnNsYXRlWCAhPT0gbGFzdFRyYW5zbGF0ZVgpIHsKICAgICAgaWYgKGJ1dHRvbnNSaWdodCAmJiBidXR0b25zUmlnaHQubGVuZ3RoID4gMCkgewogICAgICAgIHByb2dyZXNzID0gdHJhbnNsYXRlWCAvIHNsaWRlckFjdGlvblJpZ2h0V2lkdGgsIHRyYW5zbGF0ZVggPCAtc2xpZGVyQWN0aW9uUmlnaHRXaWR0aCAmJiAodHJhbnNsYXRlWCA9IC1zbGlkZXJBY3Rpb25SaWdodFdpZHRoIC0gTWF0aC5wb3coLXRyYW5zbGF0ZVggLSBzbGlkZXJBY3Rpb25SaWdodFdpZHRoLCB5KSk7CgogICAgICAgIGZvciAodmFyIGEgPSAwLCBiID0gYnV0dG9uc1JpZ2h0Lmxlbmd0aDsgYSA8IGI7IGErKykgewogICAgICAgICAgdmFyIGMgPSBidXR0b25zUmlnaHRbYV07CiAgICAgICAgICB2b2lkIDAgPT09IGMuX2J1dHRvbk9mZnNldCAmJiAoYy5fYnV0dG9uT2Zmc2V0ID0gYy5vZmZzZXRMZWZ0KSwgYnV0dG9uT2Zmc2V0ID0gYy5fYnV0dG9uT2Zmc2V0LCBFKGMsIHRyYW5zbGF0ZVggLSBidXR0b25PZmZzZXQgKiAoMSArIE1hdGgubWF4KHByb2dyZXNzLCAtMSkpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChidXR0b25zTGVmdCAmJiBidXR0b25zTGVmdC5sZW5ndGggPiAwKSB7CiAgICAgICAgcHJvZ3Jlc3MgPSB0cmFuc2xhdGVYIC8gc2xpZGVyQWN0aW9uTGVmdFdpZHRoLCB0cmFuc2xhdGVYID4gc2xpZGVyQWN0aW9uTGVmdFdpZHRoICYmICh0cmFuc2xhdGVYID0gc2xpZGVyQWN0aW9uTGVmdFdpZHRoICsgTWF0aC5wb3codHJhbnNsYXRlWCAtIHNsaWRlckFjdGlvbkxlZnRXaWR0aCwgeSkpOwoKICAgICAgICBmb3IgKHZhciBhID0gMCwgYiA9IGJ1dHRvbnNMZWZ0Lmxlbmd0aDsgYSA8IGI7IGErKykgewogICAgICAgICAgdmFyIGQgPSBidXR0b25zTGVmdFthXTsKICAgICAgICAgIHZvaWQgMCA9PT0gZC5fYnV0dG9uT2Zmc2V0ICYmIChkLl9idXR0b25PZmZzZXQgPSBzbGlkZXJBY3Rpb25MZWZ0V2lkdGggLSBkLm9mZnNldExlZnQgLSBkLm9mZnNldFdpZHRoKSwgYnV0dG9uT2Zmc2V0ID0gZC5fYnV0dG9uT2Zmc2V0LCBidXR0b25zTGVmdC5sZW5ndGggPiAxICYmIChkLnN0eWxlLnpJbmRleCA9IGJ1dHRvbnNMZWZ0Lmxlbmd0aCAtIGEpLCBFKGQsIHRyYW5zbGF0ZVggKyBidXR0b25PZmZzZXQgKiAoMSAtIE1hdGgubWluKHByb2dyZXNzLCAxKSkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgRShBLCB0cmFuc2xhdGVYKSwgbGFzdFRyYW5zbGF0ZVggPSB0cmFuc2xhdGVYOwogICAgfQoKICAgIHNsaWRlclJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgIEQoKTsKICAgIH0pOwogIH0sCiAgICAgIEUgPSBmdW5jdGlvbiBFKGEsIGIpIHsKICAgIGEgJiYgKGEuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gInRyYW5zbGF0ZSgiICsgYiArICJweCwwKSIpOwogIH07CgogIGIuYWRkRXZlbnRMaXN0ZW5lcihhLkVWRU5UX1NUQVJULCBmdW5jdGlvbiAoYikgewogICAgZSAmJiBDKCExKSwgZSA9IGYgPSAhMSwgeiA9IGlzT3BlbmVkID0gb3BlbmVkQWN0aW9ucyA9ICExOwoKICAgIGZvciAodmFyIGcgPSBiLnRhcmdldCwgaCA9ICExOyBnICYmIGcgIT09IGM7IGcgPSBnLnBhcmVudE5vZGUpIHsKICAgICAgaWYgKGcuY2xhc3NMaXN0KSB7CiAgICAgICAgdmFyIHAgPSBnLmNsYXNzTGlzdDsKICAgICAgICBpZiAoKCJJTlBVVCIgPT09IGcudGFnTmFtZSAmJiAicmFkaW8iICE9PSBnLnR5cGUgJiYgImNoZWNrYm94IiAhPT0gZy50eXBlIHx8ICJCVVRUT04iID09PSBnLnRhZ05hbWUgfHwgcC5jb250YWlucyhuKSB8fCBwLmNvbnRhaW5zKG8pIHx8IHAuY29udGFpbnMobSkpICYmIChoID0gITApLCBwLmNvbnRhaW5zKGwpKSBicmVhazsKCiAgICAgICAgaWYgKHAuY29udGFpbnMoaykpIHsKICAgICAgICAgIGUgPSBnOwogICAgICAgICAgdmFyIHEgPSBlLnBhcmVudE5vZGUucXVlcnlTZWxlY3Rvcih3KTsKICAgICAgICAgIGlmICghZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucyhqKSAmJiBxICYmIHEgIT09IGUpIHJldHVybiBhLnN3aXBlb3V0Q2xvc2UocSksIHZvaWQgKGUgPSBoID0gITEpOwoKICAgICAgICAgIGlmICghZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucyhpKSkgewogICAgICAgICAgICB2YXIgciA9IGUucXVlcnlTZWxlY3RvcigiYSIpOwogICAgICAgICAgICByICYmIHIucGFyZW50Tm9kZSA9PT0gZSAmJiAoZiA9IHIpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBzID0gZS5xdWVyeVNlbGVjdG9yKHQpOwogICAgICAgICAgcyAmJiAoZChlKSwgYi5zdG9wUHJvcGFnYXRpb24oKSksIGggfHwgKHMgPyAoQiAmJiBCLmNhbmNlbCgpLCBCID0gYS5sYXRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEMoITApOwogICAgICAgICAgfSwgMTAwKSkgOiBDKCEwKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfTU9WRSwgZnVuY3Rpb24gKGEpIHsKICAgIEMoITEpOwogIH0pOwogIHZhciBGID0gewogICAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGEpIHsKICAgICAgc3dpdGNoIChhLnR5cGUpIHsKICAgICAgICBjYXNlICJkcmFnIjoKICAgICAgICAgIHRoaXMuZHJhZyhhKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkcmFnZW5kIjoKICAgICAgICAgIHRoaXMuZHJhZ2VuZChhKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJmbGljayI6CiAgICAgICAgICB0aGlzLmZsaWNrKGEpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInN3aXBlcmlnaHQiOgogICAgICAgICAgdGhpcy5zd2lwZXJpZ2h0KGEpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInN3aXBlbGVmdCI6CiAgICAgICAgICB0aGlzLnN3aXBlbGVmdChhKTsKICAgICAgfQogICAgfSwKICAgIGRyYWc6IGZ1bmN0aW9uIGRyYWcoYSkgewogICAgICBpZiAoZSkgewogICAgICAgIHogfHwgKEEgPSBzbGlkZXJBY3Rpb25MZWZ0ID0gc2xpZGVyQWN0aW9uUmlnaHQgPSBidXR0b25zTGVmdCA9IGJ1dHRvbnNSaWdodCA9IHNsaWRlckRpcmVjdGlvbiA9IHNsaWRlclJlcXVlc3RBbmltYXRpb25GcmFtZSA9ICExLCAoQSA9IGUucXVlcnlTZWxlY3Rvcih0KSkgJiYgKHNsaWRlckFjdGlvbkxlZnQgPSBlLnF1ZXJ5U2VsZWN0b3IodSksIHNsaWRlckFjdGlvblJpZ2h0ID0gZS5xdWVyeVNlbGVjdG9yKHYpLCBzbGlkZXJBY3Rpb25MZWZ0ICYmIChzbGlkZXJBY3Rpb25MZWZ0V2lkdGggPSBzbGlkZXJBY3Rpb25MZWZ0Lm9mZnNldFdpZHRoLCBidXR0b25zTGVmdCA9IHNsaWRlckFjdGlvbkxlZnQucXVlcnlTZWxlY3RvckFsbCh4KSksIHNsaWRlckFjdGlvblJpZ2h0ICYmIChzbGlkZXJBY3Rpb25SaWdodFdpZHRoID0gc2xpZGVyQWN0aW9uUmlnaHQub2Zmc2V0V2lkdGgsIGJ1dHRvbnNSaWdodCA9IHNsaWRlckFjdGlvblJpZ2h0LnF1ZXJ5U2VsZWN0b3JBbGwoeCkpLCBlLmNsYXNzTGlzdC5yZW1vdmUocyksIGlzT3BlbmVkID0gZS5jbGFzc0xpc3QuY29udGFpbnMoaCksIGlzT3BlbmVkICYmIChvcGVuZWRBY3Rpb25zID0gZS5xdWVyeVNlbGVjdG9yKHUgKyB3KSA/ICJsZWZ0IiA6ICJyaWdodCIpKSk7CiAgICAgICAgdmFyIGIgPSBhLmRldGFpbCwKICAgICAgICAgICAgYyA9IGIuZGlyZWN0aW9uLAogICAgICAgICAgICBkID0gYi5hbmdsZTsKCiAgICAgICAgaWYgKCJsZWZ0IiA9PT0gYyAmJiAoZCA+IDE1MCB8fCBkIDwgLTE1MCkgPyAoYnV0dG9uc1JpZ2h0IHx8IGJ1dHRvbnNMZWZ0ICYmIGlzT3BlbmVkKSAmJiAoeiA9ICEwKSA6ICJyaWdodCIgPT09IGMgJiYgZCA+IC0zMCAmJiBkIDwgMzAgJiYgKGJ1dHRvbnNMZWZ0IHx8IGJ1dHRvbnNSaWdodCAmJiBpc09wZW5lZCkgJiYgKHogPSAhMCksIHopIHsKICAgICAgICAgIGEuc3RvcFByb3BhZ2F0aW9uKCksIGEuZGV0YWlsLmdlc3R1cmUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHZhciBmID0gYS5kZXRhaWwuZGVsdGFYOwoKICAgICAgICAgIGlmIChpc09wZW5lZCAmJiAoInJpZ2h0IiA9PT0gb3BlbmVkQWN0aW9ucyA/IGYgLT0gc2xpZGVyQWN0aW9uUmlnaHRXaWR0aCA6IGYgKz0gc2xpZGVyQWN0aW9uTGVmdFdpZHRoKSwgZiA+IDAgJiYgIWJ1dHRvbnNMZWZ0IHx8IGYgPCAwICYmICFidXR0b25zUmlnaHQpIHsKICAgICAgICAgICAgaWYgKCFpc09wZW5lZCkgcmV0dXJuOwogICAgICAgICAgICBmID0gMDsKICAgICAgICAgIH0KCiAgICAgICAgICBmIDwgMCA/IHNsaWRlckRpcmVjdGlvbiA9ICJ0b0xlZnQiIDogZiA+IDAgPyBzbGlkZXJEaXJlY3Rpb24gPSAidG9SaWdodCIgOiBzbGlkZXJEaXJlY3Rpb24gfHwgKHNsaWRlckRpcmVjdGlvbiA9ICJ0b0xlZnQiKSwgc2xpZGVyUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IEQoKSwgdHJhbnNsYXRlWCA9IGY7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZmxpY2s6IGZ1bmN0aW9uIGZsaWNrKGEpIHsKICAgICAgeiAmJiBhLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSwKICAgIHN3aXBlbGVmdDogZnVuY3Rpb24gc3dpcGVsZWZ0KGEpIHsKICAgICAgeiAmJiBhLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSwKICAgIHN3aXBlcmlnaHQ6IGZ1bmN0aW9uIHN3aXBlcmlnaHQoYSkgewogICAgICB6ICYmIGEuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9LAogICAgZHJhZ2VuZDogZnVuY3Rpb24gZHJhZ2VuZChiKSB7CiAgICAgIGlmICh6KSB7CiAgICAgICAgYi5zdG9wUHJvcGFnYXRpb24oKSwgc2xpZGVyUmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIChjYW5jZWxBbmltYXRpb25GcmFtZShzbGlkZXJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLCBzbGlkZXJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBudWxsKTsKICAgICAgICB2YXIgYyA9IGIuZGV0YWlsOwogICAgICAgIHogPSAhMTsKICAgICAgICB2YXIgZCA9ICJjbG9zZSIsCiAgICAgICAgICAgIGYgPSAidG9MZWZ0IiA9PT0gc2xpZGVyRGlyZWN0aW9uID8gc2xpZGVyQWN0aW9uUmlnaHRXaWR0aCA6IHNsaWRlckFjdGlvbkxlZnRXaWR0aDsKICAgICAgICAoYy5zd2lwZSB8fCBNYXRoLmFicyh0cmFuc2xhdGVYKSA+IGYgLyAyKSAmJiAoaXNPcGVuZWQgPyAibGVmdCIgPT09IGMuZGlyZWN0aW9uICYmICJyaWdodCIgPT09IG9wZW5lZEFjdGlvbnMgPyBkID0gIm9wZW4iIDogInJpZ2h0IiA9PT0gYy5kaXJlY3Rpb24gJiYgImxlZnQiID09PSBvcGVuZWRBY3Rpb25zICYmIChkID0gIm9wZW4iKSA6IGQgPSAib3BlbiIpLCBlLmNsYXNzTGlzdC5hZGQocyk7CiAgICAgICAgdmFyIGc7CgogICAgICAgIGlmICgib3BlbiIgPT09IGQpIHsKICAgICAgICAgIHZhciBpID0gInRvTGVmdCIgPT09IHNsaWRlckRpcmVjdGlvbiA/IC1mIDogZjsKCiAgICAgICAgICBpZiAoRShBLCBpKSwgdm9pZCAwICE9PSAoZyA9ICJ0b0xlZnQiID09PSBzbGlkZXJEaXJlY3Rpb24gPyBidXR0b25zUmlnaHQgOiBidXR0b25zTGVmdCkpIHsKICAgICAgICAgICAgZm9yICh2YXIgaiA9IG51bGwsIGsgPSAwOyBrIDwgZy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgIGogPSBnW2tdLCBFKGosIGkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBqLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZChoKSwgZS5jbGFzc0xpc3QuYWRkKGgpLCBpc09wZW5lZCB8fCBhLnRyaWdnZXIoZSwgInRvTGVmdCIgPT09IHNsaWRlckRpcmVjdGlvbiA/ICJzbGlkZWxlZnQiIDogInNsaWRlcmlnaHQiKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgRShBLCAwKSwgc2xpZGVyQWN0aW9uTGVmdCAmJiBzbGlkZXJBY3Rpb25MZWZ0LmNsYXNzTGlzdC5yZW1vdmUoaCksIHNsaWRlckFjdGlvblJpZ2h0ICYmIHNsaWRlckFjdGlvblJpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoaCksIGUuY2xhc3NMaXN0LnJlbW92ZShoKTsKCiAgICAgICAgdmFyIGw7CiAgICAgICAgaWYgKGJ1dHRvbnNMZWZ0ICYmIGJ1dHRvbnNMZWZ0Lmxlbmd0aCA+IDAgJiYgYnV0dG9uc0xlZnQgIT09IGcpIGZvciAodmFyIGsgPSAwLCBtID0gYnV0dG9uc0xlZnQubGVuZ3RoOyBrIDwgbTsgaysrKSB7CiAgICAgICAgICB2YXIgbiA9IGJ1dHRvbnNMZWZ0W2tdOwogICAgICAgICAgbCA9IG4uX2J1dHRvbk9mZnNldCwgdm9pZCAwID09PSBsICYmIChuLl9idXR0b25PZmZzZXQgPSBzbGlkZXJBY3Rpb25MZWZ0V2lkdGggLSBuLm9mZnNldExlZnQgLSBuLm9mZnNldFdpZHRoKSwgRShuLCBsKTsKICAgICAgICB9CiAgICAgICAgaWYgKGJ1dHRvbnNSaWdodCAmJiBidXR0b25zUmlnaHQubGVuZ3RoID4gMCAmJiBidXR0b25zUmlnaHQgIT09IGcpIGZvciAodmFyIGsgPSAwLCBtID0gYnV0dG9uc1JpZ2h0Lmxlbmd0aDsgayA8IG07IGsrKykgewogICAgICAgICAgdmFyIG8gPSBidXR0b25zUmlnaHRba107CiAgICAgICAgICBsID0gby5fYnV0dG9uT2Zmc2V0LCB2b2lkIDAgPT09IGwgJiYgKG8uX2J1dHRvbk9mZnNldCA9IG8ub2Zmc2V0TGVmdCksIEUobywgLWwpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgYS5zd2lwZW91dE9wZW4gPSBmdW5jdGlvbiAoYiwgYykgewogICAgaWYgKGIpIHsKICAgICAgdmFyIGQgPSBiLmNsYXNzTGlzdDsKCiAgICAgIGlmICghZC5jb250YWlucyhoKSkgewogICAgICAgIGMgfHwgKGMgPSBiLnF1ZXJ5U2VsZWN0b3IodikgPyAicmlnaHQiIDogImxlZnQiKTsKICAgICAgICB2YXIgZSA9IGIucXVlcnlTZWxlY3RvcihhLmNsYXNzU2VsZWN0b3IoIi5zbGlkZXItIiArIGMpKTsKCiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIGUuY2xhc3NMaXN0LmFkZChoKSwgZC5hZGQoaCksIGQucmVtb3ZlKHMpOwoKICAgICAgICAgIGZvciAodmFyIGYsIGcgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoeCksIGkgPSBlLm9mZnNldFdpZHRoLCBqID0gInJpZ2h0IiA9PT0gYyA/IC1pIDogaSwgayA9IGcubGVuZ3RoLCBsID0gMDsgbCA8IGs7IGwrKykgewogICAgICAgICAgICBmID0gZ1tsXSwgInJpZ2h0IiA9PT0gYyA/IEUoZiwgLWYub2Zmc2V0TGVmdCkgOiBFKGYsIGkgLSBmLm9mZnNldFdpZHRoIC0gZi5vZmZzZXRMZWZ0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBkLmFkZChzKTsKCiAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGs7IGwrKykgewogICAgICAgICAgICBFKGdbbF0sIGopOwogICAgICAgICAgfQoKICAgICAgICAgIEUoYi5xdWVyeVNlbGVjdG9yKHQpLCBqKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCBhLnN3aXBlb3V0Q2xvc2UgPSBmdW5jdGlvbiAoYikgewogICAgaWYgKGIpIHsKICAgICAgdmFyIGMgPSBiLmNsYXNzTGlzdDsKCiAgICAgIGlmIChjLmNvbnRhaW5zKGgpKSB7CiAgICAgICAgdmFyIGQgPSBiLnF1ZXJ5U2VsZWN0b3IodiArIHcpID8gInJpZ2h0IiA6ICJsZWZ0IiwKICAgICAgICAgICAgZSA9IGIucXVlcnlTZWxlY3RvcihhLmNsYXNzU2VsZWN0b3IoIi5zbGlkZXItIiArIGQpKTsKCiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShoKSwgYy5yZW1vdmUoaCksIGMuYWRkKHMpOwogICAgICAgICAgdmFyIGYsCiAgICAgICAgICAgICAgZyA9IGUucXVlcnlTZWxlY3RvckFsbCh4KSwKICAgICAgICAgICAgICBpID0gZS5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBqID0gZy5sZW5ndGg7CiAgICAgICAgICBFKGIucXVlcnlTZWxlY3Rvcih0KSwgMCk7CgogICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBqOyBrKyspIHsKICAgICAgICAgICAgZiA9IGdba10sICJyaWdodCIgPT09IGQgPyBFKGYsIC1mLm9mZnNldExlZnQpIDogRShmLCBpIC0gZi5vZmZzZXRXaWR0aCAtIGYub2Zmc2V0TGVmdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfRU5ELCBmdW5jdGlvbiAoYSkgewogICAgZSAmJiAoQyghMSksIEEgJiYgZChlLCAhMCkpOwogIH0pLCBiLmFkZEV2ZW50TGlzdGVuZXIoYS5FVkVOVF9DQU5DRUwsIGZ1bmN0aW9uIChhKSB7CiAgICBlICYmIChDKCExKSwgQSAmJiBkKGUsICEwKSk7CiAgfSk7CgogIHZhciBHID0gZnVuY3Rpb24gRyhiKSB7CiAgICB2YXIgYyA9IGIudGFyZ2V0ICYmIGIudGFyZ2V0LnR5cGUgfHwgIiI7CgogICAgaWYgKCJyYWRpbyIgIT09IGMgJiYgImNoZWNrYm94IiAhPT0gYykgewogICAgICB2YXIgZCA9IGUuY2xhc3NMaXN0OwoKICAgICAgaWYgKGQuY29udGFpbnMoIm11aS1yYWRpbyIpKSB7CiAgICAgICAgdmFyIGYgPSBlLnF1ZXJ5U2VsZWN0b3IoImlucHV0W3R5cGU9cmFkaW9dIik7CiAgICAgICAgZiAmJiAoZi5kaXNhYmxlZCB8fCBmLnJlYWRPbmx5IHx8IChmLmNoZWNrZWQgPSAhZi5jaGVja2VkLCBhLnRyaWdnZXIoZiwgImNoYW5nZSIpKSk7CiAgICAgIH0gZWxzZSBpZiAoZC5jb250YWlucygibXVpLWNoZWNrYm94IikpIHsKICAgICAgICB2YXIgZiA9IGUucXVlcnlTZWxlY3RvcigiaW5wdXRbdHlwZT1jaGVja2JveF0iKTsKICAgICAgICBmICYmIChmLmRpc2FibGVkIHx8IGYucmVhZE9ubHkgfHwgKGYuY2hlY2tlZCA9ICFmLmNoZWNrZWQsIGEudHJpZ2dlcihmLCAiY2hhbmdlIikpKTsKICAgICAgfQogICAgfQogIH07CgogIGIuYWRkRXZlbnRMaXN0ZW5lcihhLkVWRU5UX0NMSUNLLCBmdW5jdGlvbiAoYSkgewogICAgZSAmJiBlLmNsYXNzTGlzdC5jb250YWlucygibXVpLWNvbGxhcHNlIikgJiYgYS5wcmV2ZW50RGVmYXVsdCgpOwogIH0pLCBiLmFkZEV2ZW50TGlzdGVuZXIoImRvdWJsZXRhcCIsIGZ1bmN0aW9uIChhKSB7CiAgICBlICYmIEcoYSk7CiAgfSk7CiAgdmFyIEggPSAvXihJTlBVVHxURVhUQVJFQXxCVVRUT058U0VMRUNUKSQvOwogIGIuYWRkRXZlbnRMaXN0ZW5lcigidGFwIiwgZnVuY3Rpb24gKGIpIHsKICAgIGlmIChlKSB7CiAgICAgIHZhciBjID0gITEsCiAgICAgICAgICBkID0gZS5jbGFzc0xpc3QsCiAgICAgICAgICBmID0gZS5wYXJlbnROb2RlOwoKICAgICAgaWYgKGYgJiYgZi5jbGFzc0xpc3QuY29udGFpbnMoaikpIHsKICAgICAgICBpZiAoZC5jb250YWlucyhoKSkgcmV0dXJuOwogICAgICAgIHZhciBpID0gZi5xdWVyeVNlbGVjdG9yKCJsaSIgKyB3KTsKICAgICAgICByZXR1cm4gaSAmJiBpLmNsYXNzTGlzdC5yZW1vdmUoaCksIGQuYWRkKGgpLCB2b2lkIGEudHJpZ2dlcihlLCAic2VsZWN0ZWQiLCB7CiAgICAgICAgICBlbDogZQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoZC5jb250YWlucygibXVpLWNvbGxhcHNlIikgJiYgIWUucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoIm11aS11bmZvbGQiKSkgewogICAgICAgIGlmIChILnRlc3QoYi50YXJnZXQudGFnTmFtZSkgfHwgYi5kZXRhaWwuZ2VzdHVyZS5wcmV2ZW50RGVmYXVsdCgpLCAhZC5jb250YWlucyhnKSkgewogICAgICAgICAgdmFyIGsgPSBlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcigiLm11aS1jb2xsYXBzZS5tdWktYWN0aXZlIik7CiAgICAgICAgICBrICYmIGsuY2xhc3NMaXN0LnJlbW92ZShnKSwgYyA9ICEwOwogICAgICAgIH0KCiAgICAgICAgZC50b2dnbGUoZyksIGMgJiYgYS50cmlnZ2VyKGUsICJleHBhbmQiKTsKICAgICAgfSBlbHNlIEcoYik7CiAgICB9CiAgfSk7Cn0obXVpLCB3aW5kb3csIGRvY3VtZW50KSwgZnVuY3Rpb24gKGEsIGIpIHsKICBhLmFsZXJ0ID0gZnVuY3Rpb24gKGMsIGQsIGUsIGYpIHsKICAgIGlmIChhLm9zLnBsdXMpIHsKICAgICAgaWYgKHZvaWQgMCA9PT0gYykgcmV0dXJuOwogICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBkID8gKGYgPSBkLCBkID0gbnVsbCwgZSA9ICLnoa7lrpoiKSA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgJiYgKGYgPSBlLCBlID0gbnVsbCksIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICBwbHVzLm5hdGl2ZVVJLmFsZXJ0KGMsIGYsIGQsIGUpOwogICAgICB9KTsKICAgIH0gZWxzZSBiLmFsZXJ0KGMpOwogIH07Cn0obXVpLCB3aW5kb3cpLCBmdW5jdGlvbiAoYSwgYikgewogIGEuY29uZmlybSA9IGZ1bmN0aW9uIChjLCBkLCBlLCBmKSB7CiAgICBpZiAoYS5vcy5wbHVzKSB7CiAgICAgIGlmICh2b2lkIDAgPT09IGMpIHJldHVybjsKICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZCA/IChmID0gZCwgZCA9IG51bGwsIGUgPSBudWxsKSA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgJiYgKGYgPSBlLCBlID0gbnVsbCksIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICBwbHVzLm5hdGl2ZVVJLmNvbmZpcm0oYywgZiwgZCwgZSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGYoYi5jb25maXJtKGMpID8gewogICAgICBpbmRleDogMAogICAgfSA6IHsKICAgICAgaW5kZXg6IDEKICAgIH0pOwogIH07Cn0obXVpLCB3aW5kb3cpLCBmdW5jdGlvbiAoYSwgYikgewogIGEucHJvbXB0ID0gZnVuY3Rpb24gKGMsIGQsIGUsIGYsIGcpIHsKICAgIGlmIChhLm9zLnBsdXMpIHsKICAgICAgaWYgKCJ1bmRlZmluZWQiID09IHR5cGVvZiBtZXNzYWdlKSByZXR1cm47CiAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIGQgPyAoZyA9IGQsIGQgPSBudWxsLCBlID0gbnVsbCwgZiA9IG51bGwpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IChnID0gZSwgZSA9IG51bGwsIGYgPSBudWxsKSA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGYgJiYgKGcgPSBmLCBmID0gbnVsbCksIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICBwbHVzLm5hdGl2ZVVJLnByb21wdChjLCBnLCBlLCBkLCBmKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgaCA9IGIucHJvbXB0KGMpOwogICAgICBnKGggPyB7CiAgICAgICAgaW5kZXg6IDAsCiAgICAgICAgdmFsdWU6IGgKICAgICAgfSA6IHsKICAgICAgICBpbmRleDogMSwKICAgICAgICB2YWx1ZTogIiIKICAgICAgfSk7CiAgICB9CiAgfTsKfShtdWksIHdpbmRvdyksIGZ1bmN0aW9uIChhLCBiKSB7CiAgdmFyIGMgPSAibXVpLWFjdGl2ZSI7CgogIGEudG9hc3QgPSBmdW5jdGlvbiAoYiwgZCkgewogICAgdmFyIGUgPSB7CiAgICAgIGxvbmc6IDM1MDAsCiAgICAgIHNob3J0OiAyZTMKICAgIH07CgogICAgaWYgKGQgPSBhLmV4dGVuZCh7CiAgICAgIGR1cmF0aW9uOiAic2hvcnQiCiAgICB9LCBkIHx8IHt9KSwgIWEub3MucGx1cyB8fCAiZGl2IiA9PT0gZC50eXBlKSB7CiAgICAgICJudW1iZXIiID09IHR5cGVvZiBkLmR1cmF0aW9uID8gZHVyYXRpb24gPSBkLmR1cmF0aW9uID4gMCA/IGQuZHVyYXRpb24gOiBlLnNob3J0IDogZHVyYXRpb24gPSBlW2QuZHVyYXRpb25dLCBkdXJhdGlvbiB8fCAoZHVyYXRpb24gPSBlLnNob3J0KTsKICAgICAgdmFyIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgcmV0dXJuIGYuY2xhc3NMaXN0LmFkZCgibXVpLXRvYXN0LWNvbnRhaW5lciIpLCBmLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJtdWktdG9hc3QtbWVzc2FnZSI+JyArIGIgKyAiPC9kaXY+IiwgZi5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGYuY2xhc3NMaXN0LmNvbnRhaW5zKGMpIHx8IChmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZiksIGYgPSBudWxsKTsKICAgICAgfSksIGYuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGYpLCBmID0gbnVsbDsKICAgICAgfSksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZiksIGYub2Zmc2V0SGVpZ2h0LCBmLmNsYXNzTGlzdC5hZGQoYyksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGYgJiYgZi5jbGFzc0xpc3QucmVtb3ZlKGMpOwogICAgICB9LCBkdXJhdGlvbiksIHsKICAgICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHsKICAgICAgICAgIHJldHVybiAhIWY7CiAgICAgICAgfQogICAgICB9OwogICAgfQoKICAgIGEucGx1c1JlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgcGx1cy5uYXRpdmVVSS50b2FzdChiLCB7CiAgICAgICAgdmVydGljYWxBbGlnbjogImJvdHRvbSIsCiAgICAgICAgZHVyYXRpb246IGQuZHVyYXRpb24KICAgICAgfSk7CiAgICB9KTsKICB9Owp9KG11aSwgd2luZG93KSwgZnVuY3Rpb24gKGEsIGIsIGMpIHsKICB2YXIgZCA9ICJtdWktcG9wdXAiLAogICAgICBlID0gIm11aS1wb3B1cC1iYWNrZHJvcCIsCiAgICAgIGYgPSAibXVpLXBvcHVwLWluIiwKICAgICAgZyA9ICJtdWktcG9wdXAtb3V0IiwKICAgICAgaCA9ICJtdWktcG9wdXAtaW5uZXIiLAogICAgICBpID0gIm11aS1wb3B1cC10aXRsZSIsCiAgICAgIGogPSAibXVpLXBvcHVwLXRleHQiLAogICAgICBrID0gIm11aS1wb3B1cC1pbnB1dCIsCiAgICAgIGwgPSAibXVpLXBvcHVwLWJ1dHRvbnMiLAogICAgICBtID0gIm11aS1wb3B1cC1idXR0b24iLAogICAgICBuID0gIm11aS1wb3B1cC1idXR0b24tYm9sZCIsCiAgICAgIGUgPSAibXVpLXBvcHVwLWJhY2tkcm9wIiwKICAgICAgbyA9ICJtdWktYWN0aXZlIiwKICAgICAgcCA9IFtdLAogICAgICBxID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGIgPSBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcmV0dXJuIGIuY2xhc3NMaXN0LmFkZChlKSwgYi5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfTU9WRSwgYS5wcmV2ZW50RGVmYXVsdCksIGIuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0VHJhbnNpdGlvbkVuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jbGFzc0xpc3QuY29udGFpbnMobykgfHwgYi5wYXJlbnROb2RlICYmIGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTsKICAgIH0pLCBiOwogIH0oKSwKICAgICAgciA9IGZ1bmN0aW9uIHIoYSkgewogICAgcmV0dXJuICc8ZGl2IGNsYXNzPSInICsgayArICciPjxpbnB1dCB0eXBlPSJ0ZXh0IiBhdXRvZm9jdXMgcGxhY2Vob2xkZXI9IicgKyAoYSB8fCAiIikgKyAnIi8+PC9kaXY+JzsKICB9LAogICAgICBzID0gZnVuY3Rpb24gcyhhLCBiLCBjKSB7CiAgICByZXR1cm4gJzxkaXYgY2xhc3M9IicgKyBoICsgJyI+PGRpdiBjbGFzcz0iJyArIGkgKyAnIj4nICsgYiArICc8L2Rpdj48ZGl2IGNsYXNzPSInICsgaiArICciPicgKyBhLnJlcGxhY2UoL1xyXG4vZywgIjxici8+IikucmVwbGFjZSgvXG4vZywgIjxici8+IikgKyAiPC9kaXY+IiArIChjIHx8ICIiKSArICI8L2Rpdj4iOwogIH0sCiAgICAgIHQgPSBmdW5jdGlvbiB0KGEpIHsKICAgIGZvciAodmFyIGIgPSBhLmxlbmd0aCwgYyA9IFtdLCBkID0gMDsgZCA8IGI7IGQrKykgewogICAgICBjLnB1c2goJzxzcGFuIGNsYXNzPSInICsgbSArIChkID09PSBiIC0gMSA/ICIgIiArIG4gOiAiIikgKyAnIj4nICsgYVtkXSArICI8L3NwYW4+Iik7CiAgICB9CgogICAgcmV0dXJuICc8ZGl2IGNsYXNzPSInICsgbCArICciPicgKyBjLmpvaW4oIiIpICsgIjwvZGl2PiI7CiAgfSwKICAgICAgdSA9IGZ1bmN0aW9uIHUoYiwgZSkgewogICAgdmFyIGggPSBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgaC5jbGFzc05hbWUgPSBkLCBoLmlubmVySFRNTCA9IGI7CgogICAgdmFyIGkgPSBmdW5jdGlvbiBpKCkgewogICAgICBoLnBhcmVudE5vZGUgJiYgaC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGgpLCBoID0gbnVsbDsKICAgIH07CgogICAgaC5hZGRFdmVudExpc3RlbmVyKGEuRVZFTlRfTU9WRSwgYS5wcmV2ZW50RGVmYXVsdCksIGguYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0VHJhbnNpdGlvbkVuZCIsIGZ1bmN0aW9uIChhKSB7CiAgICAgIGggJiYgYS50YXJnZXQgPT09IGggJiYgaC5jbGFzc0xpc3QuY29udGFpbnMoZykgJiYgaSgpOwogICAgfSksIGguc3R5bGUuZGlzcGxheSA9ICJibG9jayIsIGMuYm9keS5hcHBlbmRDaGlsZChoKSwgaC5vZmZzZXRIZWlnaHQsIGguY2xhc3NMaXN0LmFkZChmKSwgcS5jbGFzc0xpc3QuY29udGFpbnMobykgfHwgKHEuc3R5bGUuZGlzcGxheSA9ICJibG9jayIsIGMuYm9keS5hcHBlbmRDaGlsZChxKSwgcS5vZmZzZXRIZWlnaHQsIHEuY2xhc3NMaXN0LmFkZChvKSk7CgogICAgdmFyIGogPSBhLnFzYSgiLiIgKyBtLCBoKSwKICAgICAgICBsID0gaC5xdWVyeVNlbGVjdG9yKCIuIiArIGsgKyAiIGlucHV0IiksCiAgICAgICAgbiA9IHsKICAgICAgZWxlbWVudDogaCwKICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGEsIGIpIHsKICAgICAgICBpZiAoaCkgewogICAgICAgICAgaWYgKCExID09PSAoZSAmJiBlKHsKICAgICAgICAgICAgaW5kZXg6IGEgfHwgMCwKICAgICAgICAgICAgdmFsdWU6IGwgJiYgbC52YWx1ZSB8fCAiIgogICAgICAgICAgfSkpKSByZXR1cm47CiAgICAgICAgICAhMSAhPT0gYiA/IChoLmNsYXNzTGlzdC5yZW1vdmUoZiksIGguY2xhc3NMaXN0LmFkZChnKSkgOiBpKCksIHAucG9wKCksIHAubGVuZ3RoID8gcFtwLmxlbmd0aCAtIDFdLnNob3coYikgOiBxLmNsYXNzTGlzdC5yZW1vdmUobyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgICAgIHIgPSBmdW5jdGlvbiByKGEpIHsKICAgICAgbi5jbG9zZShqLmluZGV4T2YoYS50YXJnZXQpKTsKICAgIH07CgogICAgcmV0dXJuIGEoaCkub24oInRhcCIsICIuIiArIG0sIHIpLCBwLmxlbmd0aCAmJiBwW3AubGVuZ3RoIC0gMV0uaGlkZSgpLCBwLnB1c2goewogICAgICBjbG9zZTogbi5jbG9zZSwKICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyhhKSB7CiAgICAgICAgaC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIiwgaC5vZmZzZXRIZWlnaHQsIGguY2xhc3NMaXN0LmFkZChmKTsKICAgICAgfSwKICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgICBoLnN0eWxlLmRpc3BsYXkgPSAibm9uZSIsIGguY2xhc3NMaXN0LnJlbW92ZShmKTsKICAgICAgfQogICAgfSksIG47CiAgfSwKICAgICAgdiA9IGZ1bmN0aW9uIHYoYiwgYywgZCwgZSwgZikgewogICAgaWYgKHZvaWQgMCAhPT0gYikgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIGMgPyAoZSA9IGMsIGYgPSBkLCBjID0gbnVsbCwgZCA9IG51bGwpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgZCAmJiAoZiA9IGUsIGUgPSBkLCBkID0gbnVsbCksIGEub3MucGx1cyAmJiAiZGl2IiAhPT0gZiA/IHBsdXMubmF0aXZlVUkuYWxlcnQoYiwgZSwgYyB8fCAi5o+Q56S6IiwgZCB8fCAi56Gu5a6aIikgOiB1KHMoYiwgYyB8fCAi5o+Q56S6IikgKyB0KFtkIHx8ICLnoa7lrpoiXSksIGUpOwogIH0sCiAgICAgIHcgPSBmdW5jdGlvbiB3KGIsIGMsIGQsIGUsIGYpIHsKICAgIGlmICh2b2lkIDAgIT09IGIpIHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiBjID8gKGUgPSBjLCBmID0gZCwgYyA9IG51bGwsIGQgPSBudWxsKSA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGQgJiYgKGYgPSBlLCBlID0gZCwgZCA9IG51bGwpLCBhLm9zLnBsdXMgJiYgImRpdiIgIT09IGYgPyBwbHVzLm5hdGl2ZVVJLmNvbmZpcm0oYiwgZSwgYywgZCB8fCBbIuWPlua2iCIsICLnoa7orqQiXSkgOiB1KHMoYiwgYyB8fCAi5o+Q56S6IikgKyB0KGQgfHwgWyLlj5bmtogiLCAi56Gu6K6kIl0pLCBlKTsKICB9LAogICAgICB4ID0gZnVuY3Rpb24geChiLCBjLCBkLCBlLCBmLCBnKSB7CiAgICBpZiAodm9pZCAwICE9PSBiKSByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgYyA/IChmID0gYywgZyA9IGQsIGMgPSBudWxsLCBkID0gbnVsbCwgZSA9IG51bGwpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgZCA/IChmID0gZCwgZyA9IGUsIGQgPSBudWxsLCBlID0gbnVsbCkgOiAiZnVuY3Rpb24iID09IHR5cGVvZiBlICYmIChnID0gZiwgZiA9IGUsIGUgPSBudWxsKSwgYS5vcy5wbHVzICYmICJkaXYiICE9PSBnID8gcGx1cy5uYXRpdmVVSS5wcm9tcHQoYiwgZiwgZCB8fCAi5o+Q56S6IiwgYywgZSB8fCBbIuWPlua2iCIsICLnoa7orqQiXSkgOiB1KHMoYiwgZCB8fCAi5o+Q56S6IiwgcihjKSkgKyB0KGUgfHwgWyLlj5bmtogiLCAi56Gu6K6kIl0pLCBmKTsKICB9LAogICAgICB5ID0gZnVuY3Rpb24geSgpIHsKICAgIHJldHVybiAhIXAubGVuZ3RoICYmIChwW3AubGVuZ3RoIC0gMV0uY2xvc2UoKSwgITApOwogIH0sCiAgICAgIHogPSBmdW5jdGlvbiB6KCkgewogICAgZm9yICg7IHAubGVuZ3RoOykgewogICAgICBwW3AubGVuZ3RoIC0gMV0uY2xvc2UoKTsKICAgIH0KICB9OwoKICBhLmNsb3NlUG9wdXAgPSB5LCBhLmNsb3NlUG9wdXBzID0geiwgYS5hbGVydCA9IHYsIGEuY29uZmlybSA9IHcsIGEucHJvbXB0ID0geDsKfShtdWksIHdpbmRvdywgZG9jdW1lbnQpLCBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gIm11aS1wcm9ncmVzc2JhciIsCiAgICAgIGQgPSAibXVpLXByb2dyZXNzYmFyLWluIiwKICAgICAgZSA9ICJtdWktcHJvZ3Jlc3NiYXItb3V0IiwKICAgICAgZiA9ICJtdWktcHJvZ3Jlc3NiYXItaW5maW5pdGUiLAogICAgICBnID0gIi5tdWktcHJvZ3Jlc3NiYXIiLAogICAgICBoID0gZnVuY3Rpb24gaChiKSB7CiAgICBpZiAoYiA9IGEoYiB8fCAiYm9keSIpLCAwICE9PSBiLmxlbmd0aCkgewogICAgICBpZiAoYiA9IGJbMF0sIGIuY2xhc3NMaXN0LmNvbnRhaW5zKGMpKSByZXR1cm4gYjsKICAgICAgdmFyIGQgPSBiLnF1ZXJ5U2VsZWN0b3JBbGwoZyk7CiAgICAgIGlmIChkKSBmb3IgKHZhciBlID0gMCwgZiA9IGQubGVuZ3RoOyBlIDwgZjsgZSsrKSB7CiAgICAgICAgdmFyIGggPSBkW2VdOwogICAgICAgIGlmIChoLnBhcmVudE5vZGUgPT09IGIpIHJldHVybiBoOwogICAgICB9CiAgICB9CiAgfSwKICAgICAgaSA9IGZ1bmN0aW9uIGkoaCwgX2ksIGopIHsKICAgIGlmICgibnVtYmVyIiA9PSB0eXBlb2YgaCAmJiAoaiA9IF9pLCBfaSA9IGgsIGggPSAiYm9keSIpLCBoID0gYShoIHx8ICJib2R5IiksIDAgIT09IGgubGVuZ3RoKSB7CiAgICAgIGggPSBoWzBdOwogICAgICB2YXIgbDsKICAgICAgaWYgKGguY2xhc3NMaXN0LmNvbnRhaW5zKGMpKSBsID0gaDtlbHNlIHsKICAgICAgICB2YXIgbSA9IGgucXVlcnlTZWxlY3RvckFsbChnICsgIjpub3QoLiIgKyBlICsgIikiKTsKICAgICAgICBpZiAobSkgZm9yICh2YXIgbiA9IDAsIG8gPSBtLmxlbmd0aDsgbiA8IG87IG4rKykgewogICAgICAgICAgdmFyIHAgPSBtW25dOwoKICAgICAgICAgIGlmIChwLnBhcmVudE5vZGUgPT09IGgpIHsKICAgICAgICAgICAgbCA9IHA7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsID8gbC5jbGFzc0xpc3QuYWRkKGQpIDogKGwgPSBiLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSwgbC5jbGFzc05hbWUgPSBjICsgIiAiICsgZCArICh2b2lkIDAgIT09IF9pID8gIiIgOiAiICIgKyBmKSArIChqID8gIiAiICsgYyArICItIiArIGogOiAiIiksIHZvaWQgMCAhPT0gX2kgJiYgKGwuaW5uZXJIVE1MID0gIjxzcGFuPjwvc3Bhbj4iKSwgaC5hcHBlbmRDaGlsZChsKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIF9pICYmIGsoaCwgX2kpLCBsOwogICAgfQogIH0sCiAgICAgIGogPSBmdW5jdGlvbiBqKGEpIHsKICAgIHZhciBiID0gaChhKTsKCiAgICBpZiAoYikgewogICAgICB2YXIgYyA9IGIuY2xhc3NMaXN0OwogICAgICBjLmNvbnRhaW5zKGQpICYmICFjLmNvbnRhaW5zKGUpICYmIChjLnJlbW92ZShkKSwgYy5hZGQoZSksIGIuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0QW5pbWF0aW9uRW5kIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGIucGFyZW50Tm9kZSAmJiBiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksIGIgPSBudWxsOwogICAgICB9KSk7CiAgICB9CiAgfSwKICAgICAgayA9IGZ1bmN0aW9uIGsoYSwgYiwgYykgewogICAgIm51bWJlciIgPT0gdHlwZW9mIGEgJiYgKGMgPSBiLCBiID0gYSwgYSA9ICExKTsKICAgIHZhciBkID0gaChhKTsKCiAgICBpZiAoZCAmJiAhZC5jbGFzc0xpc3QuY29udGFpbnMoZikpIHsKICAgICAgYiAmJiAoYiA9IE1hdGgubWluKE1hdGgubWF4KGIsIDApLCAxMDApKSwgZC5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBlID0gZC5xdWVyeVNlbGVjdG9yKCJzcGFuIik7CgogICAgICBpZiAoZSkgewogICAgICAgIHZhciBnID0gZS5zdHlsZTsKICAgICAgICBnLndlYmtpdFRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUzZCgiICsgKC0xMDAgKyBiKSArICIlLDAsMCkiLCBnLndlYmtpdFRyYW5zaXRpb25EdXJhdGlvbiA9IHZvaWQgMCAhPT0gYyA/IGMgKyAibXMiIDogIiI7CiAgICAgIH0KCiAgICAgIHJldHVybiBkOwogICAgfQogIH07CgogIGEuZm4ucHJvZ3Jlc3NiYXIgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBbXTsKICAgIHJldHVybiBhID0gYSB8fCB7fSwgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGMgPSB0aGlzLAogICAgICAgICAgZCA9IGMubXVpX3BsdWdpbl9wcm9ncmVzc2JhcjsKICAgICAgZCA/IGEgJiYgZC5zZXRPcHRpb25zKGEpIDogYy5tdWlfcGx1Z2luX3Byb2dyZXNzYmFyID0gZCA9IHsKICAgICAgICBvcHRpb25zOiBhLAogICAgICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uIHNldE9wdGlvbnMoYSkgewogICAgICAgICAgdGhpcy5vcHRpb25zID0gYTsKICAgICAgICB9LAogICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgICAgICByZXR1cm4gaShjLCB0aGlzLm9wdGlvbnMucHJvZ3Jlc3MsIHRoaXMub3B0aW9ucy5jb2xvcik7CiAgICAgICAgfSwKICAgICAgICBzZXRQcm9ncmVzczogZnVuY3Rpb24gc2V0UHJvZ3Jlc3MoYSkgewogICAgICAgICAgcmV0dXJuIGsoYywgYSk7CiAgICAgICAgfSwKICAgICAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICAgICAgcmV0dXJuIGooYyk7CiAgICAgICAgfQogICAgICB9LCBiLnB1c2goZCk7CiAgICB9KSwgMSA9PT0gYi5sZW5ndGggPyBiWzBdIDogYjsKICB9Owp9KG11aSwgZG9jdW1lbnQpLCBmdW5jdGlvbiAoYSwgYiwgYykgewogIHZhciBkID0gIm11aS1pY29uIiwKICAgICAgZSA9ICJtdWktaWNvbi1jbGVhciIsCiAgICAgIGYgPSAibXVpLWljb24tc3BlZWNoIiwKICAgICAgZyA9ICJtdWktaWNvbi1leWUiLAogICAgICBoID0gIm11aS1pbnB1dC1yb3ciLAogICAgICBpID0gIm11aS1wbGFjZWhvbGRlciIsCiAgICAgIGogPSAibXVpLXRvb2x0aXAiLAogICAgICBrID0gIm11aS1oaWRkZW4iLAogICAgICBsID0gIm11aS1mb2N1c2luIiwKICAgICAgbSA9ICIuIiArIGUsCiAgICAgIG4gPSAiLiIgKyBmLAogICAgICBvID0gIi4iICsgZywKICAgICAgcCA9ICIuIiArIGksCiAgICAgIHEgPSAiLiIgKyBqLAogICAgICByID0gZnVuY3Rpb24gcihhKSB7CiAgICBmb3IgKDsgYSAmJiBhICE9PSBjOyBhID0gYS5wYXJlbnROb2RlKSB7CiAgICAgIGlmIChhLmNsYXNzTGlzdCAmJiBhLmNsYXNzTGlzdC5jb250YWlucyhoKSkgcmV0dXJuIGE7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKICAgICAgcyA9IGZ1bmN0aW9uIHMoYSwgYikgewogICAgdGhpcy5lbGVtZW50ID0gYSwgdGhpcy5vcHRpb25zID0gYiB8fCB7CiAgICAgIGFjdGlvbnM6ICJjbGVhciIKICAgIH0sIH50aGlzLm9wdGlvbnMuYWN0aW9ucy5pbmRleE9mKCJzbGlkZXIiKSA/ICh0aGlzLnNsaWRlckFjdGlvbkNsYXNzID0gaiArICIgIiArIGssIHRoaXMuc2xpZGVyQWN0aW9uU2VsZWN0b3IgPSBxKSA6ICh+dGhpcy5vcHRpb25zLmFjdGlvbnMuaW5kZXhPZigiY2xlYXIiKSAmJiAodGhpcy5jbGVhckFjdGlvbkNsYXNzID0gZCArICIgIiArIGUgKyAiICIgKyBrLCB0aGlzLmNsZWFyQWN0aW9uU2VsZWN0b3IgPSBtKSwgfnRoaXMub3B0aW9ucy5hY3Rpb25zLmluZGV4T2YoInNwZWVjaCIpICYmICh0aGlzLnNwZWVjaEFjdGlvbkNsYXNzID0gZCArICIgIiArIGYsIHRoaXMuc3BlZWNoQWN0aW9uU2VsZWN0b3IgPSBuKSwgfnRoaXMub3B0aW9ucy5hY3Rpb25zLmluZGV4T2YoInNlYXJjaCIpICYmICh0aGlzLnNlYXJjaEFjdGlvbkNsYXNzID0gaSwgdGhpcy5zZWFyY2hBY3Rpb25TZWxlY3RvciA9IHApLCB+dGhpcy5vcHRpb25zLmFjdGlvbnMuaW5kZXhPZigicGFzc3dvcmQiKSAmJiAodGhpcy5wYXNzd29yZEFjdGlvbkNsYXNzID0gZCArICIgIiArIGcsIHRoaXMucGFzc3dvcmRBY3Rpb25TZWxlY3RvciA9IG8pKSwgdGhpcy5pbml0KCk7CiAgfTsKCiAgcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaW5pdEFjdGlvbigpLCB0aGlzLmluaXRFbGVtZW50RXZlbnQoKTsKICB9LCBzLnByb3RvdHlwZS5pbml0QWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGIgPSB0aGlzLAogICAgICAgIGMgPSBiLmVsZW1lbnQucGFyZW50Tm9kZTsKICAgIGMgJiYgKGIuc2xpZGVyQWN0aW9uQ2xhc3MgPyBiLnNsaWRlckFjdGlvbiA9IGIuY3JlYXRlQWN0aW9uKGMsIGIuc2xpZGVyQWN0aW9uQ2xhc3MsIGIuc2xpZGVyQWN0aW9uU2VsZWN0b3IpIDogKGIuc2VhcmNoQWN0aW9uQ2xhc3MgJiYgKGIuc2VhcmNoQWN0aW9uID0gYi5jcmVhdGVBY3Rpb24oYywgYi5zZWFyY2hBY3Rpb25DbGFzcywgYi5zZWFyY2hBY3Rpb25TZWxlY3RvciksIGIuc2VhcmNoQWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoInRhcCIsIGZ1bmN0aW9uIChjKSB7CiAgICAgIGEuZm9jdXMoYi5lbGVtZW50KSwgYy5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0pKSwgYi5zcGVlY2hBY3Rpb25DbGFzcyAmJiAoYi5zcGVlY2hBY3Rpb24gPSBiLmNyZWF0ZUFjdGlvbihjLCBiLnNwZWVjaEFjdGlvbkNsYXNzLCBiLnNwZWVjaEFjdGlvblNlbGVjdG9yKSwgYi5zcGVlY2hBY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhLnN0b3BQcm9wYWdhdGlvbiksIGIuc3BlZWNoQWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoInRhcCIsIGZ1bmN0aW9uIChhKSB7CiAgICAgIGIuc3BlZWNoQWN0aW9uQ2xpY2soYSk7CiAgICB9KSksIGIuY2xlYXJBY3Rpb25DbGFzcyAmJiAoYi5jbGVhckFjdGlvbiA9IGIuY3JlYXRlQWN0aW9uKGMsIGIuY2xlYXJBY3Rpb25DbGFzcywgYi5jbGVhckFjdGlvblNlbGVjdG9yKSwgYi5jbGVhckFjdGlvbi5hZGRFdmVudExpc3RlbmVyKCJ0YXAiLCBmdW5jdGlvbiAoYSkgewogICAgICBiLmNsZWFyQWN0aW9uQ2xpY2soYSk7CiAgICB9KSksIGIucGFzc3dvcmRBY3Rpb25DbGFzcyAmJiAoYi5wYXNzd29yZEFjdGlvbiA9IGIuY3JlYXRlQWN0aW9uKGMsIGIucGFzc3dvcmRBY3Rpb25DbGFzcywgYi5wYXNzd29yZEFjdGlvblNlbGVjdG9yKSwgYi5wYXNzd29yZEFjdGlvbi5hZGRFdmVudExpc3RlbmVyKCJ0YXAiLCBmdW5jdGlvbiAoYSkgewogICAgICBiLnBhc3N3b3JkQWN0aW9uQ2xpY2soYSk7CiAgICB9KSkpKTsKICB9LCBzLnByb3RvdHlwZS5jcmVhdGVBY3Rpb24gPSBmdW5jdGlvbiAoYSwgYiwgZSkgewogICAgdmFyIGYgPSBhLnF1ZXJ5U2VsZWN0b3IoZSk7CgogICAgaWYgKCFmKSB7CiAgICAgIHZhciBmID0gYy5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgIGYuY2xhc3NOYW1lID0gYiwgYiA9PT0gdGhpcy5zZWFyY2hBY3Rpb25DbGFzcyAmJiAoZi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9IicgKyBkICsgJyBtdWktaWNvbi1zZWFyY2giPjwvc3Bhbj48c3Bhbj4nICsgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiKSArICI8L3NwYW4+IiwgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiLCAiIiksIHRoaXMuZWxlbWVudC52YWx1ZS50cmltKCkgJiYgYS5jbGFzc0xpc3QuYWRkKCJtdWktYWN0aXZlIikpLCBhLmluc2VydEJlZm9yZShmLCB0aGlzLmVsZW1lbnQubmV4dFNpYmxpbmcpOwogICAgfQoKICAgIHJldHVybiBmOwogIH0sIHMucHJvdG90eXBlLmluaXRFbGVtZW50RXZlbnQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYiA9IHRoaXMuZWxlbWVudDsKCiAgICBpZiAodGhpcy5zbGlkZXJBY3Rpb25DbGFzcykgewogICAgICB2YXIgYyA9IHRoaXMuc2xpZGVyQWN0aW9uLAogICAgICAgICAgZCA9IG51bGwsCiAgICAgICAgICBlID0gZnVuY3Rpb24gZSgpIHsKICAgICAgICBjLmNsYXNzTGlzdC5yZW1vdmUoayk7CiAgICAgICAgdmFyIGEgPSBiLm9mZnNldExlZnQsCiAgICAgICAgICAgIGUgPSBiLm9mZnNldFdpZHRoIC0gMjgsCiAgICAgICAgICAgIGYgPSBjLm9mZnNldFdpZHRoLAogICAgICAgICAgICBnID0gTWF0aC5hYnMoYi5tYXggLSBiLm1pbiksCiAgICAgICAgICAgIGggPSBlIC8gZyAqIE1hdGguYWJzKGIudmFsdWUgLSBiLm1pbik7CiAgICAgICAgYy5zdHlsZS5sZWZ0ID0gMTQgKyBhICsgaCAtIGYgLyAyICsgInB4IiwgYy5pbm5lclRleHQgPSBiLnZhbHVlLCBkICYmIGNsZWFyVGltZW91dChkKSwgZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgYy5jbGFzc0xpc3QuYWRkKGspOwogICAgICAgIH0sIDFlMyk7CiAgICAgIH07CgogICAgICBiLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZSksIGIuYWRkRXZlbnRMaXN0ZW5lcigidGFwIiwgZSksIGIuYWRkRXZlbnRMaXN0ZW5lcihhLkVWRU5UX01PVkUsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgYS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5jbGVhckFjdGlvbkNsYXNzKSB7CiAgICAgICAgdmFyIGYgPSB0aGlzLmNsZWFyQWN0aW9uOwogICAgICAgIGlmICghZikgcmV0dXJuOwogICAgICAgIGEuZWFjaChbImtleXVwIiwgImNoYW5nZSIsICJpbnB1dCIsICJmb2N1cyIsICJjdXQiLCAicGFzdGUiXSwgZnVuY3Rpb24gKGEsIGMpIHsKICAgICAgICAgICFmdW5jdGlvbiAoYSkgewogICAgICAgICAgICBiLmFkZEV2ZW50TGlzdGVuZXIoYSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGYuY2xhc3NMaXN0W2IudmFsdWUudHJpbSgpID8gInJlbW92ZSIgOiAiYWRkIl0oayk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfShjKTsKICAgICAgICB9KSwgYi5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgZi5jbGFzc0xpc3QuYWRkKGspOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnNlYXJjaEFjdGlvbkNsYXNzICYmIChiLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGIucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCJtdWktYWN0aXZlIik7CiAgICAgIH0pLCBiLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgYi52YWx1ZS50cmltKCkgfHwgYi5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoIm11aS1hY3RpdmUiKTsKICAgICAgfSkpOwogICAgfQogIH0sIHMucHJvdG90eXBlLnNldFBsYWNlaG9sZGVyID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmICh0aGlzLnNlYXJjaEFjdGlvbkNsYXNzKSB7CiAgICAgIHZhciBiID0gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihwKTsKICAgICAgYiAmJiAoYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3BhbiIpWzFdLmlubmVyVGV4dCA9IGEpOwogICAgfSBlbHNlIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIiwgYSk7CiAgfSwgcy5wcm90b3R5cGUucGFzc3dvcmRBY3Rpb25DbGljayA9IGZ1bmN0aW9uIChhKSB7CiAgICAidGV4dCIgPT09IHRoaXMuZWxlbWVudC50eXBlID8gdGhpcy5lbGVtZW50LnR5cGUgPSAicGFzc3dvcmQiIDogdGhpcy5lbGVtZW50LnR5cGUgPSAidGV4dCIsIHRoaXMucGFzc3dvcmRBY3Rpb24uY2xhc3NMaXN0LnRvZ2dsZSgibXVpLWFjdGl2ZSIpLCBhLnByZXZlbnREZWZhdWx0KCk7CiAgfSwgcy5wcm90b3R5cGUuY2xlYXJBY3Rpb25DbGljayA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IHRoaXM7CiAgICBjLmVsZW1lbnQudmFsdWUgPSAiIiwgYS5mb2N1cyhjLmVsZW1lbnQpLCBjLmNsZWFyQWN0aW9uLmNsYXNzTGlzdC5hZGQoayksIGIucHJldmVudERlZmF1bHQoKTsKICB9LCBzLnByb3RvdHlwZS5zcGVlY2hBY3Rpb25DbGljayA9IGZ1bmN0aW9uIChkKSB7CiAgICBpZiAoYi5wbHVzKSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICAgIGYgPSBlLmVsZW1lbnQudmFsdWU7CiAgICAgIGUuZWxlbWVudC52YWx1ZSA9ICIiLCBjLmJvZHkuY2xhc3NMaXN0LmFkZChsKSwgcGx1cy5zcGVlY2guc3RhcnRSZWNvZ25pemUoewogICAgICAgIGVuZ2luZTogImlGbHkiCiAgICAgIH0sIGZ1bmN0aW9uIChiKSB7CiAgICAgICAgZS5lbGVtZW50LnZhbHVlICs9IGIsIGEuZm9jdXMoZS5lbGVtZW50KSwgcGx1cy5zcGVlY2guc3RvcFJlY29nbml6ZSgpLCBhLnRyaWdnZXIoZS5lbGVtZW50LCAicmVjb2duaXplZCIsIHsKICAgICAgICAgIHZhbHVlOiBlLmVsZW1lbnQudmFsdWUKICAgICAgICB9KSwgZiAhPT0gZS5lbGVtZW50LnZhbHVlICYmIChhLnRyaWdnZXIoZS5lbGVtZW50LCAiY2hhbmdlIiksIGEudHJpZ2dlcihlLmVsZW1lbnQsICJpbnB1dCIpKTsKICAgICAgfSwgZnVuY3Rpb24gKGEpIHsKICAgICAgICBjLmJvZHkuY2xhc3NMaXN0LnJlbW92ZShsKTsKICAgICAgfSk7CiAgICB9IGVsc2UgYWxlcnQoIm9ubHkgZm9yIDUrIik7CgogICAgZC5wcmV2ZW50RGVmYXVsdCgpOwogIH0sIGEuZm4uaW5wdXQgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBbXTsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgYiA9IG51bGwsCiAgICAgICAgICBkID0gW10sCiAgICAgICAgICBlID0gcih0aGlzLnBhcmVudE5vZGUpOwogICAgICBpZiAoInJhbmdlIiA9PT0gdGhpcy50eXBlICYmIGUuY2xhc3NMaXN0LmNvbnRhaW5zKCJtdWktaW5wdXQtcmFuZ2UiKSkgZC5wdXNoKCJzbGlkZXIiKTtlbHNlIHsKICAgICAgICB2YXIgZiA9IHRoaXMuY2xhc3NMaXN0OwogICAgICAgIGYuY29udGFpbnMoIm11aS1pbnB1dC1jbGVhciIpICYmIGQucHVzaCgiY2xlYXIiKSwgYS5vcy5hbmRyb2lkICYmIGEub3Muc3RyZWFtIHx8ICFmLmNvbnRhaW5zKCJtdWktaW5wdXQtc3BlZWNoIikgfHwgZC5wdXNoKCJzcGVlY2giKSwgZi5jb250YWlucygibXVpLWlucHV0LXBhc3N3b3JkIikgJiYgZC5wdXNoKCJwYXNzd29yZCIpLCAic2VhcmNoIiA9PT0gdGhpcy50eXBlICYmIGUuY2xhc3NMaXN0LmNvbnRhaW5zKCJtdWktc2VhcmNoIikgJiYgZC5wdXNoKCJzZWFyY2giKTsKICAgICAgfQogICAgICB2YXIgZyA9IHRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLWlucHV0LSIgKyBkWzBdKTsKICAgICAgaWYgKGcpIGIgPSBhLmRhdGFbZ107ZWxzZSB7CiAgICAgICAgZyA9ICsrYS51dWlkLCBiID0gYS5kYXRhW2ddID0gbmV3IHModGhpcywgewogICAgICAgICAgYWN0aW9uczogZC5qb2luKCIsIikKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaCA9IDAsIGkgPSBkLmxlbmd0aDsgaCA8IGk7IGgrKykgewogICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoImRhdGEtaW5wdXQtIiArIGRbaF0sIGcpOwogICAgICAgIH0KICAgICAgfQogICAgICBjLnB1c2goYik7CiAgICB9KSwgMSA9PT0gYy5sZW5ndGggPyBjWzBdIDogYzsKICB9LCBhLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgIGEoIi5tdWktaW5wdXQtcm93IGlucHV0IikuaW5wdXQoKTsKICB9KTsKfShtdWksIHdpbmRvdywgZG9jdW1lbnQpLCBmdW5jdGlvbiAoYSwgYikgewogIHZhciBjID0gIm11aS1hY3RpdmUiLAogICAgICBkID0gL15yZ2JhXCgoXGR7MSwzfSksXHMqKFxkezEsM30pLFxzKihcZHsxLDN9KSxccyooXGQqKD86XC5cZCspPylcKSQvLAogICAgICBlID0gZnVuY3Rpb24gZShhKSB7CiAgICB2YXIgYiA9IGEubWF0Y2goZCk7CiAgICByZXR1cm4gYiAmJiA1ID09PSBiLmxlbmd0aCA/IFtiWzFdLCBiWzJdLCBiWzNdLCBiWzRdXSA6IFtdOwogIH0sCiAgICAgIGYgPSBmdW5jdGlvbiBmKGMsIGQpIHsKICAgIGlmICh0aGlzLmVsZW1lbnQgPSBjLCB0aGlzLm9wdGlvbnMgPSBhLmV4dGVuZCh7CiAgICAgIHRvcDogMCwKICAgICAgb2Zmc2V0OiAxNTAsCiAgICAgIGR1cmF0aW9uOiAxNiwKICAgICAgc2Nyb2xsYnk6IGIKICAgIH0sIGQgfHwge30pLCB0aGlzLnNjcm9sbEJ5RWxlbSA9IHRoaXMub3B0aW9ucy5zY3JvbGxieSB8fCBiLCAhdGhpcy5zY3JvbGxCeUVsZW0pIHRocm93IG5ldyBFcnJvcigi55uR5ZCs5rua5Yqo55qE5YWD57Sg5LiN5a2Y5ZyoIik7CiAgICB0aGlzLmlzTmF0aXZlU2Nyb2xsID0gITEsIHRoaXMuc2Nyb2xsQnlFbGVtID09PSBiID8gdGhpcy5pc05hdGl2ZVNjcm9sbCA9ICEwIDogfnRoaXMuc2Nyb2xsQnlFbGVtLmNsYXNzTmFtZS5pbmRleE9mKCJtdWktc2Nyb2xsLXdyYXBwZXIiKSB8fCAodGhpcy5pc05hdGl2ZVNjcm9sbCA9ICEwKSwgdGhpcy5fc3R5bGUgPSB0aGlzLmVsZW1lbnQuc3R5bGUsIHRoaXMuX2JnQ29sb3IgPSB0aGlzLl9zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7CiAgICB2YXIgZiA9IGUobXVpLmdldFN0eWxlcyh0aGlzLmVsZW1lbnQsICJiYWNrZ3JvdW5kQ29sb3IiKSk7CiAgICBpZiAoIWYubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoIuWFg+e0oOiDjOaZr+minOiJsuW/hemhu+S4ulJHQkEiKTsKICAgIHRoaXMuX1IgPSBmWzBdLCB0aGlzLl9HID0gZlsxXSwgdGhpcy5fQiA9IGZbMl0sIHRoaXMuX0EgPSBwYXJzZUZsb2F0KGZbM10pLCB0aGlzLmxhc3RPcGFjaXR5ID0gdGhpcy5fQSwgdGhpcy5fYnVmZmVyRm4gPSBhLmJ1ZmZlcih0aGlzLmhhbmRsZVNjcm9sbCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uLCB0aGlzKSwgdGhpcy5pbml0RXZlbnQoKTsKICB9OwoKICBmLnByb3RvdHlwZS5pbml0RXZlbnQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNjcm9sbEJ5RWxlbS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLl9idWZmZXJGbiksIHRoaXMuaXNOYXRpdmVTY3JvbGwgJiYgdGhpcy5zY3JvbGxCeUVsZW0uYWRkRXZlbnRMaXN0ZW5lcihhLkVWRU5UX01PVkUsIHRoaXMuX2J1ZmZlckZuKTsKICB9LCBmLnByb3RvdHlwZS5oYW5kbGVTY3JvbGwgPSBmdW5jdGlvbiAoZCkgewogICAgdmFyIGUgPSBiLnNjcm9sbFk7CiAgICAhdGhpcy5pc05hdGl2ZVNjcm9sbCAmJiBkICYmIGQuZGV0YWlsICYmIChlID0gLWQuZGV0YWlsLnkpOwogICAgdmFyIGYgPSAoZSAtIHRoaXMub3B0aW9ucy50b3ApIC8gdGhpcy5vcHRpb25zLm9mZnNldCArIHRoaXMuX0E7CiAgICBmID0gTWF0aC5taW4oTWF0aC5tYXgodGhpcy5fQSwgZiksIDEpLCB0aGlzLl9zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAicmdiYSgiICsgdGhpcy5fUiArICIsIiArIHRoaXMuX0cgKyAiLCIgKyB0aGlzLl9CICsgIiwiICsgZiArICIpIiwgZiA+IHRoaXMuX0EgPyB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjKSA6IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGMpLCB0aGlzLmxhc3RPcGFjaXR5ICE9PSBmICYmIChhLnRyaWdnZXIodGhpcy5lbGVtZW50LCAiYWxwaGEiLCB7CiAgICAgIGFscGhhOiBmCiAgICB9KSwgdGhpcy5sYXN0T3BhY2l0eSA9IGYpOwogIH0sIGYucHJvdG90eXBlLmRlc3RvcnkgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNjcm9sbEJ5RWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLl9idWZmZXJGbiksIHRoaXMuc2Nyb2xsQnlFbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5FVkVOVF9NT1ZFLCB0aGlzLl9idWZmZXJGbiksIHRoaXMuZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLl9iZ0NvbG9yLCB0aGlzLmVsZW1lbnQubXVpX3BsdWdpbl90cmFuc3BhcmVudCA9IG51bGw7CiAgfSwgYS5mbi50cmFuc3BhcmVudCA9IGZ1bmN0aW9uIChhKSB7CiAgICBhID0gYSB8fCB7fTsKICAgIHZhciBjID0gW107CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGQgPSB0aGlzLm11aV9wbHVnaW5fdHJhbnNwYXJlbnQ7CgogICAgICBpZiAoIWQpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLXRvcCIpLAogICAgICAgICAgICBnID0gdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtb2Zmc2V0IiksCiAgICAgICAgICAgIGggPSB0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1kdXJhdGlvbiIpLAogICAgICAgICAgICBpID0gdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtc2Nyb2xsYnkiKTsKICAgICAgICBudWxsICE9PSBlICYmIHZvaWQgMCA9PT0gYS50b3AgJiYgKGEudG9wID0gZSksIG51bGwgIT09IGcgJiYgdm9pZCAwID09PSBhLm9mZnNldCAmJiAoYS5vZmZzZXQgPSBnKSwgbnVsbCAhPT0gaCAmJiB2b2lkIDAgPT09IGEuZHVyYXRpb24gJiYgKGEuZHVyYXRpb24gPSBoKSwgbnVsbCAhPT0gaSAmJiB2b2lkIDAgPT09IGEuc2Nyb2xsYnkgJiYgKGEuc2Nyb2xsYnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGkpIHx8IGIpLCBkID0gdGhpcy5tdWlfcGx1Z2luX3RyYW5zcGFyZW50ID0gbmV3IGYodGhpcywgYSk7CiAgICAgIH0KCiAgICAgIGMucHVzaChkKTsKICAgIH0pLCAxID09PSBjLmxlbmd0aCA/IGNbMF0gOiBjOwogIH0sIGEucmVhZHkoZnVuY3Rpb24gKCkgewogICAgYSgiLm11aS1iYXItdHJhbnNwYXJlbnQiKS50cmFuc3BhcmVudCgpOwogIH0pOwp9KG11aSwgd2luZG93KSwgZnVuY3Rpb24gKGEpIHsKICB2YXIgYiA9ICgib250b3VjaHN0YXJ0IiBpbiBkb2N1bWVudCksCiAgICAgIGMgPSBiID8gInRhcCIgOiAiY2xpY2siLAogICAgICBkID0gImNoYW5nZSIsCiAgICAgIGUgPSAiLm11aS1idG4tbnVtYm94LXBsdXMsLm11aS1udW1ib3gtYnRuLXBsdXMiLAogICAgICBmID0gIi5tdWktYnRuLW51bWJveC1taW51cywubXVpLW51bWJveC1idG4tbWludXMiLAogICAgICBnID0gIi5tdWktaW5wdXQtbnVtYm94LC5tdWktbnVtYm94LWlucHV0IiwKICAgICAgaCA9IGEuTnVtYm94ID0gYS5DbGFzcy5leHRlbmQoewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChiLCBjKSB7CiAgICAgIHZhciBkID0gdGhpczsKICAgICAgaWYgKCFiKSB0aHJvdyAi5p6E6YCgIG51bWJveCDml7bnvLrlsJHlrrnlmajlhYPntKAiOwogICAgICBkLmhvbGRlciA9IGIsIGMgPSBjIHx8IHt9LCBjLnN0ZXAgPSBwYXJzZUludChjLnN0ZXAgfHwgMSksIGQub3B0aW9ucyA9IGMsIGQuaW5wdXQgPSBhLnFzYShnLCBkLmhvbGRlcilbMF0sIGQucGx1cyA9IGEucXNhKGUsIGQuaG9sZGVyKVswXSwgZC5taW51cyA9IGEucXNhKGYsIGQuaG9sZGVyKVswXSwgZC5jaGVja1ZhbHVlKCksIGQuaW5pdEV2ZW50KCk7CiAgICB9LAogICAgaW5pdEV2ZW50OiBmdW5jdGlvbiBpbml0RXZlbnQoKSB7CiAgICAgIHZhciBiID0gdGhpczsKICAgICAgYi5wbHVzLmFkZEV2ZW50TGlzdGVuZXIoYywgZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgZSA9IHBhcnNlSW50KGIuaW5wdXQudmFsdWUpICsgYi5vcHRpb25zLnN0ZXA7CiAgICAgICAgYi5pbnB1dC52YWx1ZSA9IGUudG9TdHJpbmcoKSwgYS50cmlnZ2VyKGIuaW5wdXQsIGQsIG51bGwpOwogICAgICB9KSwgYi5taW51cy5hZGRFdmVudExpc3RlbmVyKGMsIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgdmFyIGUgPSBwYXJzZUludChiLmlucHV0LnZhbHVlKSAtIGIub3B0aW9ucy5zdGVwOwogICAgICAgIGIuaW5wdXQudmFsdWUgPSBlLnRvU3RyaW5nKCksIGEudHJpZ2dlcihiLmlucHV0LCBkLCBudWxsKTsKICAgICAgfSksIGIuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihkLCBmdW5jdGlvbiAoYykgewogICAgICAgIGIuY2hlY2tWYWx1ZSgpOwogICAgICAgIHZhciBlID0gcGFyc2VJbnQoYi5pbnB1dC52YWx1ZSk7CiAgICAgICAgYS50cmlnZ2VyKGIuaG9sZGVyLCBkLCB7CiAgICAgICAgICB2YWx1ZTogZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7CiAgICAgIHZhciBhID0gdGhpczsKICAgICAgcmV0dXJuIHBhcnNlSW50KGEuaW5wdXQudmFsdWUpOwogICAgfSwKICAgIGNoZWNrVmFsdWU6IGZ1bmN0aW9uIGNoZWNrVmFsdWUoKSB7CiAgICAgIHZhciBhID0gdGhpcywKICAgICAgICAgIGIgPSBhLmlucHV0LnZhbHVlOwogICAgICBpZiAobnVsbCA9PSBiIHx8ICIiID09IGIgfHwgaXNOYU4oYikpIGEuaW5wdXQudmFsdWUgPSBhLm9wdGlvbnMubWluIHx8IDAsIGEubWludXMuZGlzYWJsZWQgPSBudWxsICE9IGEub3B0aW9ucy5taW47ZWxzZSB7CiAgICAgICAgdmFyIGIgPSBwYXJzZUludChiKTsKICAgICAgICBudWxsICE9IGEub3B0aW9ucy5tYXggJiYgIWlzTmFOKGEub3B0aW9ucy5tYXgpICYmIGIgPj0gcGFyc2VJbnQoYS5vcHRpb25zLm1heCkgPyAoYiA9IGEub3B0aW9ucy5tYXgsIGEucGx1cy5kaXNhYmxlZCA9ICEwKSA6IGEucGx1cy5kaXNhYmxlZCA9ICExLCBudWxsICE9IGEub3B0aW9ucy5taW4gJiYgIWlzTmFOKGEub3B0aW9ucy5taW4pICYmIGIgPD0gcGFyc2VJbnQoYS5vcHRpb25zLm1pbikgPyAoYiA9IGEub3B0aW9ucy5taW4sIGEubWludXMuZGlzYWJsZWQgPSAhMCkgOiBhLm1pbnVzLmRpc2FibGVkID0gITEsIGEuaW5wdXQudmFsdWUgPSBiOwogICAgICB9CiAgICB9LAogICAgc2V0T3B0aW9uOiBmdW5jdGlvbiBzZXRPcHRpb24oYSwgYikgewogICAgICB0aGlzLm9wdGlvbnNbYV0gPSBiOwogICAgfSwKICAgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShhKSB7CiAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBhLCB0aGlzLmNoZWNrVmFsdWUoKTsKICAgIH0KICB9KTsKICBhLmZuLm51bWJveCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIGlmICghYi5udW1ib3gpIGlmIChkKSBiLm51bWJveCA9IG5ldyBoKGIsIGQpO2Vsc2UgewogICAgICAgIHZhciBjID0gYi5nZXRBdHRyaWJ1dGUoImRhdGEtbnVtYm94LW9wdGlvbnMiKSwKICAgICAgICAgICAgZCA9IGMgPyBKU09OLnBhcnNlKGMpIDoge307CiAgICAgICAgZC5zdGVwID0gYi5nZXRBdHRyaWJ1dGUoImRhdGEtbnVtYm94LXN0ZXAiKSB8fCBkLnN0ZXAsIGQubWluID0gYi5nZXRBdHRyaWJ1dGUoImRhdGEtbnVtYm94LW1pbiIpIHx8IGQubWluLCBkLm1heCA9IGIuZ2V0QXR0cmlidXRlKCJkYXRhLW51bWJveC1tYXgiKSB8fCBkLm1heCwgYi5udW1ib3ggPSBuZXcgaChiLCBkKTsKICAgICAgfQogICAgfSksIHRoaXNbMF0gPyB0aGlzWzBdLm51bWJveCA6IG51bGw7CiAgfSwgYS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICBhKCIubXVpLW51bWJveCIpLm51bWJveCgpOwogIH0pOwp9KG11aSksIGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgdmFyIGQgPSAibXVpLWRpc2FibGVkIiwKICAgICAgZSA9ICJyZXNldCIsCiAgICAgIGYgPSAibG9hZGluZyIsCiAgICAgIGcgPSB7CiAgICBsb2FkaW5nVGV4dDogIkxvYWRpbmcuLi4iLAogICAgbG9hZGluZ0ljb246ICJtdWktc3Bpbm5lciBtdWktc3Bpbm5lci13aGl0ZSIsCiAgICBsb2FkaW5nSWNvblBvc2l0aW9uOiAibGVmdCIKICB9LAogICAgICBoID0gZnVuY3Rpb24gaChiLCBjKSB7CiAgICB0aGlzLmVsZW1lbnQgPSBiLCB0aGlzLm9wdGlvbnMgPSBhLmV4dGVuZCh7fSwgZywgYyksIHRoaXMub3B0aW9ucy5sb2FkaW5nVGV4dCB8fCAodGhpcy5vcHRpb25zLmxvYWRpbmdUZXh0ID0gZy5sb2FkaW5nVGV4dCksIG51bGwgPT09IHRoaXMub3B0aW9ucy5sb2FkaW5nSWNvbiAmJiAodGhpcy5vcHRpb25zLmxvYWRpbmdJY29uID0gIm11aS1zcGlubmVyIiwgInJnYigyNTUsIDI1NSwgMjU1KSIgPT09IGEuZ2V0U3R5bGVzKHRoaXMuZWxlbWVudCwgImNvbG9yIikgJiYgKHRoaXMub3B0aW9ucy5sb2FkaW5nSWNvbiArPSAiIG11aS1zcGlubmVyLXdoaXRlIikpLCB0aGlzLmlzSW5wdXQgPSAiSU5QVVQiID09PSB0aGlzLmVsZW1lbnQudGFnTmFtZSwgdGhpcy5yZXNldEhUTUwgPSB0aGlzLmlzSW5wdXQgPyB0aGlzLmVsZW1lbnQudmFsdWUgOiB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MLCB0aGlzLnN0YXRlID0gIiI7CiAgfTsKCiAgaC5wcm90b3R5cGUubG9hZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2V0U3RhdGUoZik7CiAgfSwgaC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNldFN0YXRlKGUpOwogIH0sIGgucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmICh0aGlzLnN0YXRlID09PSBhKSByZXR1cm4gITE7CiAgICBpZiAodGhpcy5zdGF0ZSA9IGEsIGEgPT09IGUpIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9ICExLCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShkKSwgdGhpcy5zZXRIdG1sKHRoaXMucmVzZXRIVE1MKTtlbHNlIGlmIChhID09PSBmKSB7CiAgICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9ICEwLCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChkKTsKICAgICAgdmFyIGIgPSB0aGlzLmlzSW5wdXQgPyB0aGlzLm9wdGlvbnMubG9hZGluZ1RleHQgOiAiPHNwYW4+IiArIHRoaXMub3B0aW9ucy5sb2FkaW5nVGV4dCArICI8L3NwYW4+IjsKICAgICAgdGhpcy5vcHRpb25zLmxvYWRpbmdJY29uICYmICF0aGlzLmlzSW5wdXQgJiYgKCJyaWdodCIgPT09IHRoaXMub3B0aW9ucy5sb2FkaW5nSWNvblBvc2l0aW9uID8gYiArPSAnJm5ic3A7PHNwYW4gY2xhc3M9IicgKyB0aGlzLm9wdGlvbnMubG9hZGluZ0ljb24gKyAnIj48L3NwYW4+JyA6IGIgPSAnPHNwYW4gY2xhc3M9IicgKyB0aGlzLm9wdGlvbnMubG9hZGluZ0ljb24gKyAnIj48L3NwYW4+Jm5ic3A7JyArIGIpLCB0aGlzLnNldEh0bWwoYik7CiAgICB9CiAgfSwgaC5wcm90b3R5cGUuc2V0SHRtbCA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLmlzSW5wdXQgPyB0aGlzLmVsZW1lbnQudmFsdWUgPSBhIDogdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IGE7CiAgfSwgYS5mbi5idXR0b24gPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBbXTsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgYyA9IHRoaXMubXVpX3BsdWdpbl9idXR0b247CgogICAgICBpZiAoIWMpIHsKICAgICAgICB2YXIgZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLWxvYWRpbmctdGV4dCIpLAogICAgICAgICAgICBnID0gdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtbG9hZGluZy1pY29uIiksCiAgICAgICAgICAgIGkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1sb2FkaW5nLWljb24tcG9zaXRpb24iKTsKICAgICAgICB0aGlzLm11aV9wbHVnaW5fYnV0dG9uID0gYyA9IG5ldyBoKHRoaXMsIHsKICAgICAgICAgIGxvYWRpbmdUZXh0OiBkLAogICAgICAgICAgbG9hZGluZ0ljb246IGcsCiAgICAgICAgICBsb2FkaW5nSWNvblBvc2l0aW9uOiBpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGEgIT09IGYgJiYgYSAhPT0gZSB8fCBjLnNldFN0YXRlKGEpLCBiLnB1c2goYyk7CiAgICB9KSwgMSA9PT0gYi5sZW5ndGggPyBiWzBdIDogYjsKICB9Owp9KG11aSwgd2luZG93LCBkb2N1bWVudCk7"},{"version":3,"sources":["F:/vscode/gocode/cloudMusic/src/assets/mui/js/mui.min.js"],"names":["mui","a","b","c","d","e","f","g","h","i","j","isArrayLike","slice","call","ready","trim","test","getElementById","RegExp","$1","qsa","Object","setPrototypeOf","fn","selector","uuid","data","extend","arguments","k","length","l","isFunction","isPlainObject","isArray","noop","filter","type","String","toString","Array","isWindow","window","isObject","getPrototypeOf","prototype","isEmptyObject","getElementsByClassName","getElementsByTagName","querySelectorAll","readyState","addEventListener","buffer","cancel","now","apply","later","stop","each","every","hasOwnProperty","focus","os","ios","setTimeout","trigger","dispatchEvent","CustomEvent","detail","bubbles","cancelable","getStyles","ownerDocument","defaultView","getComputedStyle","getPropertyValue","parseTranslate","match","split","x","parseFloat","y","z","parseTranslateMatrix","push","hooks","addAction","index","sort","doAction","handle","id","clearTimeout","Date","toLowerCase","JSON","parseJSON","parse","define","amd","document","wechat","version","replace","android","isBadAndroid","navigator","appVersion","iphone","ipad","userAgent","plus","body","classList","add","stream","isTouchable","EVENT_START","EVENT_MOVE","EVENT_END","EVENT_CANCEL","EVENT_CLICK","preventDefault","stopImmediatePropagation","stopPropagation","currentTarget","_mid","target","indexOf","disabled","contains","parentNode","element","handlers","tagName","gesture","isPropagationStopped","on","m","n","o","href","off","splice","forEach","removeEventListener","bind","targets","targetHandles","registerTarget","name","isReset","isContinue","__proto__","createEvent","initEvent","Event","Function","concat","documentElement","defineProperty","HTMLElement","get","className","join","remove","toggle","item","requestAnimationFrame","webkitRequestAnimationFrame","getTime","Math","max","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","FastClick","querySelector","click","activeElement","blur","changedTouches","initMouseEvent","screenX","screenY","clientX","clientY","forwardedTouchEvent","propagationStopped","webview","currentWebview","children","readOnly","scrollHeight","scrollLeft","scrollTo","scrollTop","namespace","classNamePrefix","classSelectorPrefix","classSelector","eventName","gestures","session","addGesture","round","abs","sqrt","atan","atan2","PI","stoped","options","gestureConfig","p","pageX","pageY","q","pinch","r","touches","timestamp","center","deltaX","deltaY","s","offsetDelta","prevDelta","prevTouch","t","firstTouch","firstMultiTouch","deltaTime","angle","distance","offsetDirection","scale","rotation","v","u","lastInterval","velocity","direction","velocityX","velocityY","w","identifier","isFirst","touch","isFinal","A","passive","capture","popover","tab","offcanvas","modal","isScrolling","B","flickStart","flick","flickMaxTime","flickMinDistince","flickTime","flickDistanceX","flickDistanceY","swipe","swipeMaxTime","swipeMinDistince","lockDirection","startDirection","drag","fingers","tapMaxDistance","tapMaxTime","doubletap","tapMaxInterval","holdTimeout","holdThreshold","hold","lastScale","minRotationAngle","location","src","localStorage","getItem","onload","setInterval","scrollY","setItem","global","tap","longtap","initGlobal","init","repeat","addInit","subpages","createElement","styles","top","bottom","style","url","appendChild","swipeBack","preloadPages","preloadLimit","keyEventBind","backbutton","menubutton","titleConfig","height","backgroundColor","bottomBorderColor","title","text","position","left","width","color","align","family","size","weight","fontSrc","back","image","base64Data","imgSrc","sprite","event","autoShow","duration","aniShow","extras","show","waitingOptions","showOptions","windowOptions","scalable","bounce","plusReady","fire","evalJS","stringify","receive","preloaded","openWindow","parent","params","webviews","getWebviewById","createNew","afterShowMethodName","Error","waiting","nativeUI","showWaiting","createWindow","close","openWindowWithTitle","nativeObj","View","dock","drawRect","parseInt","drawText","right","Bitmap","loadBase64Data","load","drawBitmap","setTouchEventRect","interceptTouchEvent","append","preload","getURL","create","preloads","shift","closeAll","closeOpened","opened","createWindows","appendWebview","runtime","appid","statusBarBackground","setStatusBarBackground","display","supportStatusbarOffset","addBack","history","beforeback","action","_popover","offCanvas","getPreviewImage","isShown","closePopup","__back__first","canBack","quit","toast","hide","menu","key","pullRefresh","down","up","container","pullRefresh_native","__NWin_Enable__","webviewId","callback","ajaxSettings","beforeSend","success","error","complete","context","xhr","XMLHttpRequest","accepts","script","json","xml","html","timeout","processData","cache","value","contentType","headers","param","traditional","toUpperCase","dataType","ajax","protocol","webkit","messageHandlers","net","console","setRequestHeader","mimeType","overrideMimeType","onreadystatechange","status","responseText","getResponseHeader","eval","responseXML","statusText","abort","xhrFields","async","open","username","password","send","encodeURIComponent","post","getJSON","innerHTML","crossDomain","host","offset","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","animationFrame","xyz","_super","constructor","callee","Class","scrollX","indicators","deceleration","contentinit","contentdown","contentover","contentrefresh","auto","contentnomore","_init","_initPocket","_initPulldownRefresh","pulldown","topPocket","pullPocket","pullCaption","topCaption","pullLoading","topLoading","_initPullupRefresh","bottomPocket","bottomCaption","bottomLoading","scroller","_createPocket","wrapper","insertBefore","firstChild","_resetPullDownLoading","webkitTransition","webkitTransform","webkitAnimation","_setCaptionClass","_setCaption","loading","lastTitle","PullRefresh","quadratic","circular","outCirc","outCubic","scrollerStyle","stopped","startX","startY","hardwareAccelerated","fixedBadAndorid","preventDefaultException","momentum","snapX","snap","bounceTime","bounceEasing","scrollTime","scrollEasing","directionLockThreshold","parallaxElement","parallaxRatio","translateZ","refresh","_initParallax","_initIndicators","_initEvent","parallaxStyle","parallaxHeight","offsetHeight","parallaxImgStyle","el","_createScrollBar","listenX","listenY","_initSnap","currentPage","pages","snaps","offsetLeft","offsetWidth","_getSnapX","leftX","rightX","maxScrollX","min","wrapperWidth","_gotoPage","_nearestSnap","_handleIndicatorScrollend","map","fade","_handleIndicatorScrollstart","_handleIndicatorRefresh","handleEvent","resetPosition","_start","_drag","_flick","_end","transitionTimer","_transitionEnd","_scrollend","_resize","moved","needReset","_transitionTime","isInTransition","setTranslate","reLayout","_getDirectionByAngle","innerHeight","isReturn","hasHorizontalScroll","hasVerticalScroll","maxScrollY","_updateTranslate","_clearRequestAnimationFrame","momentumX","_momentum","destination","momentumY","wrapperHeight","resizeTimeout","resizePolling","webkitTransitionDuration","transitionTime","_transitionTimingFunction","webkitTransitionTimingFunction","transitionTimingFunction","_translate","lastX","lastY","scrollbarY","scrollbarIndicatorY","scrollbarX","scrollbarIndicatorX","_preventDefaultException","_reLayout","scrollerWidth","scrollerHeight","itemLength","_getTranslateStr","setStopped","disablePullupToRefresh","disablePulldownToRefresh","enablePullupToRefresh","enablePulldownToRefresh","opacity","updatePosition","clientWidth","clientHeight","_reInit","scrollToBottom","gotoPage","destroy","getAttribute","setAttribute","wrapperStyle","indicator","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","visible","fadeTimeout","Scroll","scroll","_scrollbottom","pullupLoading","disablePulldown","pulldownLoading","endPulldownToRefresh","endPullupToRefresh","finished","autoY","Slider","interval","slideTime","progressBar","progressBarWidth","progressBarStyle","_initTimer","_triggerSlide","slideNumber","_fixedSlideNumber","loop","lastSlideNumber","lastPage","_handleSlide","innerText","_handleTabShow","gotoItem","tabNumber","_handleIndicatorTap","nextItem","_getScroll","_getPage","time","_gotoItem","prevItem","getSlideNumber","slider","_initPulldownRefreshEvent","scrollInterval","isScroll","setPullToRefresh","support","range","removeAttribute","setBounce","changeoffset","beginPulldown","beginPullToRefresh","_pulldownLoading","endPulldown","endPullToRefresh","_endPulldownToRefresh","beginPullup","isLoading","endPullup","setStyle","dragThresholdX","slideIn","offCanvasLefts","offCanvasRights","offCanvasLeft","offCanvasRight","offCanvasRightWidth","offCanvasLeftWidth","offCanvasLeftSlideIn","offCanvasRightSlideIn","backdrop","offsetX","lastTranslateX","_dispatchEvent","isDragging","offCanvasWidth","getTranslateX","_initOffCanvasVisible","updateTranslate","openPercentage","visibility","setTranslateX","leftShowing","rightShowing","zIndex","webkitTransformOrigin","hash","_container","removeChild","innerWidth","createMask","_show","_remove","toggleWidth","handleWidth","handleX","start","swiperight","end","lastChanged","initialState","isActive","switch","F","isOpened","openedActions","progress","sliderActionLeft","sliderActionRight","buttonsLeft","buttonsRight","sliderDirection","sliderRequestAnimationFrame","translateX","sliderActionLeftWidth","sliderActionRightWidth","C","D","pow","_buttonOffset","buttonOffset","E","swipeoutClose","dragend","swipeleft","swipeoutOpen","G","checked","H","alert","confirm","prompt","message","long","short","isVisible","verticalAlign","pop","closePopups","progressbar","mui_plugin_progressbar","setOptions","setProgress","actions","sliderActionClass","sliderActionSelector","clearActionClass","clearActionSelector","speechActionClass","speechActionSelector","searchActionClass","searchActionSelector","passwordActionClass","passwordActionSelector","initAction","initElementEvent","sliderAction","createAction","searchAction","speechAction","speechActionClick","clearAction","clearActionClick","passwordAction","passwordActionClick","nextSibling","setPlaceholder","speech","startRecognize","engine","stopRecognize","input","scrollby","scrollByElem","isNativeScroll","_style","_bgColor","_R","_G","_B","_A","lastOpacity","_bufferFn","handleScroll","alpha","destory","mui_plugin_transparent","transparent","Numbox","holder","step","minus","checkValue","getValue","isNaN","setOption","setValue","numbox","loadingText","loadingIcon","loadingIconPosition","isInput","resetHTML","state","setState","reset","setHtml","button","mui_plugin_button"],"mappings":"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","sourcesContent":["/*!\n * =====================================================\n * Mui v3.7.3 (http://dev.dcloud.net.cn/mui)\n * =====================================================\n */\nvar mui=function(a,b){var c=/complete|loaded|interactive/,d=/^#([\\w-]+)$/,e=/^\\.([\\w-]+)$/,f=/^[\\w-]+$/,g=/translate(?:3d)?\\((.+?)\\)/,h=/matrix(3d)?\\((.+?)\\)/,i=function(b,c){if(c=c||a,!b)return j();if(\"object\"==typeof b)return i.isArrayLike(b)?j(i.slice.call(b),null):j([b],null);if(\"function\"==typeof b)return i.ready(b);if(\"string\"==typeof b)try{if(b=b.trim(),d.test(b)){var e=a.getElementById(RegExp.$1);return j(e?[e]:[])}return j(i.qsa(b,c),b)}catch(a){}return j()},j=function(a,b){return a=a||[],Object.setPrototypeOf(a,i.fn),a.selector=b||\"\",a};i.uuid=0,i.data={},i.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},j=1,k=arguments.length,l=!1;for(\"boolean\"==typeof h&&(l=h,h=arguments[j]||{},j++),\"object\"==typeof h||i.isFunction(h)||(h={}),j===k&&(h=this,j--);j<k;j++)if(null!=(a=arguments[j]))for(c in a)d=h[c],e=a[c],h!==e&&(l&&e&&(i.isPlainObject(e)||(f=i.isArray(e)))?(f?(f=!1,g=d&&i.isArray(d)?d:[]):g=d&&i.isPlainObject(d)?d:{},h[c]=i.extend(l,g,e)):e!==b&&(h[c]=e));return h},i.noop=function(){},i.slice=[].slice,i.filter=[].filter,i.type=function(a){return null==a?String(a):k[{}.toString.call(a)]||\"object\"},i.isArray=Array.isArray||function(a){return a instanceof Array},i.isArrayLike=function(a){var b=!!a&&\"length\"in a&&a.length,c=i.type(a);return\"function\"!==c&&!i.isWindow(a)&&(\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a)},i.isWindow=function(a){return null!=a&&a===a.window},i.isObject=function(a){return\"object\"===i.type(a)},i.isPlainObject=function(a){return i.isObject(a)&&!i.isWindow(a)&&Object.getPrototypeOf(a)===Object.prototype},i.isEmptyObject=function(a){for(var c in a)if(c!==b)return!1;return!0},i.isFunction=function(a){return\"function\"===i.type(a)},i.qsa=function(b,c){return c=c||a,i.slice.call(e.test(b)?c.getElementsByClassName(RegExp.$1):f.test(b)?c.getElementsByTagName(b):c.querySelectorAll(b))},i.ready=function(b){return c.test(a.readyState)?b(i):a.addEventListener(\"DOMContentLoaded\",function(){b(i)},!1),this},i.buffer=function(a,b,c){function d(){e&&(e.cancel(),e=0),f=i.now(),a.apply(c||this,arguments),g=i.now()}var e,f=0,g=0,b=b||150;return i.extend(function(){!f||g>=f&&i.now()-g>b||g<f&&i.now()-f>8*b?d.apply(this,arguments):(e&&e.cancel(),e=i.later(d,b,null,i.slice.call(arguments)))},{stop:function(){e&&(e.cancel(),e=0)}})},i.each=function(a,b,c){if(!a)return this;if(\"number\"==typeof a.length)[].every.call(a,function(a,c){return!1!==b.call(a,c,a)});else for(var d in a)if(c){if(a.hasOwnProperty(d)&&!1===b.call(a[d],d,a[d]))return a}else if(!1===b.call(a[d],d,a[d]))return a;return this},i.focus=function(a){i.os.ios?setTimeout(function(){a.focus()},10):a.focus()},i.trigger=function(a,b,c){return a.dispatchEvent(new CustomEvent(b,{detail:c,bubbles:!0,cancelable:!0})),this},i.getStyles=function(a,b){var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?c.getPropertyValue(b)||c[b]:c},i.parseTranslate=function(a,b){var c=a.match(g||\"\");return c&&c[1]||(c=[\"\",\"0,0,0\"]),c=c[1].split(\",\"),c={x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])},b&&c.hasOwnProperty(b)?c[b]:c},i.parseTranslateMatrix=function(a,b){var c=a.match(h),d=c&&c[1];c?(c=c[2].split(\",\"),\"3d\"===d?c=c.slice(12,15):(c.push(0),c=c.slice(4,7))):c=[0,0,0];var e={x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])};return b&&e.hasOwnProperty(b)?e[b]:e},i.hooks={},i.addAction=function(a,b){var c=i.hooks[a];return c||(c=[]),b.index=b.index||1e3,c.push(b),c.sort(function(a,b){return a.index-b.index}),i.hooks[a]=c,i.hooks[a]},i.doAction=function(a,b){i.isFunction(b)?i.each(i.hooks[a],b):i.each(i.hooks[a],function(a,b){return!b.handle()})},i.later=function(a,b,c,d){b=b||0;var e,f,g=a,h=d;return\"string\"==typeof a&&(g=c[a]),e=function(){g.apply(c,i.isArray(h)?h:[h])},f=setTimeout(e,b),{id:f,cancel:function(){clearTimeout(f)}}},i.now=Date.now||function(){return+new Date};var k={};return i.each([\"Boolean\",\"Number\",\"String\",\"Function\",\"Array\",\"Date\",\"RegExp\",\"Object\",\"Error\"],function(a,b){k[\"[object \"+b+\"]\"]=b.toLowerCase()}),window.JSON&&(i.parseJSON=JSON.parse),i.fn={each:function(a){return[].every.call(this,function(b,c){return!1!==a.call(b,c,b)}),this}},\"function\"==typeof define&&define.amd&&define(\"mui\",[],function(){return i}),i}(document);!function(a,b){function c(c){this.os={};var d=[function(){var a=c.match(/(MicroMessenger)\\/([\\d\\.]+)/i);return a&&(this.os.wechat={version:a[2].replace(/_/g,\".\")}),!1},function(){var a=c.match(/(Android);?[\\s\\/]+([\\d.]+)?/);return a&&(this.os.android=!0,this.os.version=a[2],this.os.isBadAndroid=!/Chrome\\/\\d/.test(b.navigator.appVersion)),!0===this.os.android},function(){var a=c.match(/(iPhone\\sOS)\\s([\\d_]+)/);if(a)this.os.ios=this.os.iphone=!0,this.os.version=a[2].replace(/_/g,\".\");else{var b=c.match(/(iPad).*OS\\s([\\d_]+)/);b&&(this.os.ios=this.os.ipad=!0,this.os.version=b[2].replace(/_/g,\".\"))}return!0===this.os.ios}];[].every.call(d,function(b){return!b.call(a)})}c.call(a,navigator.userAgent)}(mui,window),function(a,b){function c(c){this.os=this.os||{},c.match(/Html5Plus/i)&&(this.os.plus=!0,a(function(){b.body.classList.add(\"mui-plus\")}),c.match(/StreamApp/i)&&(this.os.stream=!0,a(function(){b.body.classList.add(\"mui-plus-stream\")})))}c.call(a,navigator.userAgent)}(mui,document),function(a){\"ontouchstart\"in window?(a.isTouchable=!0,a.EVENT_START=\"touchstart\",a.EVENT_MOVE=\"touchmove\",a.EVENT_END=\"touchend\"):(a.isTouchable=!1,a.EVENT_START=\"mousedown\",a.EVENT_MOVE=\"mousemove\",a.EVENT_END=\"mouseup\"),a.EVENT_CANCEL=\"touchcancel\",a.EVENT_CLICK=\"click\";var b=1,c={},d={preventDefault:\"isDefaultPrevented\",stopImmediatePropagation:\"isImmediatePropagationStopped\",stopPropagation:\"isPropagationStopped\"},e=function(){return!0},f=function(){return!1},g=function(b,c){return b.detail?b.detail.currentTarget=c:b.detail={currentTarget:c},a.each(d,function(a,c){var d=b[a];b[a]=function(){return this[c]=e,d&&d.apply(b,arguments)},b[c]=f},!0),b},h=function(a){return a&&(a._mid||(a._mid=b++))},i={},j=function(b,d,e,f){return function(e){for(var f=c[b._mid][d],h=[],i=e.target,j={};i&&i!==document&&i!==b&&(!~[\"click\",\"tap\",\"doubletap\",\"longtap\",\"hold\"].indexOf(d)||!i.disabled&&!i.classList.contains(\"mui-disabled\"));i=i.parentNode){var k={};a.each(f,function(c,d){j[c]||(j[c]=a.qsa(c,b)),j[c]&&~j[c].indexOf(i)&&(k[c]||(k[c]=d))},!0),a.isEmptyObject(k)||h.push({element:i,handlers:k})}j=null,e=g(e),a.each(h,function(b,c){i=c.element;var f=i.tagName;if(\"tap\"===d&&\"INPUT\"!==f&&\"TEXTAREA\"!==f&&\"SELECT\"!==f&&(e.preventDefault(),e.detail&&e.detail.gesture&&e.detail.gesture.preventDefault()),a.each(c.handlers,function(b,c){a.each(c,function(a,b){!1===b.call(i,e)&&(e.preventDefault(),e.stopPropagation())},!0)},!0),e.isPropagationStopped())return!1},!0)}},k=function(a,b){var c=i[h(a)],d=[];if(c){if(d=[],b){var e=function(a){return a.type===b};return c.filter(e)}d=c}return d},l=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;a.fn.on=function(b,d,e){return this.each(function(){var f=this;h(f),h(e);var g=!1,k=c[f._mid]||(c[f._mid]={}),m=k[b]||(k[b]={});if(a.isEmptyObject(m)&&(g=!0),(m[d]||(m[d]=[])).push(e),g){var n=i[h(f)];n||(n=[]);var o=j(f,b,d,e);n.push(o),o.i=n.length-1,o.type=b,i[h(f)]=n,f.addEventListener(b,o),\"tap\"===b&&f.addEventListener(\"click\",function(a){if(a.target){var b=a.target.tagName;if(!l.test(b))if(\"A\"===b){var c=a.target.href;c&&~c.indexOf(\"tel:\")||a.preventDefault()}else a.preventDefault()}})}})},a.fn.off=function(b,d,e){return this.each(function(){var f=h(this);if(b)if(d)if(e){var g=c[f]&&c[f][b]&&c[f][b][d];a.each(g,function(a,b){if(h(b)===h(e))return g.splice(a,1),!1},!0)}else c[f]&&c[f][b]&&delete c[f][b][d];else c[f]&&delete c[f][b];else c[f]&&delete c[f];c[f]?c[f][b]&&!a.isEmptyObject(c[f][b])||k(this,b).forEach(function(a){this.removeEventListener(a.type,a),delete i[f][a.i]}.bind(this)):k(this).forEach(function(a){this.removeEventListener(a.type,a),delete i[f][a.i]}.bind(this))})}}(mui),function(a,b,c){a.targets={},a.targetHandles=[],a.registerTarget=function(b){return b.index=b.index||1e3,a.targetHandles.push(b),a.targetHandles.sort(function(a,b){return a.index-b.index}),a.targetHandles},b.addEventListener(a.EVENT_START,function(b){for(var d=b.target,e={};d&&d!==c;d=d.parentNode){var f=!1;if(a.each(a.targetHandles,function(c,g){var h=g.name;f||e[h]||!g.hasOwnProperty(\"handle\")?e[h]||!1!==g.isReset&&(a.targets[h]=!1):(a.targets[h]=g.handle(b,d),a.targets[h]&&(e[h]=!0,!0!==g.isContinue&&(f=!0)))}),f)break}}),b.addEventListener(\"click\",function(b){for(var d=b.target,e=!1;d&&d!==c&&(\"A\"!==d.tagName||(a.each(a.targetHandles,function(a,c){c.name;if(c.hasOwnProperty(\"handle\")&&c.handle(b,d))return e=!0,b.preventDefault(),!1}),!e));d=d.parentNode);})}(mui,window,document),function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")}),Object.setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a}}(),function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent(\"Events\"),d=!0;for(var e in b)\"bubbles\"===e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),c}void 0===window.CustomEvent&&(a.prototype=window.Event.prototype,window.CustomEvent=a)}(),Function.prototype.bind=Function.prototype.bind||function(a){var b=Array.prototype.splice.call(arguments,1),c=this,d=function(){var e=b.concat(Array.prototype.splice.call(arguments,0));if(!(this instanceof d))return c.apply(a,e);c.apply(this,e)};return d.prototype=c.prototype,d},function(a){\"classList\"in a.documentElement||!Object.defineProperty||\"undefined\"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,\"classList\",{get:function(){function a(a){return function(c){var d=b.className.split(/\\s+/),e=d.indexOf(c);a(d,e,c),b.className=d.join(\" \")}}var b=this,c={add:a(function(a,b,c){~b||a.push(c)}),remove:a(function(a,b){~b&&a.splice(b,1)}),toggle:a(function(a,b,c){~b?a.splice(b,1):a.push(c)}),contains:function(a){return!!~b.className.split(/\\s+/).indexOf(a)},item:function(a){return b.className.split(/\\s+/)[a]||null}};return Object.defineProperty(c,\"length\",{get:function(){return b.className.split(/\\s+/).length}}),c}})}(document),function(a){if(!a.requestAnimationFrame){var b=0;a.requestAnimationFrame=a.webkitRequestAnimationFrame||function(c,d){var e=(new Date).getTime(),f=Math.max(0,16.7-(e-b)),g=a.setTimeout(function(){c(e+f)},f);return b=e+f,g},a.cancelAnimationFrame=a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||function(a){clearTimeout(a)}}}(window),function(a,b,c){if((a.os.android||a.os.ios)&&!b.FastClick){var d=function(a,b){return\"LABEL\"===b.tagName&&b.parentNode&&(b=b.parentNode.querySelector(\"input\")),!(!b||\"radio\"!==b.type&&\"checkbox\"!==b.type||b.disabled)&&b};a.registerTarget({name:c,index:40,handle:d,target:!1});var e=function(c){var d=a.targets.click;if(d){var e,f;document.activeElement&&document.activeElement!==d&&document.activeElement.blur(),f=c.detail.gesture.changedTouches[0],e=document.createEvent(\"MouseEvents\"),e.initMouseEvent(\"click\",!0,!0,b,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null),e.forwardedTouchEvent=!0,d.dispatchEvent(e),c.detail&&c.detail.gesture.preventDefault()}};b.addEventListener(\"tap\",e),b.addEventListener(\"doubletap\",e),b.addEventListener(\"click\",function(b){if(a.targets.click&&!b.forwardedTouchEvent)return b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1},!0)}}(mui,window,\"click\"),function(a,b){a(function(){if(a.os.ios){var c=\"mui-focusin\";b.addEventListener(\"focusin\",function(d){if(!(a.os.plus&&window.plus&&plus.webview.currentWebview().children().length>0)){var e=d.target;if(e.tagName&&(\"TEXTAREA\"===e.tagName||\"INPUT\"===e.tagName&&(\"text\"===e.type||\"search\"===e.type||\"number\"===e.type))){if(e.disabled||e.readOnly)return;b.body.classList.add(c);for(var f=!1;e&&e!==b;e=e.parentNode){var g=e.classList;if(g&&g.contains(\"mui-bar-tab\")||g.contains(\"mui-bar-footer\")||g.contains(\"mui-bar-footer-secondary\")||g.contains(\"mui-bar-footer-secondary-tab\")){f=!0;break}}if(f){var h=b.body.scrollHeight,i=b.body.scrollLeft;setTimeout(function(){window.scrollTo(i,h)},20)}}}}),b.addEventListener(\"focusout\",function(a){var d=b.body.classList;d.contains(c)&&(d.remove(c),setTimeout(function(){window.scrollTo(b.body.scrollLeft,b.body.scrollTop)},20))})}})}(mui,document),function(a){a.namespace=\"mui\",a.classNamePrefix=a.namespace+\"-\",a.classSelectorPrefix=\".\"+a.classNamePrefix,a.className=function(b){return a.classNamePrefix+b},a.classSelector=function(b){return b.replace(/\\./g,a.classSelectorPrefix)},a.eventName=function(b,c){return b+(a.namespace?\".\"+a.namespace:\"\")+(c?\".\"+c:\"\")}}(mui),function(a,b){a.gestures={session:{}},a.preventDefault=function(a){a.preventDefault()},a.stopPropagation=function(a){a.stopPropagation()},a.addGesture=function(b){return a.addAction(\"gestures\",b)};var c=Math.round,d=Math.abs,e=Math.sqrt,f=(Math.atan,Math.atan2),g=function(a,b,c){c||(c=[\"x\",\"y\"]);var d=b[c[0]]-a[c[0]],f=b[c[1]]-a[c[1]];return e(d*d+f*f)},h=function(a,b){if(a.length>=2&&b.length>=2){var c=[\"pageX\",\"pageY\"];return g(b[1],b[0],c)/g(a[1],a[0],c)}return 1},i=function(a,b,c){c||(c=[\"x\",\"y\"]);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*f(e,d)/Math.PI},j=function(a,b){return a===b?\"\":d(a)>=d(b)?a>0?\"left\":\"right\":b>0?\"up\":\"down\"},k=function(a,b){var c=[\"pageX\",\"pageY\"];return i(b[1],b[0],c)-i(a[1],a[0],c)},l=function(a,b,c){return{x:b/a||0,y:c/a||0}},m=function(b,c){a.gestures.stoped||a.doAction(\"gestures\",function(d,e){a.gestures.stoped||!1!==a.options.gestureConfig[e.name]&&e.handle(b,c)})},n=function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},o=function(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];e.indexOf(g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d},p=function(a){var b=a.length;if(1===b)return{x:c(a[0].pageX),y:c(a[0].pageY)};for(var d=0,e=0,f=0;f<b;)d+=a[f].pageX,e+=a[f].pageY,f++;return{x:c(d/b),y:c(e/b)}},q=function(){return a.options.gestureConfig.pinch},r=function(b){for(var d=[],e=0;e<b.touches.length;)d[e]={pageX:c(b.touches[e].pageX),pageY:c(b.touches[e].pageY)},e++;return{timestamp:a.now(),gesture:b.gesture,touches:d,center:p(b.touches),deltaX:b.deltaX,deltaY:b.deltaY}},s=function(b){var c=a.gestures.session,d=b.center,e=c.offsetDelta||{},f=c.prevDelta||{},g=c.prevTouch||{};b.gesture.type!==a.EVENT_START&&b.gesture.type!==a.EVENT_END||(f=c.prevDelta={x:g.deltaX||0,y:g.deltaY||0},e=c.offsetDelta={x:d.x,y:d.y}),b.deltaX=f.x+(d.x-e.x),b.deltaY=f.y+(d.y-e.y)},t=function(b){var c=a.gestures.session,d=b.touches,e=d.length;c.firstTouch||(c.firstTouch=r(b)),q()&&e>1&&!c.firstMultiTouch?c.firstMultiTouch=r(b):1===e&&(c.firstMultiTouch=!1);var f=c.firstTouch,l=c.firstMultiTouch,m=l?l.center:f.center,n=b.center=p(d);b.timestamp=a.now(),b.deltaTime=b.timestamp-f.timestamp,b.angle=i(m,n),b.distance=g(m,n),s(b),b.offsetDirection=j(b.deltaX,b.deltaY),b.scale=l?h(l.touches,d):1,b.rotation=l?k(l.touches,d):0,v(b)},u=25,v=function(b){var c,e,f,g,h=a.gestures.session,i=h.lastInterval||b,k=b.timestamp-i.timestamp;if(b.gesture.type!=a.EVENT_CANCEL&&(k>u||void 0===i.velocity)){var m=i.deltaX-b.deltaX,n=i.deltaY-b.deltaY,o=l(k,m,n);e=o.x,f=o.y,c=d(o.x)>d(o.y)?o.x:o.y,g=j(m,n)||i.direction,h.lastInterval=b}else c=i.velocity,e=i.velocityX,f=i.velocityY,g=i.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g},w={},x=function(a){for(var b=0;b<a.length;b++)!a.identifier&&(a.identifier=0);return a},y=function(b,c){var d=x(a.slice.call(b.touches||[b])),e=b.type,f=[],g=[];if(e!==a.EVENT_START&&e!==a.EVENT_MOVE||1!==d.length){var h=0,f=[],g=[],i=x(a.slice.call(b.changedTouches||[b]));c.target=b.target;var j=a.gestures.session.target||b.target;if(f=d.filter(function(a){return n(a.target,j)}),e===a.EVENT_START)for(h=0;h<f.length;)w[f[h].identifier]=!0,h++;for(h=0;h<i.length;)w[i[h].identifier]&&g.push(i[h]),e!==a.EVENT_END&&e!==a.EVENT_CANCEL||delete w[i[h].identifier],h++;if(!g.length)return!1}else w[d[0].identifier]=!0,f=d,g=d,c.target=b.target;f=o(f.concat(g),\"identifier\",!0);var k=f.length,l=g.length;return e===a.EVENT_START&&k-l==0&&(c.isFirst=!0,a.gestures.touch=a.gestures.session={target:b.target}),c.isFinal=(e===a.EVENT_END||e===a.EVENT_CANCEL)&&k-l==0,c.touches=f,c.changedTouches=g,!0},z=function(b){var c={gesture:b};y(b,c)&&(t(c),m(b,c),a.gestures.session.prevTouch=c,b.type!==a.EVENT_END||a.isTouchable||(a.gestures.touch=a.gestures.session={}))},A=function(){var a=!1;try{var c=Object.defineProperty({},\"passive\",{get:function(){a=!0}});b.addEventListener(\"testPassiveListener\",null,c)}catch(a){}return a}();b.addEventListener(a.EVENT_START,z),b.addEventListener(a.EVENT_MOVE,z,!!A&&{passive:!1,capture:!1}),b.addEventListener(a.EVENT_END,z),b.addEventListener(a.EVENT_CANCEL,z),b.addEventListener(a.EVENT_CLICK,function(b){(a.os.android||a.os.ios)&&(a.targets.popover&&b.target===a.targets.popover||a.targets.tab||a.targets.offcanvas||a.targets.modal)&&b.preventDefault()},!0),a.isScrolling=!1;var B=null;b.addEventListener(\"scroll\",function(){a.isScrolling=!0,B&&clearTimeout(B),B=setTimeout(function(){a.isScrolling=!1},250)})}(mui,window),function(a,b){var c=0,d=function(d,e){var f=a.gestures.session,g=this.options,h=a.now();switch(d.type){case a.EVENT_MOVE:h-c>300&&(c=h,f.flickStart=e.center);break;case a.EVENT_END:case a.EVENT_CANCEL:e.flick=!1,f.flickStart&&g.flickMaxTime>h-c&&e.distance>g.flickMinDistince&&(e.flick=!0,e.flickTime=h-c,e.flickDistanceX=e.center.x-f.flickStart.x,e.flickDistanceY=e.center.y-f.flickStart.y,a.trigger(f.target,b,e),a.trigger(f.target,b+e.direction,e))}};a.addGesture({name:b,index:5,handle:d,options:{flickMaxTime:200,flickMinDistince:10}})}(mui,\"flick\"),function(a,b){var c=function(c,d){var e=a.gestures.session;if(c.type===a.EVENT_END||c.type===a.EVENT_CANCEL){var f=this.options;d.swipe=!1,d.direction&&f.swipeMaxTime>d.deltaTime&&d.distance>f.swipeMinDistince&&(d.swipe=!0,a.trigger(e.target,b,d),a.trigger(e.target,b+d.direction,d))}};a.addGesture({name:b,index:10,handle:c,options:{swipeMaxTime:300,swipeMinDistince:18}})}(mui,\"swipe\"),function(a,b){var c=function(c,d){var e=a.gestures.session;switch(c.type){case a.EVENT_START:break;case a.EVENT_MOVE:if(!d.direction||!e.target)return;e.lockDirection&&e.startDirection&&e.startDirection&&e.startDirection!==d.direction&&(\"up\"===e.startDirection||\"down\"===e.startDirection?d.direction=d.deltaY<0?\"up\":\"down\":d.direction=d.deltaX<0?\"left\":\"right\"),e.drag||(e.drag=!0,a.trigger(e.target,b+\"start\",d)),a.trigger(e.target,b,d),a.trigger(e.target,b+d.direction,d);break;case a.EVENT_END:case a.EVENT_CANCEL:e.drag&&d.isFinal&&a.trigger(e.target,b+\"end\",d)}};a.addGesture({name:b,index:20,handle:c,options:{fingers:1}})}(mui,\"drag\"),function(a,b){var c,d,e=function(e,f){var g=a.gestures.session,h=this.options;switch(e.type){case a.EVENT_END:if(!f.isFinal)return;var i=g.target;if(!i||i.disabled||i.classList&&i.classList.contains(\"mui-disabled\"))return;if(f.distance<h.tapMaxDistance&&f.deltaTime<h.tapMaxTime){if(a.options.gestureConfig.doubletap&&c&&c===i&&d&&f.timestamp-d<h.tapMaxInterval)return a.trigger(i,\"doubletap\",f),d=a.now(),void(c=i);a.trigger(i,b,f),d=a.now(),c=i}}};a.addGesture({name:b,index:30,handle:e,options:{fingers:1,tapMaxInterval:300,tapMaxDistance:5,tapMaxTime:250}})}(mui,\"tap\"),function(a,b){var c,d=function(d,e){var f=a.gestures.session,g=this.options;switch(d.type){case a.EVENT_START:clearTimeout(c),c=setTimeout(function(){a.trigger(f.target,b,e)},g.holdTimeout);break;case a.EVENT_MOVE:e.distance>g.holdThreshold&&clearTimeout(c);break;case a.EVENT_END:case a.EVENT_CANCEL:clearTimeout(c)}};a.addGesture({name:b,index:10,handle:d,options:{fingers:1,holdTimeout:500,holdThreshold:2}})}(mui,\"longtap\"),function(a,b){var c,d=function(d,e){var f=a.gestures.session,g=this.options;switch(d.type){case a.EVENT_START:a.options.gestureConfig.hold&&(c&&clearTimeout(c),c=setTimeout(function(){e.hold=!0,a.trigger(f.target,b,e)},g.holdTimeout));break;case a.EVENT_MOVE:break;case a.EVENT_END:case a.EVENT_CANCEL:c&&(clearTimeout(c)&&(c=null),a.trigger(f.target,\"release\",e))}};a.addGesture({name:b,index:10,handle:d,options:{fingers:1,holdTimeout:0}})}(mui,\"hold\"),function(a,b){var c=function(c,d){var e=this.options,f=a.gestures.session;switch(c.type){case a.EVENT_START:break;case a.EVENT_MOVE:if(a.options.gestureConfig.pinch){if(d.touches.length<2)return;f.pinch||(f.pinch=!0,a.trigger(f.target,b+\"start\",d)),a.trigger(f.target,b,d);var g=d.scale,h=d.rotation,i=void 0===d.lastScale?1:d.lastScale,j=1e-12;g>i?(i=g-j,a.trigger(f.target,b+\"out\",d)):g<i&&(i=g+j,a.trigger(f.target,b+\"in\",d)),Math.abs(h)>e.minRotationAngle&&a.trigger(f.target,\"rotate\",d)}break;case a.EVENT_END:case a.EVENT_CANCEL:a.options.gestureConfig.pinch&&f.pinch&&2===d.touches.length&&(f.pinch=!1,a.trigger(f.target,b+\"end\",d))}};a.addGesture({name:b,index:10,handle:c,options:{minRotationAngle:0}})}(mui,\"pinch\"),function(a){function b(a,b){var c=\"MUI_SCROLL_POSITION_\"+document.location.href+\"_\"+b.src,d=parseFloat(localStorage.getItem(c))||0;d&&function(a){b.onload=function(){window.scrollTo(0,a)}}(d),setInterval(function(){var a=window.scrollY;d!==a&&(localStorage.setItem(c,a+\"\"),d=a)},100)}a.global=a.options={gestureConfig:{tap:!0,doubletap:!1,longtap:!1,hold:!1,flick:!0,swipe:!0,drag:!0,pinch:!1}},a.initGlobal=function(b){return a.options=a.extend(!0,a.global,b),this};var c={};a.init=function(b){return a.options=a.extend(!0,a.global,b||{}),a.ready(function(){a.doAction(\"inits\",function(b,d){!(c[d.name]&&!d.repeat)&&(d.handle.call(a),c[d.name]=!0)})}),this},a.addInit=function(b){return a.addAction(\"inits\",b)},a.addInit({name:\"iframe\",index:100,handle:function(){var b=a.options,c=b.subpages||[];!a.os.plus&&c.length&&d(c[0])}});var d=function(c){var d=document.createElement(\"div\");d.className=\"mui-iframe-wrapper\";var e=c.styles||{};\"string\"!=typeof e.top&&(e.top=\"0px\"),\"string\"!=typeof e.bottom&&(e.bottom=\"0px\"),d.style.top=e.top,d.style.bottom=e.bottom;var f=document.createElement(\"iframe\");f.src=c.url,f.id=c.id||c.url,f.name=f.id,d.appendChild(f),document.body.appendChild(d),a.os.wechat&&b(d,f)};a(function(){var b=document.body.classList,c=[];a.os.ios?(c.push({os:\"ios\",version:a.os.version}),b.add(\"mui-ios\")):a.os.android&&(c.push({os:\"android\",version:a.os.version}),b.add(\"mui-android\")),a.os.wechat&&(c.push({os:\"wechat\",version:a.os.wechat.version}),b.add(\"mui-wechat\")),c.length&&a.each(c,function(c,d){var e=\"\";d.version&&a.each(d.version.split(\".\"),function(c,f){e=e+(e?\"-\":\"\")+f,b.add(a.className(d.os+\"-\"+e))})})})}(mui),function(a){var b={swipeBack:!1,preloadPages:[],preloadLimit:10,keyEventBind:{backbutton:!0,menubutton:!0},titleConfig:{height:\"44px\",backgroundColor:\"#f7f7f7\",bottomBorderColor:\"#cccccc\",title:{text:\"\",position:{top:0,left:0,width:\"100%\",height:\"100%\"},styles:{color:\"#000000\",align:\"center\",family:\"'Helvetica Neue',Helvetica,sans-serif\",size:\"17px\",style:\"normal\",weight:\"normal\",fontSrc:\"\"}},back:{image:{base64Data:\"\",imgSrc:\"\",sprite:{top:\"0px\",left:\"0px\",width:\"100%\",height:\"100%\"},position:{top:\"10px\",left:\"10px\",width:\"24px\",height:\"24px\"}}}}},c={event:\"titleUpdate\",autoShow:!0,duration:300,aniShow:\"slide-in-right\",extras:{}};a.options.show&&(c=a.extend(!0,c,a.options.show)),a.currentWebview=null,a.extend(!0,a.global,b),a.extend(!0,a.options,b),a.waitingOptions=function(b){return a.extend(!0,{},{autoShow:!0,title:\"\",modal:!1},b)},a.showOptions=function(b){return a.extend(!0,{},c,b)},a.windowOptions=function(b){return a.extend({scalable:!1,bounce:\"\"},b)},a.plusReady=function(a){return window.plus?setTimeout(function(){a()},0):document.addEventListener(\"plusready\",function(){a()},!1),this},a.fire=function(b,c,d){if(b){if(void 0===d)d=\"\";else{if(\"boolean\"==typeof d||\"number\"==typeof d)return void b.evalJS(\"typeof mui!=='undefined'&&mui.receive('\"+c+\"',\"+d+\")\");(a.isPlainObject(d)||a.isArray(d))&&(d=JSON.stringify(d||{}).replace(/\\'/g,\"\\\\u0027\").replace(/\\\\/g,\"\\\\u005c\"))}b.evalJS(\"typeof mui!=='undefined'&&mui.receive('\"+c+\"','\"+d+\"')\")}},a.receive=function(b,c){if(b){try{c&&\"string\"==typeof c&&(c=JSON.parse(c))}catch(a){}a.trigger(document,b,c)}};var d=function(b){if(!b.preloaded){a.fire(b,\"preload\");for(var c=b.children(),d=0;d<c.length;d++)a.fire(c[d],\"preload\");b.preloaded=!0}},e=function(b,c,d){if(d){if(!b[c+\"ed\"]){a.fire(b,c);for(var e=b.children(),f=0;f<e.length;f++)a.fire(e[f],c);b[c+\"ed\"]=!0}}else{a.fire(b,c);for(var e=b.children(),f=0;f<e.length;f++)a.fire(e[f],c)}};a.openWindow=function(b,f,g){if(\"object\"==typeof b?(g=b,b=g.url,f=g.id||b):\"object\"==typeof f?(g=f,f=g.id||b):f=f||b,!a.os.plus)return void(a.os.ios||a.os.android?window.top.location.href=b:window.parent.location.href=b);if(window.plus){g=g||{};var h,i,j=g.params||{},k=null,l=null;if(a.webviews[f]?(l=a.webviews[f],plus.webview.getWebviewById(f)&&(k=l.webview)):!0!==g.createNew&&(k=plus.webview.getWebviewById(f)),k)return h=l?l.show:c,h=g.show?a.extend(h,g.show):h,h.autoShow&&k.show(h.aniShow,h.duration,function(){d(k),e(k,\"pagebeforeshow\",!1)}),l&&l.afterShowMethodName&&k.evalJS(l.afterShowMethodName+\"('\"+JSON.stringify(j)+\"')\"),k;if(!b)throw new Error(\"webview[\"+f+\"] does not exist\");var m=a.waitingOptions(g.waiting);if(m.autoShow&&(i=plus.nativeUI.showWaiting(m.title,m.options)),g=a.extend(g,{id:f,url:b}),k=a.createWindow(g),h=a.showOptions(g.show),h.autoShow){var n=function(){i&&i.close(),k.show(h.aniShow,h.duration,function(){},h.extras),g.afterShowMethodName&&k.evalJS(g.afterShowMethodName+\"('\"+JSON.stringify(j)+\"')\")};k.addEventListener(h.event,n,!1),k.addEventListener(\"loaded\",function(){d(k),e(k,\"pagebeforeshow\",!1)},!1)}return k}},a.openWindowWithTitle=function(b,f){b=b||{};var g=b.url,h=b.id||g;if(!a.os.plus)return void(a.os.ios||a.os.android?window.top.location.href=g:window.parent.location.href=g);if(window.plus){var i,j,k=b.params||{},l=null,m=null;if(a.webviews[h]?(m=a.webviews[h],plus.webview.getWebviewById(h)&&(l=m.webview)):!0!==b.createNew&&(l=plus.webview.getWebviewById(h)),l)return i=m?m.show:c,i=b.show?a.extend(i,b.show):i,i.autoShow&&l.show(i.aniShow,i.duration,function(){d(l),e(l,\"pagebeforeshow\",!1)}),m&&m.afterShowMethodName&&l.evalJS(m.afterShowMethodName+\"('\"+JSON.stringify(k)+\"')\"),l;if(!g)throw new Error(\"webview[\"+h+\"] does not exist\");var n=a.waitingOptions(b.waiting);if(n.autoShow&&(j=plus.nativeUI.showWaiting(n.title,n.options)),b=a.extend(b,{id:h,url:g}),l=a.createWindow(b),f){a.extend(!0,a.options.titleConfig,f);var o=a.options.titleConfig.id?a.options.titleConfig.id:h+\"_title\",p=new plus.nativeObj.View(o,{top:0,height:a.options.titleConfig.height,width:\"100%\",dock:\"top\",position:\"dock\"});p.drawRect(a.options.titleConfig.backgroundColor);var q=parseInt(a.options.titleConfig.height)-1;if(p.drawRect(a.options.titleConfig.bottomBorderColor,{top:q+\"px\",left:\"0px\"}),a.options.titleConfig.title.text){var r=a.options.titleConfig.title;p.drawText(r.text,r.position,r.styles)}var s=a.options.titleConfig.back,t=null,u=s.image;if(u.base64Data||u.imgSrc){t={left:parseInt(u.position.left),right:parseInt(u.position.left)+parseInt(u.position.width)};var v=new plus.nativeObj.Bitmap(h+\"_back\");u.base64Data?v.loadBase64Data(u.base64Data):v.load(u.imgSrc),p.drawBitmap(v,u.sprite,u.position)}p.setTouchEventRect({top:\"0px\",left:\"0px\",width:\"100%\",height:\"100%\"}),p.interceptTouchEvent(!0),p.addEventListener(\"click\",function(b){var c=b.clientX;t&&c>t.left&&c<t.right&&(s.click&&a.isFunction(s.click)?s.click():l.evalJS(\"window.mui&&mui.back();\"))},!1),l.append(p)}return i=a.showOptions(b.show),i.autoShow&&l.addEventListener(i.event,function(){j&&j.close(),l.show(i.aniShow,i.duration,function(){},i.extras)},!1),l}},a.createWindow=function(b,c){if(window.plus){var d,e=b.id||b.url;if(b.preload){a.webviews[e]&&a.webviews[e].webview.getURL()?d=a.webviews[e].webview:(!0!==b.createNew&&(d=plus.webview.getWebviewById(e)),d||(d=plus.webview.create(b.url,e,a.windowOptions(b.styles),a.extend({preload:!0},b.extras)),b.subpages&&a.each(b.subpages,function(b,c){var e=c.id||c.url;if(e){var f=plus.webview.getWebviewById(e);f||(f=plus.webview.create(c.url,e,a.windowOptions(c.styles),a.extend({preload:!0},c.extras))),d.append(f)}}))),a.webviews[e]={webview:d,preload:!0,show:a.showOptions(b.show),afterShowMethodName:b.afterShowMethodName};var f=a.data.preloads,g=f.indexOf(e);if(~g&&f.splice(g,1),f.push(e),f.length>a.options.preloadLimit){var h=a.data.preloads.shift(),i=a.webviews[h];i&&i.webview&&a.closeAll(i.webview),delete a.webviews[h]}}else!1!==c&&(d=plus.webview.create(b.url,e,a.windowOptions(b.styles),b.extras),b.subpages&&a.each(b.subpages,function(b,c){var e=c.id||c.url,f=plus.webview.getWebviewById(e);f||(f=plus.webview.create(c.url,e,a.windowOptions(c.styles),c.extras)),d.append(f)}));return d}},a.preload=function(b){return b.preload||(b.preload=!0),a.createWindow(b)},a.closeOpened=function(b){var c=b.opened();if(c)for(var d=0,e=c.length;d<e;d++){var f=c[d],g=f.opened();g&&g.length>0?(a.closeOpened(f),f.close(\"none\")):f.parent()!==b&&f.close(\"none\")}},a.closeAll=function(b,c){a.closeOpened(b),c?b.close(c):b.close()},a.createWindows=function(b){a.each(b,function(b,c){a.createWindow(c,!1)})},a.appendWebview=function(b){if(window.plus){var c,d=b.id||b.url;return a.webviews[d]||(plus.webview.getWebviewById(d)||(c=plus.webview.create(b.url,d,b.styles,b.extras)),plus.webview.currentWebview().append(c),a.webviews[d]=b),c}},a.webviews={},a.data.preloads=[],a.plusReady(function(){a.currentWebview=plus.webview.currentWebview()}),a.addInit({name:\"5+\",index:100,handle:function(){var b=a.options,c=b.subpages||[];a.os.plus&&a.plusReady(function(){a.each(c,function(b,c){a.appendWebview(c)}),plus.webview.currentWebview()===plus.webview.getWebviewById(plus.runtime.appid)&&setTimeout(function(){d(plus.webview.currentWebview())},300),a.os.ios&&a.options.statusBarBackground&&plus.navigator.setStatusBarBackground(a.options.statusBarBackground),a.os.android&&parseFloat(a.os.version)<4.4&&null==plus.webview.currentWebview().parent()&&document.addEventListener(\"resume\",function(){var a=document.body;a.style.display=\"none\",setTimeout(function(){a.style.display=\"\"},10)})})}}),window.addEventListener(\"preload\",function(){var b=a.options.preloadPages||[];a.plusReady(function(){a.each(b,function(b,c){a.createWindow(a.extend(c,{preload:!0}))})})}),a.supportStatusbarOffset=function(){return a.os.plus&&a.os.ios&&parseFloat(a.os.version)>=7},a.ready(function(){a.supportStatusbarOffset()&&document.body.classList.add(\"mui-statusbar\")})}(mui),function(a,b){a.addBack=function(b){return a.addAction(\"backs\",b)},a.addBack({name:\"browser\",index:100,handle:function(){return b.history.length>1&&(b.history.back(),!0)}}),a.back=function(){\"function\"==typeof a.options.beforeback&&!1===a.options.beforeback()||a.doAction(\"backs\")},b.addEventListener(\"tap\",function(b){var c=a.targets.action;c&&c.classList.contains(\"mui-action-back\")&&(a.back(),a.targets.action=!1)}),b.addEventListener(\"swiperight\",function(b){var c=b.detail;!0===a.options.swipeBack&&Math.abs(c.angle)<3&&a.back()})}(mui,window),function(a,b){a.os.plus&&a.os.android&&a.addBack({name:\"mui\",index:5,handle:function(){if(a.targets._popover&&a.targets._popover.classList.contains(\"mui-active\"))return a(a.targets._popover).popover(\"hide\"),!0;var b=document.querySelector(\".mui-off-canvas-wrap.mui-active\");if(b)return a(b).offCanvas(\"close\"),!0;var c=a.isFunction(a.getPreviewImage)&&a.getPreviewImage();return c&&c.isShown()?(c.close(),!0):a.closePopup()}}),a.__back__first=null,a.addBack({name:\"5+\",index:10,handle:function(){if(!b.plus)return!1;var c=plus.webview.currentWebview(),d=c.parent();return d?d.evalJS(\"mui&&mui.back();\"):c.canBack(function(d){d.canBack?b.history.back():c.id===plus.runtime.appid?a.__back__first?(new Date).getTime()-a.__back__first<2e3&&plus.runtime.quit():(a.__back__first=(new Date).getTime(),mui.toast(\"再按一次退出应用\"),setTimeout(function(){a.__back__first=null},2e3)):c.preload?c.hide(\"auto\"):a.closeAll(c)}),!0}}),a.menu=function(){var c=document.querySelector(\".mui-action-menu\");if(c)a.trigger(c,a.EVENT_START),a.trigger(c,\"tap\");else if(b.plus){var d=a.currentWebview,e=d.parent();e&&e.evalJS(\"mui&&mui.menu();\")}};var c=function(){a.back()},d=function(){a.menu()};a.plusReady(function(){a.options.keyEventBind.backbutton&&plus.key.addEventListener(\"backbutton\",c,!1),a.options.keyEventBind.menubutton&&plus.key.addEventListener(\"menubutton\",d,!1)}),a.addInit({name:\"keyEventBind\",index:1e3,handle:function(){a.plusReady(function(){a.options.keyEventBind.backbutton||plus.key.removeEventListener(\"backbutton\",c),a.options.keyEventBind.menubutton||plus.key.removeEventListener(\"menubutton\",d)})}})}(mui,window),function(a){a.addInit({name:\"pullrefresh\",index:1e3,handle:function(){var b=a.options,c=b.pullRefresh||{},d=c.down&&c.down.hasOwnProperty(\"callback\"),e=c.up&&c.up.hasOwnProperty(\"callback\");if(d||e){var f=c.container;if(f){var g=a(f);1===g.length&&(a.os.plus?d&&\"circle\"==c.down.style?a.plusReady(function(){a.fn.pullRefresh=a.fn.pullRefresh_native,g.pullRefresh(c)}):a.os.android?a.plusReady(function(){a.fn.pullRefresh=a.fn.pullRefresh_native;var b=plus.webview.currentWebview();if(!1===window.__NWin_Enable__)g.pullRefresh(c);else{if(e){var f={};f.up=c.up,f.webviewId=b.id||b.getURL(),g.pullRefresh(f)}if(d){var h=b.parent(),i=b.id||b.getURL();if(h){e||g.pullRefresh({webviewId:i});var j={webviewId:i};j.down=a.extend({},c.down),j.down.callback=\"_CALLBACK\",h.evalJS(\"mui.fn.pullRefresh=mui.fn.pullRefresh_native\"),h.evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\"+JSON.stringify(j)+\"')\")}}}}):g.pullRefresh(c):g.pullRefresh(c))}}}})}(mui),function(a,b,c){var d=\"application/json\",e=\"text/html\",f=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,g=/^(?:text|application)\\/javascript/i,h=/^(?:text|application)\\/xml/i,i=/^\\s*$/;a.ajaxSettings={type:\"GET\",beforeSend:a.noop,success:a.noop,error:a.noop,complete:a.noop,context:null,xhr:function(a){return new b.XMLHttpRequest},accepts:{script:\"text/javascript, application/javascript, application/x-javascript\",json:d,xml:\"application/xml, text/xml\",html:e,text:\"text/plain\"},timeout:0,processData:!0,cache:!0};var j=function(a,b){var c=b.context;if(!1===b.beforeSend.call(c,a,b))return!1},k=function(a,b,c){c.success.call(c.context,a,\"success\",b),m(\"success\",b,c)},l=function(a,b,c,d){d.error.call(d.context,c,b,a),m(b,c,d)},m=function(a,b,c){c.complete.call(c.context,b,a)},n=function(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+\"[\"+(h||\"object\"===f||\"array\"===f?c:\"\")+\"]\"),!e&&g?b.add(i.name,i.value):\"array\"===f||!d&&\"object\"===f?n(b,i,d,c):b.add(c,i)})},o=function(b){if(b.processData&&b.data&&\"string\"!=typeof b.data){var e=b.contentType;!e&&b.headers&&(e=b.headers[\"Content-Type\"]),e&&~e.indexOf(d)?b.data=JSON.stringify(b.data):b.data=a.param(b.data,b.traditional)}!b.data||b.type&&\"GET\"!==b.type.toUpperCase()||(b.url=p(b.url,b.data),b.data=c)},p=function(a,b){return\"\"===b?a:(a+\"&\"+b).replace(/[&?]{1,2}/,\"?\")},q=function(a){return a&&(a=a.split(\";\",2)[0]),a&&(a===e?\"html\":a===d?\"json\":g.test(a)?\"script\":h.test(a)&&\"xml\")||\"text\"},r=function(b,d,e,f){return a.isFunction(d)&&(f=e,e=d,d=c),a.isFunction(e)||(f=e,e=c),{url:b,data:d,success:e,dataType:f}};a.ajax=function(d,e){\"object\"==typeof d&&(e=d,d=c);var f=e||{};f.url=d||f.url;for(var g in a.ajaxSettings)f[g]===c&&(f[g]=a.ajaxSettings[g]);o(f);var h=f.dataType;!1!==f.cache&&(e&&!0===e.cache||\"script\"!==h)||(f.url=p(f.url,\"_=\"+a.now()));var m=f.accepts[h&&h.toLowerCase()],n={},r=function(a,b){n[a.toLowerCase()]=[a,b]},s=/^([\\w-]+:)\\/\\//.test(f.url)?RegExp.$1:b.location.protocol,t=f.xhr(f);\"file:\"===location.protocol&&a.os.ios&&b.webkit&&b.webkit.messageHandlers&&!(t instanceof plus.net.XMLHttpRequest)&&console.error(\"当前运行环境为WKWebview，需在plusReady事件触发后再调用mui.ajax，否则可能会执行失败或报Script error的错误\");var u,v=t.setRequestHeader;if(r(\"X-Requested-With\",\"XMLHttpRequest\"),r(\"Accept\",m||\"*/*\"),(m=f.mimeType||m)&&(m.indexOf(\",\")>-1&&(m=m.split(\",\",2)[0]),t.overrideMimeType&&t.overrideMimeType(m)),(f.contentType||!1!==f.contentType&&f.data&&\"GET\"!==f.type.toUpperCase())&&r(\"Content-Type\",f.contentType||\"application/x-www-form-urlencoded\"),f.headers)for(var w in f.headers)r(w,f.headers[w]);if(t.setRequestHeader=r,t.onreadystatechange=function(){if(4===t.readyState){t.onreadystatechange=a.noop,clearTimeout(u);var b,c=!1,d=\"file:\"===s;if(t.status>=200&&t.status<300||304===t.status||0===t.status&&d&&t.responseText){h=h||q(f.mimeType||t.getResponseHeader(\"content-type\")),b=t.responseText;try{\"script\"===h?(0,eval)(b):\"xml\"===h?b=t.responseXML:\"json\"===h&&(b=i.test(b)?null:a.parseJSON(b))}catch(a){c=a}c?l(c,\"parsererror\",t,f):k(b,t,f)}else{var e=t.status?\"error\":\"abort\",g=t.statusText||null;d&&(e=\"error\",g=\"404\"),l(g,e,t,f)}}},!1===j(t,f))return t.abort(),l(null,\"abort\",t,f),t;if(f.xhrFields)for(var w in f.xhrFields)t[w]=f.xhrFields[w];var x=!(\"async\"in f)||f.async;t.open(f.type.toUpperCase(),f.url,x,f.username,f.password);for(var w in n)n.hasOwnProperty(w)&&v.apply(t,n[w]);return f.timeout>0&&(u=setTimeout(function(){t.onreadystatechange=a.noop,t.abort(),l(null,\"timeout\",t,f)},f.timeout)),t.send(f.data?f.data:null),t},a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(encodeURIComponent(a)+\"=\"+encodeURIComponent(b))},n(c,a,b),c.join(\"&\").replace(/%20/g,\"+\")},a.get=function(){return a.ajax(r.apply(null,arguments))},a.post=function(){var b=r.apply(null,arguments);return b.type=\"POST\",a.ajax(b)},a.getJSON=function(){var b=r.apply(null,arguments);return b.dataType=\"json\",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,g=this,h=b.split(/\\s/),i=r(b,c,d),j=i.success;return h.length>1&&(i.url=h[0],e=h[1]),i.success=function(a){if(e){var b=document.createElement(\"div\");b.innerHTML=a.replace(f,\"\");var c=document.createElement(\"div\"),d=b.querySelectorAll(e);if(d&&d.length>0)for(var h=0,i=d.length;h<i;h++)c.appendChild(d[h]);g[0].innerHTML=c.innerHTML}else g[0].innerHTML=a;j&&j.apply(g,arguments)},a.ajax(i),this}}(mui,window),function(a){var b=document.createElement(\"a\");b.href=window.location.href,a.plusReady(function(){a.ajaxSettings=a.extend(a.ajaxSettings,{xhr:function(c){if(c.crossDomain)return new plus.net.XMLHttpRequest;if(\"file:\"!==b.protocol){var d=document.createElement(\"a\");if(d.href=c.url,d.href=d.href,c.crossDomain=b.protocol+\"//\"+b.host!=d.protocol+\"//\"+d.host,c.crossDomain)return new plus.net.XMLHttpRequest}return a.os.ios&&window.webkit&&window.webkit.messageHandlers?new plus.net.XMLHttpRequest:new window.XMLHttpRequest}})})}(mui),function(a,b,c){a.offset=function(a){var d={top:0,left:0};return typeof a.getBoundingClientRect!==c&&(d=a.getBoundingClientRect()),{top:d.top+b.pageYOffset-a.clientTop,left:d.left+b.pageXOffset-a.clientLeft}}}(mui,window),function(a,b){a.scrollTo=function(a,c,d){c=c||1e3;var e=function(c){if(c<=0)return b.scrollTo(0,a),void(d&&d());var f=a-b.scrollY;setTimeout(function(){b.scrollTo(0,b.scrollY+f/c*10),e(c-10)},16.7)};e(c)},a.animationFrame=function(a){var b,c,d;return function(){b=arguments,d=this,c||(c=!0,requestAnimationFrame(function(){a.apply(d,b),c=!1}))}}}(mui,window),function(a){var b=!1,c=/xyz/.test(function(){xyz})?/\\b_super\\b/:/.*/,d=function(){};d.extend=function(a){function d(){!b&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;b=!0;var f=new this;b=!1;for(var g in a)f[g]=\"function\"==typeof a[g]&&\"function\"==typeof e[g]&&c.test(a[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,a[g]):a[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d},a.Class=d}(mui),function(a,b,c){var d=\"mui-pull-top-pocket\",e=\"mui-pull-bottom-pocket\",f=\"mui-pull\",g=\"mui-pull-loading\",h=\"mui-pull-caption\",i=\"mui-pull-caption-down\",j=\"mui-pull-caption-refresh\",k=\"mui-pull-caption-nomore\",l=\"mui-icon\",m=\"mui-spinner\",n=\"mui-icon-pulldown\",o=\"mui-block\",p=\"mui-hidden\",q=\"mui-visibility\",r=g+\" \"+l+\" \"+n,s=g+\" \"+l+\" \"+n,t=g+\" \"+l+\" \"+m,u=['<div class=\"'+f+'\">','<div class=\"{icon}\"></div>','<div class=\"'+h+'\">{contentrefresh}</div>',\"</div>\"].join(\"\"),v={init:function(b,c){this._super(b,a.extend(!0,{scrollY:!0,scrollX:!1,indicators:!0,deceleration:.003,down:{height:50,contentinit:\"下拉可以刷新\",contentdown:\"下拉可以刷新\",contentover:\"释放立即刷新\",contentrefresh:\"正在刷新...\"},up:{height:50,auto:!1,contentinit:\"上拉显示更多\",contentdown:\"上拉显示更多\",contentrefresh:\"正在加载...\",contentnomore:\"没有更多数据了\",duration:300}},c))},_init:function(){this._super(),this._initPocket()},_initPulldownRefresh:function(){this.pulldown=!0,this.topPocket&&(this.pullPocket=this.topPocket,this.pullPocket.classList.add(o),this.pullPocket.classList.add(q),this.pullCaption=this.topCaption,this.pullLoading=this.topLoading)},_initPullupRefresh:function(){this.pulldown=!1,this.bottomPocket&&(this.pullPocket=this.bottomPocket,this.pullPocket.classList.add(o),this.pullPocket.classList.add(q),this.pullCaption=this.bottomCaption,this.pullLoading=this.bottomLoading)},_initPocket:function(){var a=this.options;a.down&&a.down.hasOwnProperty(\"callback\")&&(this.topPocket=this.scroller.querySelector(\".\"+d),this.topPocket||(this.topPocket=this._createPocket(d,a.down,s),this.wrapper.insertBefore(this.topPocket,this.wrapper.firstChild)),this.topLoading=this.topPocket.querySelector(\".\"+g),this.topCaption=this.topPocket.querySelector(\".\"+h)),a.up&&a.up.hasOwnProperty(\"callback\")&&(this.bottomPocket=this.scroller.querySelector(\".\"+e),this.bottomPocket||(this.bottomPocket=this._createPocket(e,a.up,t),this.scroller.appendChild(this.bottomPocket)),this.bottomLoading=this.bottomPocket.querySelector(\".\"+g),this.bottomCaption=this.bottomPocket.querySelector(\".\"+h),this.wrapper.addEventListener(\"scrollbottom\",this))},_createPocket:function(a,c,d){var e=b.createElement(\"div\");return e.className=a,e.innerHTML=u.replace(\"{contentrefresh}\",c.contentinit).replace(\"{icon}\",d),e},_resetPullDownLoading:function(){var a=this.pullLoading;a&&(this.pullCaption.innerHTML=this.options.down.contentdown,a.style.webkitTransition=\"\",a.style.webkitTransform=\"\",a.style.webkitAnimation=\"\",a.className=s)},_setCaptionClass:function(a,b,c){if(!a)switch(c){case this.options.up.contentdown:b.className=h+\" \"+i;break;case this.options.up.contentrefresh:b.className=h+\" \"+j;break;case this.options.up.contentnomore:b.className=h+\" \"+k}},_setCaption:function(a,b){if(!this.loading){var c=this.options,d=this.pullPocket,e=this.pullCaption,f=this.pullLoading,g=this.pulldown,h=this;d&&(b?setTimeout(function(){e.innerHTML=h.lastTitle=a,g?f.className=s:(h._setCaptionClass(!1,e,a),f.className=t),f.style.webkitAnimation=\"\",f.style.webkitTransition=\"\",f.style.webkitTransform=\"\"},100):a!==this.lastTitle&&(e.innerHTML=a,g?a===c.down.contentrefresh?(f.className=t,f.style.webkitAnimation=\"spinner-spin 1s step-end infinite\"):a===c.down.contentover?(f.className=r,f.style.webkitTransition=\"-webkit-transform 0.3s ease-in\",f.style.webkitTransform=\"rotate(180deg)\"):a===c.down.contentdown&&(f.className=s,f.style.webkitTransition=\"-webkit-transform 0.3s ease-in\",f.style.webkitTransform=\"rotate(0deg)\"):(a===c.up.contentrefresh?f.className=t+\" \"+q:f.className=t+\" \"+p,h._setCaptionClass(!1,e,a)),this.lastTitle=a))}}};a.PullRefresh=v}(mui,document),function(a,b,c,d){var e=\"mui-scroll\",f=\"mui-scrollbar\",g=\"mui-scrollbar-indicator\",h=f+\"-vertical\",i=f+\"-horizontal\",j=\"mui-active\",k={quadratic:{style:\"cubic-bezier(0.25, 0.46, 0.45, 0.94)\",fn:function(a){return a*(2-a)}},circular:{style:\"cubic-bezier(0.1, 0.57, 0.1, 1)\",fn:function(a){return Math.sqrt(1- --a*a)}},outCirc:{style:\"cubic-bezier(0.075, 0.82, 0.165, 1)\"},outCubic:{style:\"cubic-bezier(0.165, 0.84, 0.44, 1)\"}},l=a.Class.extend({init:function(b,c){this.wrapper=this.element=b,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller&&this.scroller.style,this.stopped=!1,this.options=a.extend(!0,{scrollY:!0,scrollX:!1,startX:0,startY:0,indicators:!0,stopPropagation:!1,hardwareAccelerated:!0,fixedBadAndorid:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/},momentum:!0,snapX:.5,snap:!1,bounce:!0,bounceTime:500,bounceEasing:k.outCirc,scrollTime:500,scrollEasing:k.outCubic,directionLockThreshold:5,parallaxElement:!1,parallaxRatio:.5},c),this.x=0,this.y=0,this.translateZ=this.options.hardwareAccelerated?\" translateZ(0)\":\"\",this._init(),this.scroller&&(this.refresh(),this.scrollTo(this.options.startX,this.options.startY))},_init:function(){this._initParallax(),this._initIndicators(),this._initEvent()},_initParallax:function(){this.options.parallaxElement&&(this.parallaxElement=c.querySelector(this.options.parallaxElement),this.parallaxStyle=this.parallaxElement.style,this.parallaxHeight=this.parallaxElement.offsetHeight,this.parallaxImgStyle=this.parallaxElement.querySelector(\"img\").style)},_initIndicators:function(){var a=this;if(a.indicators=[],this.options.indicators){var b,c=[];a.options.scrollY&&(b={el:this._createScrollBar(h),listenX:!1},this.wrapper.appendChild(b.el),c.push(b)),this.options.scrollX&&(b={el:this._createScrollBar(i),listenY:!1},this.wrapper.appendChild(b.el),c.push(b));for(var d=c.length;d--;)this.indicators.push(new m(this,c[d]))}},_initSnap:function(){this.currentPage={},this.pages=[];for(var a=this.snaps,b=a.length,c=0,d=-1,e=0,f=0,g=0,h=0,i=0;i<b;i++){var k=a[i],l=k.offsetLeft,m=k.offsetWidth;(0===i||l<=a[i-1].offsetLeft)&&(c=0,d++),this.pages[c]||(this.pages[c]=[]),e=this._getSnapX(l),h=Math.round(m*this.options.snapX),f=e-h,g=e-m+h,this.pages[c][d]={x:e,leftX:f,rightX:g,pageX:c,element:k},k.classList.contains(j)&&(this.currentPage=this.pages[c][0]),e>=this.maxScrollX&&c++}this.options.startX=this.currentPage.x||0},_getSnapX:function(a){return Math.max(Math.min(0,-a+this.wrapperWidth/2),this.maxScrollX)},_gotoPage:function(a){this.currentPage=this.pages[Math.min(a,this.pages.length-1)][0];for(var b=0,c=this.snaps.length;b<c;b++)b===a?this.snaps[b].classList.add(j):this.snaps[b].classList.remove(j);this.scrollTo(this.currentPage.x,0,this.options.scrollTime)},_nearestSnap:function(a){if(!this.pages.length)return{x:0,pageX:0};var b=0,c=this.pages.length;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX);b<c;b++){if(a>=(\"left\"===this.direction?this.pages[b][0].leftX:this.pages[b][0].rightX))return this.pages[b][0]}return{x:0,pageX:0}},_initEvent:function(c){var d=c?\"removeEventListener\":\"addEventListener\";b[d](\"orientationchange\",this),b[d](\"resize\",this),this.scroller[d](\"webkitTransitionEnd\",this),this.wrapper[d](a.EVENT_START,this),this.wrapper[d](a.EVENT_CANCEL,this),this.wrapper[d](a.EVENT_END,this),this.wrapper[d](\"drag\",this),this.wrapper[d](\"dragend\",this),this.wrapper[d](\"flick\",this),this.wrapper[d](\"scrollend\",this),this.options.scrollX&&this.wrapper[d](\"swiperight\",this);var e=this.wrapper.querySelector(\".mui-segmented-control\");e&&mui(e)[c?\"off\":\"on\"](\"click\",\"a\",a.preventDefault),this.wrapper[d](\"scrollstart\",this),this.wrapper[d](\"refresh\",this)},_handleIndicatorScrollend:function(){this.indicators.map(function(a){a.fade()})},_handleIndicatorScrollstart:function(){this.indicators.map(function(a){a.fade(1)})},_handleIndicatorRefresh:function(){this.indicators.map(function(a){a.refresh()})},handleEvent:function(b){if(this.stopped)return void this.resetPosition();switch(b.type){case a.EVENT_START:this._start(b);break;case\"drag\":this.options.stopPropagation&&b.stopPropagation(),this._drag(b);break;case\"dragend\":case\"flick\":this.options.stopPropagation&&b.stopPropagation(),this._flick(b);break;case a.EVENT_CANCEL:case a.EVENT_END:this._end(b);break;case\"webkitTransitionEnd\":this.transitionTimer&&this.transitionTimer.cancel(),this._transitionEnd(b);break;case\"scrollstart\":this._handleIndicatorScrollstart(b);break;case\"scrollend\":this._handleIndicatorScrollend(b),this._scrollend(b),b.stopPropagation();break;case\"orientationchange\":case\"resize\":this._resize();break;case\"swiperight\":b.stopPropagation();break;case\"refresh\":this._handleIndicatorRefresh(b)}},_start:function(b){if(this.moved=this.needReset=!1,this._transitionTime(),this.isInTransition){this.needReset=!0,this.isInTransition=!1;var c=a.parseTranslateMatrix(a.getStyles(this.scroller,\"webkitTransform\"));this.setTranslate(Math.round(c.x),Math.round(c.y)),a.trigger(this.scroller,\"scrollend\",this),b.preventDefault()}this.reLayout(),a.trigger(this.scroller,\"beforescrollstart\",this)},_getDirectionByAngle:function(a){return a<-80&&a>-100?\"up\":a>=80&&a<100?\"down\":a>=170||a<=-170?\"left\":a>=-35&&a<=10?\"right\":null},_drag:function(c){var d=c.detail;if((this.options.scrollY||\"up\"===d.direction||\"down\"===d.direction)&&a.os.ios&&parseFloat(a.os.version)>=8){var e=d.gesture.touches[0].clientY;if(e+10>b.innerHeight||e<10)return void this.resetPosition(this.options.bounceTime)}var f=isReturn=!1;this._getDirectionByAngle(d.angle);if(\"left\"===d.direction||\"right\"===d.direction?this.options.scrollX?(f=!0,this.moved||(a.gestures.session.lockDirection=!0,a.gestures.session.startDirection=d.direction)):this.options.scrollY&&!this.moved&&(isReturn=!0):\"up\"===d.direction||\"down\"===d.direction?this.options.scrollY?(f=!0,this.moved||(a.gestures.session.lockDirection=!0,a.gestures.session.startDirection=d.direction)):this.options.scrollX&&!this.moved&&(isReturn=!0):isReturn=!0,(this.moved||f)&&(c.stopPropagation(),d.gesture&&d.gesture.preventDefault()),!isReturn){this.moved?c.stopPropagation():a.trigger(this.scroller,\"scrollstart\",this);var g=0,h=0;this.moved?(g=d.deltaX-a.gestures.session.prevTouch.deltaX,h=d.deltaY-a.gestures.session.prevTouch.deltaY):(g=d.deltaX,h=d.deltaY);var i=Math.abs(d.deltaX),j=Math.abs(d.deltaY);i>j+this.options.directionLockThreshold?h=0:j>=i+this.options.directionLockThreshold&&(g=0),g=this.hasHorizontalScroll?g:0,h=this.hasVerticalScroll?h:0;var k=this.x+g,l=this.y+h;(k>0||k<this.maxScrollX)&&(k=this.options.bounce?this.x+g/3:k>0?0:this.maxScrollX),(l>0||l<this.maxScrollY)&&(l=this.options.bounce?this.y+h/3:l>0?0:this.maxScrollY),this.requestAnimationFrame||this._updateTranslate(),this.direction=d.deltaX>0?\"right\":\"left\",this.moved=!0,this.x=k,this.y=l,a.trigger(this.scroller,\"scroll\",this)}},_flick:function(b){if(this.moved){b.stopPropagation();var c=b.detail;if(this._clearRequestAnimationFrame(),\"dragend\"!==b.type||!c.flick){var d=Math.round(this.x),e=Math.round(this.y);if(this.isInTransition=!1,!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(d,e),\"dragend\"===b.type)return void a.trigger(this.scroller,\"scrollend\",this);var f=0,g=\"\";if(this.options.momentum&&c.flickTime<300&&(momentumX=this.hasHorizontalScroll?this._momentum(this.x,c.flickDistanceX,c.flickTime,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:d,duration:0},momentumY=this.hasVerticalScroll?this._momentum(this.y,c.flickDistanceY,c.flickTime,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:e,duration:0},d=momentumX.destination,e=momentumY.destination,f=Math.max(momentumX.duration,momentumY.duration),this.isInTransition=!0),d!=this.x||e!=this.y)return(d>0||d<this.maxScrollX||e>0||e<this.maxScrollY)&&(g=k.quadratic),void this.scrollTo(d,e,f,g);a.trigger(this.scroller,\"scrollend\",this)}}}},_end:function(b){this.needReset=!1,(!this.moved&&this.needReset||b.type===a.EVENT_CANCEL)&&this.resetPosition()},_transitionEnd:function(b){b.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,a.trigger(this.scroller,\"scrollend\",this)))},_scrollend:function(b){(0===this.y&&0===this.maxScrollY||Math.abs(this.y)>0&&this.y<=this.maxScrollY)&&a.trigger(this.scroller,\"scrollbottom\",this)},_resize:function(){var a=this;clearTimeout(a.resizeTimeout),a.resizeTimeout=setTimeout(function(){a.refresh()},a.options.resizePolling)},_transitionTime:function(b){if(b=b||0,this.scrollerStyle.webkitTransitionDuration=b+\"ms\",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=b+\"ms\"),this.options.fixedBadAndorid&&!b&&a.os.isBadAndroid&&(this.scrollerStyle.webkitTransitionDuration=\"0.001s\",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=\"0.001s\")),this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].transitionTime(b);b&&(this.transitionTimer&&this.transitionTimer.cancel(),this.transitionTimer=a.later(function(){a.trigger(this.scroller,\"webkitTransitionEnd\")},b+100,this))},_transitionTimingFunction:function(a){if(this.scrollerStyle.webkitTransitionTimingFunction=a,this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=a),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){this.x=a,this.y=b},_clearRequestAnimationFrame:function(){this.requestAnimationFrame&&(cancelAnimationFrame(this.requestAnimationFrame),this.requestAnimationFrame=null)},_updateTranslate:function(){var a=this;a.x===a.lastX&&a.y===a.lastY||a.setTranslate(a.x,a.y),a.requestAnimationFrame=requestAnimationFrame(function(){a._updateTranslate()})},_createScrollBar:function(a){var b=c.createElement(\"div\"),d=c.createElement(\"div\");return b.className=f+\" \"+a,d.className=g,b.appendChild(d),a===h?(this.scrollbarY=b,this.scrollbarIndicatorY=d):a===i&&(this.scrollbarX=b,this.scrollbarIndicatorX=d),this.wrapper.appendChild(b),b},_preventDefaultException:function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},_reLayout:function(){if(this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.indicators.map(function(a){a.refresh()}),this.options.snap&&\"string\"==typeof this.options.snap){var a=this.scroller.querySelectorAll(this.options.snap);this.itemLength=0,this.snaps=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];d.parentNode===this.scroller&&(this.itemLength++,this.snaps.push(d))}this._initSnap()}},_momentum:function(a,b,c,e,f,g){var h,i,j=parseFloat(Math.abs(b)/c);return g=g===d?6e-4:g,h=a+j*j/(2*g)*(b<0?-1:1),i=j/g,h<e?(h=f?e-f/2.5*(j/8):e,b=Math.abs(h-a),i=b/j):h>0&&(h=f?f/2.5*(j/8):0,b=Math.abs(a)+h,i=b/j),{destination:Math.round(h),duration:i}},_getTranslateStr:function(a,b){return this.options.hardwareAccelerated?\"translate3d(\"+a+\"px,\"+b+\"px,0px) \"+this.translateZ:\"translate(\"+a+\"px,\"+b+\"px) \"},setStopped:function(a){a?(this.disablePullupToRefresh(),this.disablePulldownToRefresh()):(this.enablePullupToRefresh(),this.enablePulldownToRefresh())},setTranslate:function(b,c){if(this.x=b,this.y=c,this.scrollerStyle.webkitTransform=this._getTranslateStr(b,c),this.parallaxElement&&this.options.scrollY){var d=c*this.options.parallaxRatio,e=1+d/((this.parallaxHeight-d)/2);e>1?(this.parallaxImgStyle.opacity=1-d/100*this.options.parallaxRatio,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-d)+\" scale(\"+e+\",\"+e+\")\"):(this.parallaxImgStyle.opacity=1,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-1)+\" scale(1,1)\")}if(this.indicators)for(var f=this.indicators.length;f--;)this.indicators[f].updatePosition();this.lastX=this.x,this.lastY=this.y,a.trigger(this.scroller,\"scroll\",this)},reLayout:function(){this.wrapper.offsetHeight;var b=parseFloat(a.getStyles(this.wrapper,\"padding-left\"))||0,c=parseFloat(a.getStyles(this.wrapper,\"padding-right\"))||0,d=parseFloat(a.getStyles(this.wrapper,\"padding-top\"))||0,e=parseFloat(a.getStyles(this.wrapper,\"padding-bottom\"))||0,f=this.wrapper.clientWidth,g=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.wrapperWidth=f-b-c,this.wrapperHeight=g-d-e,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this.maxScrollY=Math.min(this.wrapperHeight-this.scrollerHeight,0),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this._reLayout()},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),(b!=this.x||c!=this.y)&&(this.scrollTo(b,c,a,this.options.scrollEasing),!0)},_reInit:function(){for(var a=this.wrapper.querySelectorAll(\".\"+e),b=0,c=a.length;b<c;b++)if(a[b].parentNode===this.wrapper){this.scroller=a[b];break}this.scrollerStyle=this.scroller&&this.scroller.style},refresh:function(){this._reInit(),this.reLayout(),a.trigger(this.scroller,\"refresh\",this),this.resetPosition()},scrollTo:function(a,b,c,d){var d=d||k.circular;this.isInTransition=c>0,this.isInTransition?(this._clearRequestAnimationFrame(),this._transitionTimingFunction(d.style),this._transitionTime(c),this.setTranslate(a,b)):this.setTranslate(a,b)},scrollToBottom:function(a,b){a=a||this.options.scrollTime,this.scrollTo(0,this.maxScrollY,a,b)},gotoPage:function(a){this._gotoPage(a)},destroy:function(){this._initEvent(!0),delete a.data[this.wrapper.getAttribute(\"data-scroll\")],this.wrapper.setAttribute(\"data-scroll\",\"\")}}),m=function(b,d){this.wrapper=\"string\"==typeof d.el?c.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=b,this.options=a.extend({listenX:!0,listenY:!0,fade:!1,speedRatioX:0,speedRatioY:0},d),this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.fade&&(this.wrapperStyle.webkitTransform=this.scroller.translateZ,this.wrapperStyle.webkitTransitionDuration=this.options.fixedBadAndorid&&a.os.isBadAndroid?\"0.001s\":\"0ms\",this.wrapperStyle.opacity=\"0\")};m.prototype={handleEvent:function(a){},transitionTime:function(b){b=b||0,this.indicatorStyle.webkitTransitionDuration=b+\"ms\",this.scroller.options.fixedBadAndorid&&!b&&a.os.isBadAndroid&&(this.indicatorStyle.webkitTransitionDuration=\"0.001s\")},transitionTimingFunction:function(a){this.indicatorStyle.webkitTransitionTimingFunction=a},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?\"block\":\"none\":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?\"block\":\"none\":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?\"block\":\"none\",this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+\"px\",this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+\"px\",this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;a<this.minBoundaryX?(this.width=Math.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+\"px\",a=this.minBoundaryX):a>this.maxBoundaryX?(this.width=Math.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+\"px\",a=this.maxPosX+this.indicatorWidth-this.width):this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+\"px\"),b<this.minBoundaryY?(this.height=Math.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+\"px\",b=this.minBoundaryY):b>this.maxBoundaryY?(this.height=Math.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+\"px\",b=this.maxPosY+this.indicatorHeight-this.height):this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+\"px\"),this.x=a,this.y=b,this.indicatorStyle.webkitTransform=this.scroller._getTranslateStr(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?\"1\":\"0\",this.wrapperStyle.webkitTransitionDuration=c+\"ms\",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},a.Scroll=l,a.fn.scroll=function(b){var c=[];return this.each(function(){var d=null,e=this,f=e.getAttribute(\"data-scroll\");if(f)d=a.data[f];else{f=++a.uuid;var g=a.extend({},b);e.classList.contains(\"mui-segmented-control\")&&(g=a.extend(g,{scrollY:!1,scrollX:!0,indicators:!1,snap:\".mui-control-item\"})),a.data[f]=d=new l(e,g),e.setAttribute(\"data-scroll\",f)}c.push(d)}),1===c.length?c[0]:c}}(mui,window,document),function(a,b,c,d){var e=\"mui-visibility\",f=\"mui-hidden\",g=a.Scroll.extend(a.extend({handleEvent:function(a){this._super(a),\"scrollbottom\"===a.type&&a.target===this.scroller&&this._scrollbottom()},_scrollbottom:function(){this.pulldown||this.loading||(this.pulldown=!1,this._initPullupRefresh(),this.pullupLoading())},_start:function(a){a.touches&&a.touches.length&&a.touches[0].clientX>30&&a.target&&!this._preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault(),this.loading||(this.pulldown=this.pullPocket=this.pullCaption=this.pullLoading=!1),this._super(a)},_drag:function(a){this.y>=0&&this.disablePulldown&&\"down\"===a.detail.direction||(this._super(a),!this.pulldown&&!this.loading&&this.topPocket&&\"down\"===a.detail.direction&&this.y>=0&&this._initPulldownRefresh(),this.pulldown&&this._setCaption(this.y>this.options.down.height?this.options.down.contentover:this.options.down.contentdown))},_reLayout:function(){this.hasVerticalScroll=!0,this._super()},resetPosition:function(a){if(this.pulldown&&!this.disablePulldown){if(this.y>=this.options.down.height)return this.pulldownLoading(d,a||0),!0;!this.loading&&this.topPocket.classList.remove(e)}return this._super(a)},pulldownLoading:function(a,b){if(void 0===a&&(a=this.options.down.height),this.scrollTo(0,a,b,this.options.bounceEasing),!this.loading){this._initPulldownRefresh(),this._setCaption(this.options.down.contentrefresh),this.loading=!0,this.indicators.map(function(a){a.fade(0)});var c=this.options.down.callback;c&&c.call(this)}},endPulldownToRefresh:function(){var a=this;a.topPocket&&a.loading&&this.pulldown&&(a.scrollTo(0,0,a.options.bounceTime,a.options.bounceEasing),a.loading=!1,a._setCaption(a.options.down.contentdown,!0),setTimeout(function(){a.loading||a.topPocket.classList.remove(e)},350))},pullupLoading:function(a,b,c){b=b||0,this.scrollTo(b,this.maxScrollY,c,this.options.bounceEasing),this.loading||(this._initPullupRefresh(),this._setCaption(this.options.up.contentrefresh),this.indicators.map(function(a){a.fade(0)}),this.loading=!0,(a=a||this.options.up.callback)&&a.call(this))},endPullupToRefresh:function(a){var b=this;b.bottomPocket&&(b.loading=!1,a?(this.finished=!0,b._setCaption(b.options.up.contentnomore),b.wrapper.removeEventListener(\"scrollbottom\",b)):(b._setCaption(b.options.up.contentdown),b.loading||b.bottomPocket.classList.remove(e)))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className=\"mui-pull-bottom-pocket \"+f,this.wrapper.removeEventListener(\"scrollbottom\",this)},disablePulldownToRefresh:function(){this._initPulldownRefresh(),this.topPocket.className=\"mui-pull-top-pocket \"+f,this.disablePulldown=!0},enablePulldownToRefresh:function(){this._initPulldownRefresh(),this.topPocket.classList.remove(f),this._setCaption(this.options.down.contentdown),this.disablePulldown=!1},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(f),this._setCaption(this.options.up.contentdown),this.wrapper.addEventListener(\"scrollbottom\",this)},refresh:function(a){a&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1),this._super()}},a.PullRefresh));a.fn.pullRefresh=function(b){if(1===this.length){var c=this[0],d=null,e=c.getAttribute(\"data-pullrefresh\");return!(!e&&void 0===b)&&(b=b||{},e?d=a.data[e]:(e=++a.uuid,a.data[e]=d=new g(c,b),c.setAttribute(\"data-pullrefresh\",e)),b.down&&b.down.auto?d.pulldownLoading(b.down.autoY):b.up&&b.up.auto&&d.pullupLoading(),d)}}}(mui,window,document),function(a,b){var c=\"mui-slider\",d=\"mui-slider-group\",e=\"mui-slider-loop\",f=\"mui-action-previous\",g=\"mui-action-next\",h=\"mui-slider-item\",i=\"mui-active\",j=\".\"+h,k=\".mui-slider-progress-bar\",l=a.Slider=a.Scroll.extend({init:function(b,c){this._super(b,a.extend(!0,{fingers:1,interval:0,scrollY:!1,scrollX:!0,indicators:!1,scrollTime:1e3,startX:!1,slideTime:0,snap:j},c)),this.options.startX},_init:function(){this._reInit(),this.scroller&&(this.scrollerStyle=this.scroller.style,this.progressBar=this.wrapper.querySelector(k),this.progressBar&&(this.progressBarWidth=this.progressBar.offsetWidth,this.progressBarStyle=this.progressBar.style),this._super(),this._initTimer())},_triggerSlide:function(){var b=this;b.isInTransition=!1;b.currentPage;b.slideNumber=b._fixedSlideNumber(),b.loop&&(0===b.slideNumber?b.setTranslate(b.pages[1][0].x,0):b.slideNumber===b.itemLength-3&&b.setTranslate(b.pages[b.itemLength-2][0].x,0)),b.lastSlideNumber!=b.slideNumber&&(b.lastSlideNumber=b.slideNumber,b.lastPage=b.currentPage,a.trigger(b.wrapper,\"slide\",{slideNumber:b.slideNumber})),b._initTimer()},_handleSlide:function(b){var c=this;if(b.target===c.wrapper){var d=b.detail;d.slideNumber=d.slideNumber||0;for(var e=c.scroller.querySelectorAll(j),f=[],g=0,h=e.length;g<h;g++){var k=e[g];k.parentNode===c.scroller&&f.push(k)}var l=d.slideNumber;if(c.loop&&(l+=1),!c.wrapper.classList.contains(\"mui-segmented-control\"))for(var g=0,h=f.length;g<h;g++){var k=f[g];k.parentNode===c.scroller&&(g===l?k.classList.add(i):k.classList.remove(i))}var m=c.wrapper.querySelector(\".mui-slider-indicator\");if(m){m.getAttribute(\"data-scroll\")&&a(m).scroll().gotoPage(d.slideNumber);var n=m.querySelectorAll(\".mui-indicator\");if(n.length>0)for(var g=0,h=n.length;g<h;g++)n[g].classList[g===d.slideNumber?\"add\":\"remove\"](i);else{var o=m.querySelector(\".mui-number span\");if(o)o.innerText=d.slideNumber+1;else for(var p=m.querySelectorAll(\".mui-control-item\"),g=0,h=p.length;g<h;g++)p[g].classList[g===d.slideNumber?\"add\":\"remove\"](i)}}b.stopPropagation()}},_handleTabShow:function(a){var b=this;b.gotoItem(a.detail.tabNumber||0,b.options.slideTime)},_handleIndicatorTap:function(a){var b=this,c=a.target;(c.classList.contains(f)||c.classList.contains(g))&&(b[c.classList.contains(f)?\"prevItem\":\"nextItem\"](),a.stopPropagation())},_initEvent:function(b){var c=this;c._super(b);var d=b?\"removeEventListener\":\"addEventListener\";c.wrapper[d](\"slide\",this),c.wrapper[d](a.eventName(\"shown\",\"tab\"),this)},handleEvent:function(b){switch(this._super(b),b.type){case\"slide\":this._handleSlide(b);break;case a.eventName(\"shown\",\"tab\"):~this.snaps.indexOf(b.target)&&this._handleTabShow(b)}},_scrollend:function(a){this._super(a),this._triggerSlide(a)},_drag:function(a){this._super(a);var c=a.detail.direction;if(\"left\"===c||\"right\"===c){var d=this.wrapper.getAttribute(\"data-slidershowTimer\");d&&b.clearTimeout(d),a.stopPropagation()}},_initTimer:function(){var a=this,c=a.wrapper,d=a.options.interval,e=c.getAttribute(\"data-slidershowTimer\");e&&b.clearTimeout(e),d&&(e=b.setTimeout(function(){c&&((c.offsetWidth||c.offsetHeight)&&a.nextItem(!0),a._initTimer())},d),c.setAttribute(\"data-slidershowTimer\",e))},_fixedSlideNumber:function(a){a=a||this.currentPage;var b=a.pageX;return this.loop&&(b=0===a.pageX?this.itemLength-3:a.pageX===this.itemLength-1?0:a.pageX-1),b},_reLayout:function(){this.hasHorizontalScroll=!0,this.loop=this.scroller.classList.contains(e),this._super()},_getScroll:function(){var b=a.parseTranslateMatrix(a.getStyles(this.scroller,\"webkitTransform\"));return b?b.x:0},_transitionEnd:function(b){b.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.isInTransition=!1,a.trigger(this.wrapper,\"scrollend\",this))},_flick:function(a){if(this.moved){var b=a.detail,c=b.direction;this._clearRequestAnimationFrame(),this.isInTransition=!0,\"flick\"===a.type?(b.deltaTime<200&&(this.x=this._getPage(this.slideNumber+(\"right\"===c?-1:1),!0).x),this.resetPosition(this.options.bounceTime)):\"dragend\"!==a.type||b.flick||this.resetPosition(this.options.bounceTime),a.stopPropagation()}},_initSnap:function(){if(this.scrollerWidth=this.itemLength*this.scrollerWidth,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this._super(),this.currentPage.x)this.slideNumber=this._fixedSlideNumber(),this.lastSlideNumber=void 0===this.lastSlideNumber?this.slideNumber:this.lastSlideNumber;else{var a=this.pages[this.loop?1:0];if(!(a=a||this.pages[0]))return;this.currentPage=a[0],this.slideNumber=0,this.lastSlideNumber=void 0===this.lastSlideNumber?0:this.lastSlideNumber}this.options.startX=this.currentPage.x||0},_getSnapX:function(a){return Math.max(-a,this.maxScrollX)},_getPage:function(a,b){return this.loop?a>this.itemLength-(b?2:3)?(a=1,time=0):a<(b?-1:0)?(a=this.itemLength-2,time=0):a+=1:(b||(a>this.itemLength-1?(a=0,time=0):a<0&&(a=this.itemLength-1,time=0)),a=Math.min(Math.max(0,a),this.itemLength-1)),this.pages[a][0]},_gotoItem:function(b,c){this.currentPage=this._getPage(b,!0),this.scrollTo(this.currentPage.x,0,c,this.options.scrollEasing),0===c&&a.trigger(this.wrapper,\"scrollend\",this)},setTranslate:function(a,b){this._super(a,b),this.progressBar&&(this.progressBarStyle.webkitTransform=this._getTranslateStr(-a*(this.progressBarWidth/this.wrapperWidth),0))},resetPosition:function(a){return a=a||0,this.x>0?this.x=0:this.x<this.maxScrollX&&(this.x=this.maxScrollX),this.currentPage=this._nearestSnap(this.x),this.scrollTo(this.currentPage.x,0,a,this.options.scrollEasing),!0},gotoItem:function(a,b){this._gotoItem(a,void 0===b?this.options.scrollTime:b)},nextItem:function(){this._gotoItem(this.slideNumber+1,this.options.scrollTime)},prevItem:function(){this._gotoItem(this.slideNumber-1,this.options.scrollTime)},getSlideNumber:function(){return this.slideNumber||0},_reInit:function(){for(var a=this.wrapper.querySelectorAll(\".\"+d),b=0,c=a.length;b<c;b++)if(a[b].parentNode===this.wrapper){this.scroller=a[b];break}this.scrollerStyle=this.scroller&&this.scroller.style,this.progressBar&&(this.progressBarWidth=this.progressBar.offsetWidth,this.progressBarStyle=this.progressBar.style)},refresh:function(b){b?(a.extend(this.options,b),this._super(),this._initTimer()):this._super()},destroy:function(){this._initEvent(!0),delete a.data[this.wrapper.getAttribute(\"data-slider\")],this.wrapper.setAttribute(\"data-slider\",\"\")}});a.fn.slider=function(b){var d=null;return this.each(function(){var e=this;if(this.classList.contains(c)||(e=this.querySelector(\".\"+c)),e&&e.querySelector(j)){var f=e.getAttribute(\"data-slider\");f?(d=a.data[f])&&b&&d.refresh(b):(f=++a.uuid,a.data[f]=d=new l(e,b),e.setAttribute(\"data-slider\",f))}}),d},a.ready(function(){a(\".mui-slider\").slider(),a(\".mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control\").scroll({scrollY:!1,scrollX:!0,indicators:!1,snap:\".mui-control-item\"})})}(mui,window),function(a,b){a.os.plus&&a.plusReady(function(){if(!1!==window.__NWin_Enable__){var c=\"mui-visibility\",d=\"mui-hidden\",e=\"mui-block\",f=\"mui-pull-caption\",g=\"mui-pull-caption-down\",h=\"mui-pull-caption-refresh\",i=\"mui-pull-caption-nomore\",j=a.Class.extend({init:function(a,b){this.element=a,this.options=b,this.wrapper=this.scroller=a,this._init(),this._initPulldownRefreshEvent()},_init:function(){var a=this;window.addEventListener(\"dragup\",a),b.addEventListener(\"plusscrollbottom\",a),a.scrollInterval=window.setInterval(function(){a.isScroll&&!a.loading&&window.pageYOffset+window.innerHeight+10>=b.documentElement.scrollHeight&&(a.isScroll=!1,a.bottomPocket&&a.pullupLoading())},100)},_initPulldownRefreshEvent:function(){var b=this;a.plusReady(function(){if(\"circle\"==b.options.down.style)b.options.webview=plus.webview.currentWebview(),b.options.webview.setPullToRefresh({support:!0,color:b.options.down.color||\"#2BD009\",height:b.options.down.height||\"50px\",range:b.options.down.range||\"100px\",style:\"circle\",offset:b.options.down.offset||\"0px\"},function(){b.options.down.callback()});else if(b.topPocket&&b.options.webviewId){var a=plus.webview.getWebviewById(b.options.webviewId);if(!a)return;b.options.webview=a;var c=b.options.down,d=c.height;a.addEventListener(\"close\",function(){var a=b.options.webviewId&&b.options.webviewId.replace(/\\//g,\"_\");b.element.removeAttribute(\"data-pullrefresh-plus-\"+a)}),a.addEventListener(\"dragBounce\",function(d){switch(b.pulldown?b.pullPocket.classList.add(e):b._initPulldownRefresh(),d.status){case\"beforeChangeOffset\":b._setCaption(c.contentdown);break;case\"afterChangeOffset\":b._setCaption(c.contentover);break;case\"dragEndAfterChangeOffset\":a.evalJS(\"window.mui&&mui.options.pullRefresh.down.callback()\"),b._setCaption(c.contentrefresh)}},!1),a.setBounce({position:{top:2*d+\"px\"},changeoffset:{top:d+\"px\"}})}})},handleEvent:function(a){var b=this;b.stopped||(b.isScroll=!1,\"dragup\"!==a.type&&\"plusscrollbottom\"!==a.type||(b.isScroll=!0,setTimeout(function(){b.isScroll=!1},1e3)))}}).extend(a.extend({setStopped:function(a){this.stopped=!!a,this.stopped?(this.disablePullupToRefresh(),this.disablePulldownToRefresh()):(this.enablePullupToRefresh(),this.enablePulldownToRefresh())},beginPulldown:function(){var b=this;a.plusReady(function(){setTimeout(function(){if(\"circle\"==b.options.down.style)plus.webview.currentWebview().beginPullToRefresh();else{var a=b.options.webview;a&&a.setBounce({offset:{top:b.options.down.height+\"px\"}})}},15)}.bind(this))},pulldownLoading:function(){this.beginPulldown()},_pulldownLoading:function(){var b=this;a.plusReady(function(){var a=plus.webview.getWebviewById(b.options.webviewId);a&&a.setBounce({offset:{top:b.options.down.height+\"px\"}})})},endPulldown:function(){var a=plus.webview.currentWebview();a.parent()&&\"circle\"!==this.options.down.style?a.parent().evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\"+JSON.stringify({webviewId:a.id})+\"')._endPulldownToRefresh()\"):a.endPullToRefresh()},endPulldownToRefresh:function(){this.endPulldown()},_endPulldownToRefresh:function(){var a=this;a.topPocket&&a.options.webview&&(a.options.webview.endPullToRefresh(),a.loading=!1,a._setCaption(a.options.down.contentdown,!0),setTimeout(function(){a.loading||a.topPocket.classList.remove(e)},350))},beginPullup:function(a){var b=this;b.isLoading||(b.isLoading=!0,!1!==b.pulldown?b._initPullupRefresh():this.pullPocket.classList.add(e),setTimeout(function(){b.pullLoading.classList.add(c),b.pullLoading.classList.remove(d),b.pullCaption.innerHTML=\"\",b.pullCaption.className=f+\" \"+h,b.pullCaption.innerHTML=b.options.up.contentrefresh,(a=a||b.options.up.callback)&&a.call(b)},300))},pullupLoading:function(a){this.beginPullup(a)},endPullup:function(a){var e=this;e.pullLoading&&(e.pullLoading.classList.remove(c),e.pullLoading.classList.add(d),e.isLoading=!1,a?(e.finished=!0,e.pullCaption.className=f+\" \"+i,e.pullCaption.innerHTML=e.options.up.contentnomore,b.removeEventListener(\"plusscrollbottom\",e),window.removeEventListener(\"dragup\",e)):(e.pullCaption.className=f+\" \"+g,e.pullCaption.innerHTML=e.options.up.contentdown))},endPullupToRefresh:function(a){this.endPullup(a)},disablePulldownToRefresh:function(){var a=plus.webview.currentWebview();this.options.down.style&&\"circle\"==this.options.down.style?this.options.webview.setPullToRefresh({support:!1,style:\"circle\"}):(a.setStyle({bounce:\"none\"}),a.setBounce({position:{top:\"none\"}}))},enablePulldownToRefresh:function(){var a=this,b=plus.webview.currentWebview(),c=this.options.down.height;this.options.down.style&&\"circle\"==this.options.down.style?b.setPullToRefresh({support:!0,height:c||\"50px\",range:a.options.down.range||\"100px\",style:\"circle\",offset:a.options.down.offset||\"0px\"}):(b.setStyle({bounce:\"vertical\"}),b.setBounce({position:{top:2*c+\"px\"},changeoffset:{top:c+\"px\"}}))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className=\"mui-pull-bottom-pocket \"+d,window.removeEventListener(\"dragup\",this)},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(d),this.pullCaption.className=f+\" \"+g,this.pullCaption.innerHTML=this.options.up.contentdown,b.addEventListener(\"plusscrollbottom\",this),window.addEventListener(\"dragup\",this)},scrollTo:function(b,c,d){a.scrollTo(c,d)},scrollToBottom:function(c){a.scrollTo(b.documentElement.scrollHeight,c)},refresh:function(a){a&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1)}},a.PullRefresh));a.fn.pullRefresh_native=function(c){var d;0===this.length?(d=b.createElement(\"div\"),d.className=\"mui-content\",b.body.appendChild(d)):d=this[0];var e=c;c=c||{},\"string\"==typeof c&&(c=a.parseJSON(c)),!c.webviewId&&(c.webviewId=plus.webview.currentWebview().id||plus.webview.currentWebview().getURL());var f=null,g=c.webviewId&&c.webviewId.replace(/\\//g,\"_\"),h=d.getAttribute(\"data-pullrefresh-plus-\"+g);return!(!h&&void 0===e)&&(h?f=a.data[h]:(h=++a.uuid,d.setAttribute(\"data-pullrefresh-plus-\"+g,h),b.body.classList.add(\"mui-plus-pullrefresh\"),a.data[h]=f=new j(d,c)),c.down&&c.down.auto?f.beginPulldown():c.up&&c.up.auto&&f.beginPullup(),f)}}})}(mui,document),function(a,b,c,d){var e=\"mui-off-canvas-left\",f=\"mui-off-canvas-right\",g=\"mui-off-canvas-backdrop\",h=\"mui-off-canvas-wrap\",i=\"mui-slide-in\",j=\"mui-active\",k=\"mui-transitioning\",l=\".mui-inner-wrap\",m=a.Class.extend({init:function(b,d){this.wrapper=this.element=b,this.scroller=this.wrapper.querySelector(l),this.classList=this.wrapper.classList,this.scroller&&(this.options=a.extend(!0,{dragThresholdX:10,scale:.8,opacity:.1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/}},d),c.body.classList.add(\"mui-fullscreen\"),this.refresh(),this.initEvent())},_preventDefaultException:function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},refresh:function(a){this.slideIn=this.classList.contains(i),this.scalable=this.classList.contains(\"mui-scalable\")&&!this.slideIn,this.scroller=this.wrapper.querySelector(l),this.offCanvasLefts=this.wrapper.querySelectorAll(\".\"+e),this.offCanvasRights=this.wrapper.querySelectorAll(\".\"+f),a?a.classList.contains(e)?this.offCanvasLeft=a:a.classList.contains(f)&&(this.offCanvasRight=a):(this.offCanvasRight=this.wrapper.querySelector(\".\"+f),this.offCanvasLeft=this.wrapper.querySelector(\".\"+e)),this.offCanvasRightWidth=this.offCanvasLeftWidth=0,this.offCanvasLeftSlideIn=this.offCanvasRightSlideIn=!1,this.offCanvasRight&&(this.offCanvasRightWidth=this.offCanvasRight.offsetWidth,this.offCanvasRightSlideIn=this.slideIn&&this.offCanvasRight.parentNode===this.wrapper),this.offCanvasLeft&&(this.offCanvasLeftWidth=this.offCanvasLeft.offsetWidth,this.offCanvasLeftSlideIn=this.slideIn&&this.offCanvasLeft.parentNode===this.wrapper),this.backdrop=this.scroller.querySelector(\".\"+g),this.options.dragThresholdX=this.options.dragThresholdX||10,this.visible=!1,this.startX=null,this.lastX=null,this.offsetX=null,this.lastTranslateX=null},handleEvent:function(b){switch(b.type){case a.EVENT_START:b.target&&!this._preventDefaultException(b.target,this.options.preventDefaultException)&&b.preventDefault();break;case\"webkitTransitionEnd\":b.target===this.scroller&&this._dispatchEvent();break;case\"drag\":var c=b.detail;this.startX?this.lastX=c.center.x:(this.startX=c.center.x,this.lastX=this.startX),!this.isDragging&&Math.abs(this.lastX-this.startX)>this.options.dragThresholdX&&(\"left\"===c.direction||\"right\"===c.direction)&&(this.slideIn?(this.scroller=this.wrapper.querySelector(l),this.classList.contains(j)?this.offCanvasRight&&this.offCanvasRight.classList.contains(j)?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):\"left\"===c.direction&&this.offCanvasRight?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):\"right\"===c.direction&&this.offCanvasLeft?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):this.scroller=null):this.classList.contains(j)?\"left\"===c.direction?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):\"right\"===c.direction?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth),this.offCanvas&&this.scroller&&(this.startX=this.lastX,this.isDragging=!0,a.gestures.session.lockDirection=!0,a.gestures.session.startDirection=c.direction,this.offCanvas.classList.remove(k),this.scroller.classList.remove(k),this.offsetX=this.getTranslateX(),this._initOffCanvasVisible())),this.isDragging&&(this.updateTranslate(this.offsetX+(this.lastX-this.startX)),c.gesture.preventDefault(),b.stopPropagation());break;case\"dragend\":if(this.isDragging){var c=b.detail,d=c.direction;this.isDragging=!1,this.offCanvas.classList.add(k),this.scroller.classList.add(k);var e=0,f=this.getTranslateX();if(this.slideIn){if(e=f>=0?this.offCanvasRightWidth&&f/this.offCanvasRightWidth||0:this.offCanvasLeftWidth&&f/this.offCanvasLeftWidth||0,\"right\"===d&&e<=0&&(e>=-.5||c.swipe)?this.openPercentage(100):\"right\"===d&&e>0&&(e>=.5||c.swipe)?this.openPercentage(0):\"right\"===d&&e<=-.5?this.openPercentage(0):\"right\"===d&&e>0&&e<=.5?this.openPercentage(-100):\"left\"===d&&e>=0&&(e<=.5||c.swipe)?this.openPercentage(-100):\"left\"===d&&e<0&&(e<=-.5||c.swipe)?this.openPercentage(0):\"left\"===d&&e>=.5?this.openPercentage(0):\"left\"===d&&e>=-.5&&e<0?this.openPercentage(100):this.openPercentage(0),1===e||-1===e||0===e)return void this._dispatchEvent()}else{if(0===(e=f>=0?this.offCanvasLeftWidth&&f/this.offCanvasLeftWidth||0:this.offCanvasRightWidth&&f/this.offCanvasRightWidth||0))return this.openPercentage(0),void this._dispatchEvent();\"right\"===d&&e>=0&&(e>=.5||c.swipe)?this.openPercentage(100):\"right\"===d&&e<0&&(e>-.5||c.swipe)?this.openPercentage(0):\"right\"===d&&e>0&&e<.5?this.openPercentage(0):\"right\"===d&&e<.5?this.openPercentage(-100):\"left\"===d&&e<=0&&(e<=-.5||c.swipe)?this.openPercentage(-100):\"left\"===d&&e>0&&(e<=.5||c.swipe)?this.openPercentage(0):\"left\"===d&&e<0&&e>=-.5?this.openPercentage(0):\"left\"===d&&e>.5?this.openPercentage(100):this.openPercentage(0),1!==e&&-1!==e||this._dispatchEvent()}}}},_dispatchEvent:function(){this.classList.contains(j)?a.trigger(this.wrapper,\"shown\",this):a.trigger(this.wrapper,\"hidden\",this)},_initOffCanvasVisible:function(){this.visible||(this.visible=!0,this.offCanvasLeft&&(this.offCanvasLeft.style.visibility=\"visible\"),this.offCanvasRight&&(this.offCanvasRight.style.visibility=\"visible\"))},initEvent:function(){var b=this;b.backdrop&&b.backdrop.addEventListener(\"tap\",function(a){b.close(),a.detail.gesture.preventDefault()}),this.classList.contains(\"mui-draggable\")&&(this.wrapper.addEventListener(a.EVENT_START,this),this.wrapper.addEventListener(\"drag\",this),this.wrapper.addEventListener(\"dragend\",this)),this.wrapper.addEventListener(\"webkitTransitionEnd\",this)},openPercentage:function(a){var b=a/100;this.slideIn?(this.offCanvasLeft&&a>=0?(b=0===b?-1:0,this.updateTranslate(this.offCanvasLeftWidth*b),this.offCanvasLeft.classList[0!==a?\"add\":\"remove\"](j)):this.offCanvasRight&&a<=0&&(b=0===b?1:0,this.updateTranslate(this.offCanvasRightWidth*b),this.offCanvasRight.classList[0!==a?\"add\":\"remove\"](j)),this.classList[0!==a?\"add\":\"remove\"](j)):(this.offCanvasLeft&&a>=0?(this.updateTranslate(this.offCanvasLeftWidth*b),this.offCanvasLeft.classList[0!==b?\"add\":\"remove\"](j)):this.offCanvasRight&&a<=0&&(this.updateTranslate(this.offCanvasRightWidth*b),this.offCanvasRight.classList[0!==b?\"add\":\"remove\"](j)),this.classList[0!==b?\"add\":\"remove\"](j))},updateTranslate:function(b){if(b!==this.lastTranslateX){if(this.slideIn){if(this.offCanvas.classList.contains(f)){if(b<0)return void this.setTranslateX(0);if(b>this.offCanvasRightWidth)return void this.setTranslateX(this.offCanvasRightWidth)}else{if(b>0)return void this.setTranslateX(0);if(b<-this.offCanvasLeftWidth)return void this.setTranslateX(-this.offCanvasLeftWidth)}this.setTranslateX(b)}else{if(!this.offCanvasLeft&&b>0||!this.offCanvasRight&&b<0)return void this.setTranslateX(0);if(this.leftShowing&&b>this.offCanvasLeftWidth)return void this.setTranslateX(this.offCanvasLeftWidth);if(this.rightShowing&&b<-this.offCanvasRightWidth)return void this.setTranslateX(-this.offCanvasRightWidth);this.setTranslateX(b),b>=0?(this.leftShowing=!0,this.rightShowing=!1,b>0&&(this.offCanvasLeft&&a.each(this.offCanvasLefts,function(a,b){b===this.offCanvasLeft?this.offCanvasLeft.style.zIndex=0:b.style.zIndex=-1}.bind(this)),this.offCanvasRight&&(this.offCanvasRight.style.zIndex=-1))):(this.rightShowing=!0,this.leftShowing=!1,this.offCanvasRight&&a.each(this.offCanvasRights,function(a,b){b===this.offCanvasRight?b.style.zIndex=0:b.style.zIndex=-1}.bind(this)),this.offCanvasLeft&&(this.offCanvasLeft.style.zIndex=-1))}this.lastTranslateX=b}},setTranslateX:a.animationFrame(function(a){if(this.scroller)if(this.scalable&&this.offCanvas.parentNode===this.wrapper){var b=Math.abs(a)/this.offCanvasWidth,c=1-(1-this.options.scale)*b,d=this.options.scale+(1-this.options.scale)*b,f=(this.options.opacity,this.options.opacity+(1-this.options.opacity)*b);this.offCanvas.classList.contains(e)?(this.offCanvas.style.webkitTransformOrigin=\"-100%\",this.scroller.style.webkitTransformOrigin=\"left\"):(this.offCanvas.style.webkitTransformOrigin=\"200%\",this.scroller.style.webkitTransformOrigin=\"right\"),this.offCanvas.style.opacity=f,this.offCanvas.style.webkitTransform=\"translate3d(0,0,0) scale(\"+d+\")\",this.scroller.style.webkitTransform=\"translate3d(\"+a+\"px,0,0) scale(\"+c+\")\"}else this.slideIn?this.offCanvas.style.webkitTransform=\"translate3d(\"+a+\"px,0,0)\":this.scroller.style.webkitTransform=\"translate3d(\"+a+\"px,0,0)\"}),getTranslateX:function(){if(this.offCanvas){var b=this.slideIn?this.offCanvas:this.scroller,c=a.parseTranslateMatrix(a.getStyles(b,\"webkitTransform\"));return c&&c.x||0}return 0},isShown:function(a){var b=!1;if(this.slideIn)b=\"left\"===a?this.classList.contains(j)&&this.wrapper.querySelector(\".\"+e+\".\"+j):\"right\"===a?this.classList.contains(j)&&this.wrapper.querySelector(\".\"+f+\".\"+j):this.classList.contains(j)&&(this.wrapper.querySelector(\".\"+e+\".\"+j)||this.wrapper.querySelector(\".\"+f+\".\"+j));else{var c=this.getTranslateX();b=\"right\"===a?this.classList.contains(j)&&c<0:\"left\"===a?this.classList.contains(j)&&c>0:this.classList.contains(j)&&0!==c}return b},close:function(){this._initOffCanvasVisible(),this.offCanvas=this.wrapper.querySelector(\".\"+f+\".\"+j)||this.wrapper.querySelector(\".\"+e+\".\"+j),this.offCanvasWidth=this.offCanvas.offsetWidth,this.scroller&&(this.offCanvas.offsetHeight,this.offCanvas.classList.add(k),this.scroller.classList.add(k),this.openPercentage(0))},show:function(a){return this._initOffCanvasVisible(),!this.isShown(a)&&(a||(a=this.wrapper.querySelector(\".\"+f)?\"right\":\"left\"),\"right\"===a?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth),this.scroller&&(this.offCanvas.offsetHeight,this.offCanvas.classList.add(k),this.scroller.classList.add(k),this.openPercentage(\"left\"===a?100:-100)),!0)},toggle:function(a){var b=a;a&&a.classList&&(b=a.classList.contains(e)?\"left\":\"right\",this.refresh(a)),this.show(b)||this.close()}}),n=function(a){if(parentNode=a.parentNode,parentNode){if(parentNode.classList.contains(h))return parentNode;if(parentNode=parentNode.parentNode,parentNode.classList.contains(h))return parentNode}},o=function(b,d){if(\"A\"===d.tagName&&d.hash){var e=c.getElementById(d.hash.replace(\"#\",\"\"));if(e){var f=n(e);if(f)return a.targets._container=f,e}}return!1};a.registerTarget({name:d,index:60,handle:o,target:!1,isReset:!1,isContinue:!0}),b.addEventListener(\"tap\",function(b){if(a.targets.offcanvas)for(var d=b.target;d&&d!==c;d=d.parentNode)if(\"A\"===d.tagName&&d.hash&&d.hash===\"#\"+a.targets.offcanvas.id){b.detail&&b.detail.gesture&&b.detail.gesture.preventDefault(),a(a.targets._container).offCanvas().toggle(a.targets.offcanvas),a.targets.offcanvas=a.targets._container=null;break}}),a.fn.offCanvas=function(b){var c=[];return this.each(function(){var d=null,e=this;e.classList.contains(h)||(e=n(e));var f=e.getAttribute(\"data-offCanvas\");f?d=a.data[f]:(f=++a.uuid,a.data[f]=d=new m(e,b),e.setAttribute(\"data-offCanvas\",f)),\"show\"!==b&&\"close\"!==b&&\"toggle\"!==b||d.toggle(),c.push(d)}),1===c.length?c[0]:c},a.ready(function(){a(\".mui-off-canvas-wrap\").offCanvas()})}(mui,window,document,\"offcanvas\"),function(a,b){var c=\"mui-action\",d=function(a,b){var d=b.className||\"\";return\"string\"!=typeof d&&(d=\"\"),!(!d||!~d.indexOf(c))&&(b.classList.contains(\"mui-action-back\")&&a.preventDefault(),b)};a.registerTarget({name:b,index:50,handle:d,target:!1,isContinue:!0})}(mui,\"action\"),function(a,b,c,d){var e=\"mui-modal\",f=function(a,b){if(\"A\"===b.tagName&&b.hash){var d=c.getElementById(b.hash.replace(\"#\",\"\"));if(d&&d.classList.contains(e))return d}return!1};a.registerTarget({name:d,index:50,handle:f,target:!1,isReset:!1,isContinue:!0}),b.addEventListener(\"tap\",function(b){a.targets.modal&&(b.detail.gesture.preventDefault(),a.targets.modal.classList.toggle(\"mui-active\"))})}(mui,window,document,\"modal\"),function(a,b,c,d){var e=\"mui-popover\",f=\"mui-popover-arrow\",g=\"mui-popover-action\",h=\"mui-backdrop\",i=\"mui-bar-popover\",j=\"mui-bar-backdrop\",k=\"mui-backdrop-action\",l=\"mui-active\",m=\"mui-bottom\",n=function(b,d){if(\"A\"===d.tagName&&d.hash){if(a.targets._popover=c.getElementById(d.hash.replace(\"#\",\"\")),a.targets._popover&&a.targets._popover.classList.contains(e))return d;a.targets._popover=null}return!1};a.registerTarget({name:d,index:60,handle:n,target:!1,isReset:!1,isContinue:!0});var o,p=function(b){this.removeEventListener(\"webkitTransitionEnd\",p),this.addEventListener(a.EVENT_MOVE,a.preventDefault),a.trigger(this,\"shown\",this)},q=function(b){u(this,\"none\"),this.removeEventListener(\"webkitTransitionEnd\",q),this.removeEventListener(a.EVENT_MOVE,a.preventDefault),a.trigger(this,\"hidden\",this)},r=function(){var b=c.createElement(\"div\");return b.classList.add(h),b.addEventListener(a.EVENT_MOVE,a.preventDefault),b.addEventListener(\"tap\",function(b){var c=a.targets._popover;c&&(c.addEventListener(\"webkitTransitionEnd\",q),c.classList.remove(l),s(c))}),b}(),s=function(b){r.setAttribute(\"style\",\"opacity:0\"),a.targets.popover=a.targets._popover=null,o=a.later(function(){!b.classList.contains(l)&&r.parentNode&&r.parentNode===c.body&&c.body.removeChild(r)},350)};b.addEventListener(\"tap\",function(b){if(a.targets.popover){for(var d=!1,e=b.target;e&&e!==c;e=e.parentNode)e===a.targets.popover&&(d=!0);d&&(b.detail.gesture.preventDefault(),t(a.targets._popover,a.targets.popover))}});var t=function(a,b,d){if(!(\"show\"===d&&a.classList.contains(l)||\"hide\"===d&&!a.classList.contains(l))){o&&o.cancel(),a.removeEventListener(\"webkitTransitionEnd\",p),a.removeEventListener(\"webkitTransitionEnd\",q),r.classList.remove(j),r.classList.remove(k);var e=c.querySelector(\".mui-popover.mui-active\");if(e&&(e.addEventListener(\"webkitTransitionEnd\",q),e.classList.remove(l),a===e))return void s(e);var f=!1;(a.classList.contains(i)||a.classList.contains(g))&&(a.classList.contains(g)?(f=!0,r.classList.add(k)):r.classList.add(j)),u(a,\"block\"),a.offsetHeight,a.classList.add(l),r.setAttribute(\"style\",\"\"),c.body.appendChild(r),v(a,b,f),r.classList.add(l),a.addEventListener(\"webkitTransitionEnd\",p)}},u=function(a,b,c,d){var e=a.style;void 0!==b&&(e.display=b),void 0!==c&&(e.top=c+\"px\"),void 0!==d&&(e.left=d+\"px\")},v=function(d,e,h){if(d&&e){if(h)return void u(d,\"block\");var i=b.innerWidth,j=b.innerHeight,k=d.offsetWidth,l=d.offsetHeight,n=e.offsetWidth,o=e.offsetHeight,p=a.offset(e),q=d.querySelector(\".\"+f);q||(q=c.createElement(\"div\"),q.className=f,d.appendChild(q));var r=q&&q.offsetWidth/2||0,s=0,t=0,v=0,w=0,x=d.classList.contains(g)?0:5,y=\"top\";l+r<p.top-b.pageYOffset?s=p.top-l-r:l+r<j-(p.top-b.pageYOffset)-o?(y=\"bottom\",s=p.top+o+r):(y=\"middle\",s=Math.max((j-l)/2+b.pageYOffset,0),t=Math.max((i-k)/2+b.pageXOffset,0)),\"top\"===y||\"bottom\"===y?(t=n/2+p.left-k/2,v=t,t<x&&(t=x),t+k>i&&(t=i-k-x),q&&(\"top\"===y?q.classList.add(m):q.classList.remove(m),v-=t,w=k/2-r/2+v,w=Math.max(Math.min(w,k-2*r-6),6),q.setAttribute(\"style\",\"left:\"+w+\"px\"))):\"middle\"===y&&q.setAttribute(\"style\",\"display:none\"),u(d,\"block\",s,t)}};a.createMask=function(b){var d=c.createElement(\"div\");d.classList.add(h),d.addEventListener(a.EVENT_MOVE,a.preventDefault),d.addEventListener(\"tap\",function(){e.close()});var e=[d];return e._show=!1,e.show=function(){return e._show=!0,d.setAttribute(\"style\",\"opacity:1\"),c.body.appendChild(d),e},e._remove=function(){return e._show&&(e._show=!1,d.setAttribute(\"style\",\"opacity:0\"),a.later(function(){var a=c.body;d.parentNode===a&&a.removeChild(d)},350)),e},e.close=function(){b?!1!==b()&&e._remove():e._remove()},e},a.fn.popover=function(){var b=arguments;this.each(function(){a.targets._popover=this,\"show\"!==b[0]&&\"hide\"!==b[0]&&\"toggle\"!==b[0]||t(this,b[1],b[0])})}}(mui,window,document,\"popover\"),function(a,b,c,d,e){var f=\"mui-control-item\",g=\"mui-segmented-control-vertical\",h=\"mui-control-content\",i=\"mui-tab-item\",j=function(a,b){return!(!b.classList||!b.classList.contains(f)&&!b.classList.contains(i))&&(b.parentNode&&b.parentNode.classList&&b.parentNode.classList.contains(g)||a.preventDefault(),b)};a.registerTarget({name:d,index:80,handle:j,target:!1}),b.addEventListener(\"tap\",function(b){var e=a.targets.tab;if(e){for(var g,j,k,l=\"mui-active\",m=\".\"+l,n=e.parentNode;n&&n!==c;n=n.parentNode){if(n.classList.contains(\"mui-segmented-control\")){g=n.querySelector(m+\".\"+f);break}n.classList.contains(\"mui-bar-tab\")&&(g=n.querySelector(m+\".\"+i))}g&&g.classList.remove(l);var o=e===g;if(e&&e.classList.add(l),e.hash&&(k=c.getElementById(e.hash.replace(\"#\",\"\")))){if(!k.classList.contains(h))return void e.classList[o?\"remove\":\"add\"](l);if(!o){var p=k.parentNode;j=p.querySelectorAll(\".\"+h+m);for(var q=0;q<j.length;q++){var r=j[q];r.parentNode===p&&r.classList.remove(l)}k.classList.add(l);for(var s=[],t=p.querySelectorAll(\".\"+h),q=0;q<t.length;q++)t[q].parentNode===p&&s.push(t[q]);a.trigger(k,a.eventName(\"shown\",d),{tabNumber:Array.prototype.indexOf.call(s,k)}),b.detail&&b.detail.gesture.preventDefault()}}}})}(mui,window,document,\"tab\"),function(a,b,c){var d=\"mui-switch\",e=\"mui-switch-handle\",f=\"mui-active\",g=\"mui-dragging\",h=\"mui-disabled\",i=\".\"+e,j=function(a,b){return!(!b.classList||!b.classList.contains(d))&&b};a.registerTarget({name:c,index:100,handle:j,target:!1});var k=function(a){this.element=a,this.classList=this.element.classList,this.handle=this.element.querySelector(i),this.init(),this.initEvent()};k.prototype.init=function(){this.toggleWidth=this.element.offsetWidth,this.handleWidth=this.handle.offsetWidth,this.handleX=this.toggleWidth-this.handleWidth-3},k.prototype.initEvent=function(){this.element.addEventListener(a.EVENT_START,this),this.element.addEventListener(\"drag\",this),this.element.addEventListener(\"swiperight\",this),this.element.addEventListener(a.EVENT_END,this),this.element.addEventListener(a.EVENT_CANCEL,this)},k.prototype.handleEvent=function(b){if(!this.classList.contains(h))switch(b.type){case a.EVENT_START:this.start(b);break;case\"drag\":this.drag(b);break;case\"swiperight\":this.swiperight();break;case a.EVENT_END:case a.EVENT_CANCEL:this.end(b)}},k.prototype.start=function(a){this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=\".2s\",this.classList.add(g),0!==this.toggleWidth&&0!==this.handleWidth||this.init()},k.prototype.drag=function(a){var b=a.detail;this.isDragging||\"left\"!==b.direction&&\"right\"!==b.direction||(this.isDragging=!0,this.lastChanged=void 0,this.initialState=this.classList.contains(f)),this.isDragging&&(this.setTranslateX(b.deltaX),a.stopPropagation(),b.gesture.preventDefault())},k.prototype.swiperight=function(a){this.isDragging&&a.stopPropagation()},k.prototype.end=function(b){this.classList.remove(g),this.isDragging?(this.isDragging=!1,b.stopPropagation(),a.trigger(this.element,\"toggle\",{isActive:this.classList.contains(f)})):this.toggle()},k.prototype.toggle=function(b){var c=this.classList;this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=!1===b?\"0s\":\".2s\",c.contains(f)?(c.remove(f),this.handle.style.webkitTransform=\"translate(0,0)\"):(c.add(f),this.handle.style.webkitTransform=\"translate(\"+this.handleX+\"px,0)\"),a.trigger(this.element,\"toggle\",{isActive:this.classList.contains(f)})},k.prototype.setTranslateX=a.animationFrame(function(a){if(this.isDragging){var b=!1;(this.initialState&&-a>this.handleX/2||!this.initialState&&a>this.handleX/2)&&(b=!0),this.lastChanged!==b&&(b?(this.handle.style.webkitTransform=\"translate(\"+(this.initialState?0:this.handleX)+\"px,0)\",this.classList[this.initialState?\"remove\":\"add\"](f)):(this.handle.style.webkitTransform=\"translate(\"+(this.initialState?this.handleX:0)+\"px,0)\",this.classList[this.initialState?\"add\":\"remove\"](f)),this.lastChanged=b)}}),a.fn.switch=function(b){var c=[];return this.each(function(){var b=null,d=this.getAttribute(\"data-switch\");d?b=a.data[d]:(d=++a.uuid,a.data[d]=new k(this),this.setAttribute(\"data-switch\",d)),c.push(b)}),c.length>1?c:c[0]},a.ready(function(){a(\".\"+d).switch()})}(mui,window,\"toggle\"),function(a,b,c){function d(a,b){var c=b?\"removeEventListener\":\"addEventListener\";a[c](\"drag\",F),a[c](\"dragend\",F),a[c](\"swiperight\",F),a[c](\"swipeleft\",F),a[c](\"flick\",F)}var e,f,g=\"mui-active\",h=\"mui-selected\",i=\"mui-grid-view\",j=\"mui-table-view-radio\",k=\"mui-table-view-cell\",l=\"mui-collapse-content\",m=\"mui-disabled\",n=\"mui-switch\",o=\"mui-btn\",p=\"mui-slider-handle\",q=\"mui-slider-left\",r=\"mui-slider-right\",s=\"mui-transitioning\",t=\".\"+p,u=\".\"+q,v=\".\"+r,w=\".\"+h,x=\".\"+o,y=.8,z=isOpened=openedActions=progress=!1,A=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,B=translateX=lastTranslateX=sliderActionLeftWidth=sliderActionRightWidth=0,C=function(a){a?f?f.classList.add(g):e&&e.classList.add(g):(B&&B.cancel(),f?f.classList.remove(g):e&&e.classList.remove(g))},D=function(){if(translateX!==lastTranslateX){if(buttonsRight&&buttonsRight.length>0){progress=translateX/sliderActionRightWidth,translateX<-sliderActionRightWidth&&(translateX=-sliderActionRightWidth-Math.pow(-translateX-sliderActionRightWidth,y));for(var a=0,b=buttonsRight.length;a<b;a++){var c=buttonsRight[a];void 0===c._buttonOffset&&(c._buttonOffset=c.offsetLeft),buttonOffset=c._buttonOffset,E(c,translateX-buttonOffset*(1+Math.max(progress,-1)))}}if(buttonsLeft&&buttonsLeft.length>0){progress=translateX/sliderActionLeftWidth,translateX>sliderActionLeftWidth&&(translateX=sliderActionLeftWidth+Math.pow(translateX-sliderActionLeftWidth,y));for(var a=0,b=buttonsLeft.length;a<b;a++){var d=buttonsLeft[a];void 0===d._buttonOffset&&(d._buttonOffset=sliderActionLeftWidth-d.offsetLeft-d.offsetWidth),buttonOffset=d._buttonOffset,buttonsLeft.length>1&&(d.style.zIndex=buttonsLeft.length-a),E(d,translateX+buttonOffset*(1-Math.min(progress,1)))}}E(A,translateX),lastTranslateX=translateX}sliderRequestAnimationFrame=requestAnimationFrame(function(){D()})},E=function(a,b){a&&(a.style.webkitTransform=\"translate(\"+b+\"px,0)\")};b.addEventListener(a.EVENT_START,function(b){e&&C(!1),e=f=!1,z=isOpened=openedActions=!1;for(var g=b.target,h=!1;g&&g!==c;g=g.parentNode)if(g.classList){var p=g.classList;if((\"INPUT\"===g.tagName&&\"radio\"!==g.type&&\"checkbox\"!==g.type||\"BUTTON\"===g.tagName||p.contains(n)||p.contains(o)||p.contains(m))&&(h=!0),p.contains(l))break;if(p.contains(k)){e=g;var q=e.parentNode.querySelector(w);if(!e.parentNode.classList.contains(j)&&q&&q!==e)return a.swipeoutClose(q),void(e=h=!1);if(!e.parentNode.classList.contains(i)){var r=e.querySelector(\"a\");r&&r.parentNode===e&&(f=r)}var s=e.querySelector(t);s&&(d(e),b.stopPropagation()),h||(s?(B&&B.cancel(),B=a.later(function(){C(!0)},100)):C(!0));break}}}),b.addEventListener(a.EVENT_MOVE,function(a){C(!1)});var F={handleEvent:function(a){switch(a.type){case\"drag\":this.drag(a);break;case\"dragend\":this.dragend(a);break;case\"flick\":this.flick(a);break;case\"swiperight\":this.swiperight(a);break;case\"swipeleft\":this.swipeleft(a)}},drag:function(a){if(e){z||(A=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,(A=e.querySelector(t))&&(sliderActionLeft=e.querySelector(u),sliderActionRight=e.querySelector(v),sliderActionLeft&&(sliderActionLeftWidth=sliderActionLeft.offsetWidth,buttonsLeft=sliderActionLeft.querySelectorAll(x)),sliderActionRight&&(sliderActionRightWidth=sliderActionRight.offsetWidth,buttonsRight=sliderActionRight.querySelectorAll(x)),e.classList.remove(s),isOpened=e.classList.contains(h),isOpened&&(openedActions=e.querySelector(u+w)?\"left\":\"right\")));var b=a.detail,c=b.direction,d=b.angle;if(\"left\"===c&&(d>150||d<-150)?(buttonsRight||buttonsLeft&&isOpened)&&(z=!0):\"right\"===c&&d>-30&&d<30&&(buttonsLeft||buttonsRight&&isOpened)&&(z=!0),z){a.stopPropagation(),a.detail.gesture.preventDefault();var f=a.detail.deltaX;if(isOpened&&(\"right\"===openedActions?f-=sliderActionRightWidth:f+=sliderActionLeftWidth),f>0&&!buttonsLeft||f<0&&!buttonsRight){if(!isOpened)return;f=0}f<0?sliderDirection=\"toLeft\":f>0?sliderDirection=\"toRight\":sliderDirection||(sliderDirection=\"toLeft\"),sliderRequestAnimationFrame||D(),translateX=f}}},flick:function(a){z&&a.stopPropagation()},swipeleft:function(a){z&&a.stopPropagation()},swiperight:function(a){z&&a.stopPropagation()},dragend:function(b){if(z){b.stopPropagation(),sliderRequestAnimationFrame&&(cancelAnimationFrame(sliderRequestAnimationFrame),sliderRequestAnimationFrame=null);var c=b.detail;z=!1;var d=\"close\",f=\"toLeft\"===sliderDirection?sliderActionRightWidth:sliderActionLeftWidth;(c.swipe||Math.abs(translateX)>f/2)&&(isOpened?\"left\"===c.direction&&\"right\"===openedActions?d=\"open\":\"right\"===c.direction&&\"left\"===openedActions&&(d=\"open\"):d=\"open\"),e.classList.add(s);var g;if(\"open\"===d){var i=\"toLeft\"===sliderDirection?-f:f;if(E(A,i),void 0!==(g=\"toLeft\"===sliderDirection?buttonsRight:buttonsLeft)){for(var j=null,k=0;k<g.length;k++)j=g[k],E(j,i);j.parentNode.classList.add(h),e.classList.add(h),isOpened||a.trigger(e,\"toLeft\"===sliderDirection?\"slideleft\":\"slideright\")}}else E(A,0),sliderActionLeft&&sliderActionLeft.classList.remove(h),sliderActionRight&&sliderActionRight.classList.remove(h),e.classList.remove(h);var l;if(buttonsLeft&&buttonsLeft.length>0&&buttonsLeft!==g)for(var k=0,m=buttonsLeft.length;k<m;k++){var n=buttonsLeft[k];l=n._buttonOffset,void 0===l&&(n._buttonOffset=sliderActionLeftWidth-n.offsetLeft-n.offsetWidth),E(n,l)}if(buttonsRight&&buttonsRight.length>0&&buttonsRight!==g)for(var k=0,m=buttonsRight.length;k<m;k++){var o=buttonsRight[k];l=o._buttonOffset,void 0===l&&(o._buttonOffset=o.offsetLeft),E(o,-l)}}}};a.swipeoutOpen=function(b,c){if(b){var d=b.classList;if(!d.contains(h)){c||(c=b.querySelector(v)?\"right\":\"left\");var e=b.querySelector(a.classSelector(\".slider-\"+c));if(e){e.classList.add(h),d.add(h),d.remove(s);for(var f,g=e.querySelectorAll(x),i=e.offsetWidth,j=\"right\"===c?-i:i,k=g.length,l=0;l<k;l++)f=g[l],\"right\"===c?E(f,-f.offsetLeft):E(f,i-f.offsetWidth-f.offsetLeft);d.add(s);for(var l=0;l<k;l++)E(g[l],j);E(b.querySelector(t),j)}}}},a.swipeoutClose=function(b){if(b){var c=b.classList;if(c.contains(h)){var d=b.querySelector(v+w)?\"right\":\"left\",e=b.querySelector(a.classSelector(\".slider-\"+d));if(e){e.classList.remove(h),c.remove(h),c.add(s);var f,g=e.querySelectorAll(x),i=e.offsetWidth,j=g.length;E(b.querySelector(t),0);for(var k=0;k<j;k++)f=g[k],\"right\"===d?E(f,-f.offsetLeft):E(f,i-f.offsetWidth-f.offsetLeft)}}}},b.addEventListener(a.EVENT_END,function(a){e&&(C(!1),A&&d(e,!0))}),b.addEventListener(a.EVENT_CANCEL,function(a){e&&(C(!1),A&&d(e,!0))});var G=function(b){var c=b.target&&b.target.type||\"\";if(\"radio\"!==c&&\"checkbox\"!==c){var d=e.classList;if(d.contains(\"mui-radio\")){var f=e.querySelector(\"input[type=radio]\");f&&(f.disabled||f.readOnly||(f.checked=!f.checked,a.trigger(f,\"change\")))}else if(d.contains(\"mui-checkbox\")){var f=e.querySelector(\"input[type=checkbox]\");f&&(f.disabled||f.readOnly||(f.checked=!f.checked,a.trigger(f,\"change\")))}}};b.addEventListener(a.EVENT_CLICK,function(a){e&&e.classList.contains(\"mui-collapse\")&&a.preventDefault()}),b.addEventListener(\"doubletap\",function(a){e&&G(a)});var H=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;b.addEventListener(\"tap\",function(b){if(e){var c=!1,d=e.classList,f=e.parentNode;if(f&&f.classList.contains(j)){if(d.contains(h))return;var i=f.querySelector(\"li\"+w);return i&&i.classList.remove(h),d.add(h),void a.trigger(e,\"selected\",{el:e})}if(d.contains(\"mui-collapse\")&&!e.parentNode.classList.contains(\"mui-unfold\")){if(H.test(b.target.tagName)||b.detail.gesture.preventDefault(),!d.contains(g)){var k=e.parentNode.querySelector(\".mui-collapse.mui-active\");k&&k.classList.remove(g),c=!0}d.toggle(g),c&&a.trigger(e,\"expand\")}else G(b)}})}(mui,window,document),function(a,b){a.alert=function(c,d,e,f){if(a.os.plus){if(void 0===c)return;\"function\"==typeof d?(f=d,d=null,e=\"确定\"):\"function\"==typeof e&&(f=e,e=null),a.plusReady(function(){plus.nativeUI.alert(c,f,d,e)})}else b.alert(c)}}(mui,window),function(a,b){a.confirm=function(c,d,e,f){if(a.os.plus){if(void 0===c)return;\"function\"==typeof d?(f=d,d=null,e=null):\"function\"==typeof e&&(f=e,e=null),a.plusReady(function(){plus.nativeUI.confirm(c,f,d,e)})}else f(b.confirm(c)?{index:0}:{index:1})}}(mui,window),function(a,b){a.prompt=function(c,d,e,f,g){if(a.os.plus){if(\"undefined\"==typeof message)return;\"function\"==typeof d?(g=d,d=null,e=null,f=null):\"function\"==typeof e?(g=e,e=null,f=null):\"function\"==typeof f&&(g=f,f=null),a.plusReady(function(){plus.nativeUI.prompt(c,g,e,d,f)})}else{var h=b.prompt(c);g(h?{index:0,value:h}:{index:1,value:\"\"})}}}(mui,window),function(a,b){var c=\"mui-active\";a.toast=function(b,d){var e={long:3500,short:2e3};if(d=a.extend({duration:\"short\"},d||{}),!a.os.plus||\"div\"===d.type){\"number\"==typeof d.duration?duration=d.duration>0?d.duration:e.short:duration=e[d.duration],duration||(duration=e.short);var f=document.createElement(\"div\");return f.classList.add(\"mui-toast-container\"),f.innerHTML='<div class=\"mui-toast-message\">'+b+\"</div>\",f.addEventListener(\"webkitTransitionEnd\",function(){f.classList.contains(c)||(f.parentNode.removeChild(f),f=null)}),f.addEventListener(\"click\",function(){f.parentNode.removeChild(f),f=null}),document.body.appendChild(f),f.offsetHeight,f.classList.add(c),setTimeout(function(){f&&f.classList.remove(c)},duration),{isVisible:function(){return!!f}}}a.plusReady(function(){plus.nativeUI.toast(b,{verticalAlign:\"bottom\",duration:d.duration})})}}(mui,window),function(a,b,c){var d=\"mui-popup\",e=\"mui-popup-backdrop\",f=\"mui-popup-in\",g=\"mui-popup-out\",h=\"mui-popup-inner\",i=\"mui-popup-title\",j=\"mui-popup-text\",k=\"mui-popup-input\",l=\"mui-popup-buttons\",m=\"mui-popup-button\",n=\"mui-popup-button-bold\",e=\"mui-popup-backdrop\",o=\"mui-active\",p=[],q=function(){var b=c.createElement(\"div\");return b.classList.add(e),b.addEventListener(a.EVENT_MOVE,a.preventDefault),b.addEventListener(\"webkitTransitionEnd\",function(){this.classList.contains(o)||b.parentNode&&b.parentNode.removeChild(b)}),b}(),r=function(a){return'<div class=\"'+k+'\"><input type=\"text\" autofocus placeholder=\"'+(a||\"\")+'\"/></div>'},s=function(a,b,c){return'<div class=\"'+h+'\"><div class=\"'+i+'\">'+b+'</div><div class=\"'+j+'\">'+a.replace(/\\r\\n/g,\"<br/>\").replace(/\\n/g,\"<br/>\")+\"</div>\"+(c||\"\")+\"</div>\"},t=function(a){for(var b=a.length,c=[],d=0;d<b;d++)c.push('<span class=\"'+m+(d===b-1?\" \"+n:\"\")+'\">'+a[d]+\"</span>\");return'<div class=\"'+l+'\">'+c.join(\"\")+\"</div>\"},u=function(b,e){var h=c.createElement(\"div\");h.className=d,h.innerHTML=b;var i=function(){h.parentNode&&h.parentNode.removeChild(h),h=null};h.addEventListener(a.EVENT_MOVE,a.preventDefault),h.addEventListener(\"webkitTransitionEnd\",function(a){h&&a.target===h&&h.classList.contains(g)&&i()}),h.style.display=\"block\",c.body.appendChild(h),h.offsetHeight,h.classList.add(f),q.classList.contains(o)||(q.style.display=\"block\",c.body.appendChild(q),q.offsetHeight,q.classList.add(o));var j=a.qsa(\".\"+m,h),l=h.querySelector(\".\"+k+\" input\"),n={element:h,close:function(a,b){if(h){if(!1===(e&&e({index:a||0,value:l&&l.value||\"\"})))return;!1!==b?(h.classList.remove(f),h.classList.add(g)):i(),p.pop(),p.length?p[p.length-1].show(b):q.classList.remove(o)}}},r=function(a){n.close(j.indexOf(a.target))};return a(h).on(\"tap\",\".\"+m,r),p.length&&p[p.length-1].hide(),p.push({close:n.close,show:function(a){h.style.display=\"block\",h.offsetHeight,h.classList.add(f)},hide:function(){h.style.display=\"none\",h.classList.remove(f)}}),n},v=function(b,c,d,e,f){if(void 0!==b)return\"function\"==typeof c?(e=c,f=d,c=null,d=null):\"function\"==typeof d&&(f=e,e=d,d=null),a.os.plus&&\"div\"!==f?plus.nativeUI.alert(b,e,c||\"提示\",d||\"确定\"):u(s(b,c||\"提示\")+t([d||\"确定\"]),e)},w=function(b,c,d,e,f){if(void 0!==b)return\"function\"==typeof c?(e=c,f=d,c=null,d=null):\"function\"==typeof d&&(f=e,e=d,d=null),a.os.plus&&\"div\"!==f?plus.nativeUI.confirm(b,e,c,d||[\"取消\",\"确认\"]):u(s(b,c||\"提示\")+t(d||[\"取消\",\"确认\"]),e)},x=function(b,c,d,e,f,g){if(void 0!==b)return\"function\"==typeof c?(f=c,g=d,c=null,d=null,e=null):\"function\"==typeof d?(f=d,g=e,d=null,e=null):\"function\"==typeof e&&(g=f,f=e,e=null),a.os.plus&&\"div\"!==g?plus.nativeUI.prompt(b,f,d||\"提示\",c,e||[\"取消\",\"确认\"]):u(s(b,d||\"提示\",r(c))+t(e||[\"取消\",\"确认\"]),f)},y=function(){return!!p.length&&(p[p.length-1].close(),!0)},z=function(){for(;p.length;)p[p.length-1].close()};a.closePopup=y,a.closePopups=z,a.alert=v,a.confirm=w,a.prompt=x}(mui,window,document),function(a,b){var c=\"mui-progressbar\",d=\"mui-progressbar-in\",e=\"mui-progressbar-out\",f=\"mui-progressbar-infinite\",g=\".mui-progressbar\",h=function(b){if(b=a(b||\"body\"),0!==b.length){if(b=b[0],b.classList.contains(c))return b;var d=b.querySelectorAll(g);if(d)for(var e=0,f=d.length;e<f;e++){var h=d[e];if(h.parentNode===b)return h}}},i=function(h,i,j){if(\"number\"==typeof h&&(j=i,i=h,h=\"body\"),h=a(h||\"body\"),0!==h.length){h=h[0];var l;if(h.classList.contains(c))l=h;else{var m=h.querySelectorAll(g+\":not(.\"+e+\")\");if(m)for(var n=0,o=m.length;n<o;n++){var p=m[n];if(p.parentNode===h){l=p;break}}l?l.classList.add(d):(l=b.createElement(\"span\"),l.className=c+\" \"+d+(void 0!==i?\"\":\" \"+f)+(j?\" \"+c+\"-\"+j:\"\"),void 0!==i&&(l.innerHTML=\"<span></span>\"),h.appendChild(l))}return i&&k(h,i),l}},j=function(a){var b=h(a);if(b){var c=b.classList;c.contains(d)&&!c.contains(e)&&(c.remove(d),c.add(e),b.addEventListener(\"webkitAnimationEnd\",function(){b.parentNode&&b.parentNode.removeChild(b),b=null}))}},k=function(a,b,c){\"number\"==typeof a&&(c=b,b=a,a=!1);var d=h(a);if(d&&!d.classList.contains(f)){b&&(b=Math.min(Math.max(b,0),100)),d.offsetHeight;var e=d.querySelector(\"span\");if(e){var g=e.style;g.webkitTransform=\"translate3d(\"+(-100+b)+\"%,0,0)\",g.webkitTransitionDuration=void 0!==c?c+\"ms\":\"\"}return d}};a.fn.progressbar=function(a){var b=[];return a=a||{},this.each(function(){var c=this,d=c.mui_plugin_progressbar;d?a&&d.setOptions(a):c.mui_plugin_progressbar=d={options:a,setOptions:function(a){this.options=a},show:function(){return i(c,this.options.progress,this.options.color)},setProgress:function(a){return k(c,a)},hide:function(){return j(c)}},b.push(d)}),1===b.length?b[0]:b}}(mui,document),function(a,b,c){var d=\"mui-icon\",e=\"mui-icon-clear\",f=\"mui-icon-speech\",g=\"mui-icon-eye\",h=\"mui-input-row\",i=\"mui-placeholder\",j=\"mui-tooltip\",k=\"mui-hidden\",l=\"mui-focusin\",m=\".\"+e,n=\".\"+f,o=\".\"+g,p=\".\"+i,q=\".\"+j,r=function(a){for(;a&&a!==c;a=a.parentNode)if(a.classList&&a.classList.contains(h))return a;return null},s=function(a,b){this.element=a,this.options=b||{actions:\"clear\"},~this.options.actions.indexOf(\"slider\")?(this.sliderActionClass=j+\" \"+k,this.sliderActionSelector=q):(~this.options.actions.indexOf(\"clear\")&&(this.clearActionClass=d+\" \"+e+\" \"+k,this.clearActionSelector=m),~this.options.actions.indexOf(\"speech\")&&(this.speechActionClass=d+\" \"+f,this.speechActionSelector=n),~this.options.actions.indexOf(\"search\")&&(this.searchActionClass=i,this.searchActionSelector=p),~this.options.actions.indexOf(\"password\")&&(this.passwordActionClass=d+\" \"+g,this.passwordActionSelector=o)),this.init()};s.prototype.init=function(){this.initAction(),this.initElementEvent()},s.prototype.initAction=function(){var b=this,c=b.element.parentNode;c&&(b.sliderActionClass?b.sliderAction=b.createAction(c,b.sliderActionClass,b.sliderActionSelector):(b.searchActionClass&&(b.searchAction=b.createAction(c,b.searchActionClass,b.searchActionSelector),b.searchAction.addEventListener(\"tap\",function(c){a.focus(b.element),c.stopPropagation()})),b.speechActionClass&&(b.speechAction=b.createAction(c,b.speechActionClass,b.speechActionSelector),b.speechAction.addEventListener(\"click\",a.stopPropagation),b.speechAction.addEventListener(\"tap\",function(a){b.speechActionClick(a)})),b.clearActionClass&&(b.clearAction=b.createAction(c,b.clearActionClass,b.clearActionSelector),b.clearAction.addEventListener(\"tap\",function(a){b.clearActionClick(a)})),b.passwordActionClass&&(b.passwordAction=b.createAction(c,b.passwordActionClass,b.passwordActionSelector),b.passwordAction.addEventListener(\"tap\",function(a){b.passwordActionClick(a)}))))},s.prototype.createAction=function(a,b,e){var f=a.querySelector(e);if(!f){var f=c.createElement(\"span\");f.className=b,b===this.searchActionClass&&(f.innerHTML='<span class=\"'+d+' mui-icon-search\"></span><span>'+this.element.getAttribute(\"placeholder\")+\"</span>\",this.element.setAttribute(\"placeholder\",\"\"),this.element.value.trim()&&a.classList.add(\"mui-active\")),a.insertBefore(f,this.element.nextSibling)}return f},s.prototype.initElementEvent=function(){var b=this.element;if(this.sliderActionClass){var c=this.sliderAction,d=null,e=function(){c.classList.remove(k);var a=b.offsetLeft,e=b.offsetWidth-28,f=c.offsetWidth,g=Math.abs(b.max-b.min),h=e/g*Math.abs(b.value-b.min);c.style.left=14+a+h-f/2+\"px\",c.innerText=b.value,d&&clearTimeout(d),d=setTimeout(function(){c.classList.add(k)},1e3)};b.addEventListener(\"input\",e),b.addEventListener(\"tap\",e),b.addEventListener(a.EVENT_MOVE,function(a){a.stopPropagation()})}else{if(this.clearActionClass){var f=this.clearAction;if(!f)return;a.each([\"keyup\",\"change\",\"input\",\"focus\",\"cut\",\"paste\"],function(a,c){!function(a){b.addEventListener(a,function(){f.classList[b.value.trim()?\"remove\":\"add\"](k)})}(c)}),b.addEventListener(\"blur\",function(){f.classList.add(k)})}this.searchActionClass&&(b.addEventListener(\"focus\",function(){b.parentNode.classList.add(\"mui-active\")}),b.addEventListener(\"blur\",function(){b.value.trim()||b.parentNode.classList.remove(\"mui-active\")}))}},s.prototype.setPlaceholder=function(a){if(this.searchActionClass){var b=this.element.parentNode.querySelector(p);b&&(b.getElementsByTagName(\"span\")[1].innerText=a)}else this.element.setAttribute(\"placeholder\",a)},s.prototype.passwordActionClick=function(a){\"text\"===this.element.type?this.element.type=\"password\":this.element.type=\"text\",this.passwordAction.classList.toggle(\"mui-active\"),a.preventDefault()},s.prototype.clearActionClick=function(b){var c=this;c.element.value=\"\",a.focus(c.element),c.clearAction.classList.add(k),b.preventDefault()},s.prototype.speechActionClick=function(d){if(b.plus){var e=this,f=e.element.value;e.element.value=\"\",c.body.classList.add(l),plus.speech.startRecognize({engine:\"iFly\"},function(b){e.element.value+=b,a.focus(e.element),plus.speech.stopRecognize(),a.trigger(e.element,\"recognized\",{value:e.element.value}),f!==e.element.value&&(a.trigger(e.element,\"change\"),a.trigger(e.element,\"input\"))},function(a){c.body.classList.remove(l)})}else alert(\"only for 5+\");d.preventDefault()},a.fn.input=function(b){var c=[];return this.each(function(){var b=null,d=[],e=r(this.parentNode);if(\"range\"===this.type&&e.classList.contains(\"mui-input-range\"))d.push(\"slider\");else{var f=this.classList;f.contains(\"mui-input-clear\")&&d.push(\"clear\"),a.os.android&&a.os.stream||!f.contains(\"mui-input-speech\")||d.push(\"speech\"),f.contains(\"mui-input-password\")&&d.push(\"password\"),\"search\"===this.type&&e.classList.contains(\"mui-search\")&&d.push(\"search\")}var g=this.getAttribute(\"data-input-\"+d[0]);if(g)b=a.data[g];else{g=++a.uuid,b=a.data[g]=new s(this,{actions:d.join(\",\")});for(var h=0,i=d.length;h<i;h++)this.setAttribute(\"data-input-\"+d[h],g)}c.push(b)}),1===c.length?c[0]:c},a.ready(function(){a(\".mui-input-row input\").input()})}(mui,window,document),function(a,b){var c=\"mui-active\",d=/^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d*(?:\\.\\d+)?)\\)$/,e=function(a){var b=a.match(d);return b&&5===b.length?[b[1],b[2],b[3],b[4]]:[]},f=function(c,d){if(this.element=c,this.options=a.extend({top:0,offset:150,duration:16,scrollby:b},d||{}),this.scrollByElem=this.options.scrollby||b,!this.scrollByElem)throw new Error(\"监听滚动的元素不存在\");this.isNativeScroll=!1,this.scrollByElem===b?this.isNativeScroll=!0:~this.scrollByElem.className.indexOf(\"mui-scroll-wrapper\")||(this.isNativeScroll=!0),this._style=this.element.style,this._bgColor=this._style.backgroundColor;var f=e(mui.getStyles(this.element,\"backgroundColor\"));if(!f.length)throw new Error(\"元素背景颜色必须为RGBA\");this._R=f[0],this._G=f[1],this._B=f[2],this._A=parseFloat(f[3]),this.lastOpacity=this._A,this._bufferFn=a.buffer(this.handleScroll,this.options.duration,this),this.initEvent()};f.prototype.initEvent=function(){this.scrollByElem.addEventListener(\"scroll\",this._bufferFn),this.isNativeScroll&&this.scrollByElem.addEventListener(a.EVENT_MOVE,this._bufferFn)},f.prototype.handleScroll=function(d){var e=b.scrollY;!this.isNativeScroll&&d&&d.detail&&(e=-d.detail.y);var f=(e-this.options.top)/this.options.offset+this._A;f=Math.min(Math.max(this._A,f),1),this._style.backgroundColor=\"rgba(\"+this._R+\",\"+this._G+\",\"+this._B+\",\"+f+\")\",f>this._A?this.element.classList.add(c):this.element.classList.remove(c),this.lastOpacity!==f&&(a.trigger(this.element,\"alpha\",{alpha:f}),this.lastOpacity=f)},f.prototype.destory=function(){this.scrollByElem.removeEventListener(\"scroll\",this._bufferFn),this.scrollByElem.removeEventListener(a.EVENT_MOVE,this._bufferFn),this.element.style.backgroundColor=this._bgColor,this.element.mui_plugin_transparent=null},a.fn.transparent=function(a){a=a||{};var c=[];return this.each(function(){var d=this.mui_plugin_transparent;if(!d){var e=this.getAttribute(\"data-top\"),g=this.getAttribute(\"data-offset\"),h=this.getAttribute(\"data-duration\"),i=this.getAttribute(\"data-scrollby\");null!==e&&void 0===a.top&&(a.top=e),null!==g&&void 0===a.offset&&(a.offset=g),null!==h&&void 0===a.duration&&(a.duration=h),null!==i&&void 0===a.scrollby&&(a.scrollby=document.querySelector(i)||b),d=this.mui_plugin_transparent=new f(this,a)}c.push(d)}),1===c.length?c[0]:c},a.ready(function(){a(\".mui-bar-transparent\").transparent()})}(mui,window),function(a){var b=\"ontouchstart\"in document,c=b?\"tap\":\"click\",d=\"change\",e=\".mui-btn-numbox-plus,.mui-numbox-btn-plus\",f=\".mui-btn-numbox-minus,.mui-numbox-btn-minus\",g=\".mui-input-numbox,.mui-numbox-input\",h=a.Numbox=a.Class.extend({init:function(b,c){var d=this;if(!b)throw\"构造 numbox 时缺少容器元素\";d.holder=b,c=c||{},c.step=parseInt(c.step||1),d.options=c,d.input=a.qsa(g,d.holder)[0],d.plus=a.qsa(e,d.holder)[0],d.minus=a.qsa(f,d.holder)[0],d.checkValue(),d.initEvent()},initEvent:function(){var b=this;b.plus.addEventListener(c,function(c){var e=parseInt(b.input.value)+b.options.step;b.input.value=e.toString(),a.trigger(b.input,d,null)}),b.minus.addEventListener(c,function(c){var e=parseInt(b.input.value)-b.options.step;b.input.value=e.toString(),a.trigger(b.input,d,null)}),b.input.addEventListener(d,function(c){b.checkValue();var e=parseInt(b.input.value);a.trigger(b.holder,d,{value:e})})},getValue:function(){var a=this;return parseInt(a.input.value)},checkValue:function(){var a=this,b=a.input.value;if(null==b||\"\"==b||isNaN(b))a.input.value=a.options.min||0,a.minus.disabled=null!=a.options.min;else{var b=parseInt(b);null!=a.options.max&&!isNaN(a.options.max)&&b>=parseInt(a.options.max)?(b=a.options.max,a.plus.disabled=!0):a.plus.disabled=!1,null!=a.options.min&&!isNaN(a.options.min)&&b<=parseInt(a.options.min)?(b=a.options.min,a.minus.disabled=!0):a.minus.disabled=!1,a.input.value=b}},setOption:function(a,b){this.options[a]=b},setValue:function(a){this.input.value=a,this.checkValue()}});a.fn.numbox=function(a){return this.each(function(a,b){if(!b.numbox)if(d)b.numbox=new h(b,d);else{var c=b.getAttribute(\"data-numbox-options\"),d=c?JSON.parse(c):{};d.step=b.getAttribute(\"data-numbox-step\")||d.step,d.min=b.getAttribute(\"data-numbox-min\")||d.min,d.max=b.getAttribute(\"data-numbox-max\")||d.max,b.numbox=new h(b,d)}}),this[0]?this[0].numbox:null},a.ready(function(){a(\".mui-numbox\").numbox()})}(mui),function(a,b,c){var d=\"mui-disabled\",e=\"reset\",f=\"loading\",g={loadingText:\"Loading...\",loadingIcon:\"mui-spinner mui-spinner-white\",loadingIconPosition:\"left\"},h=function(b,c){this.element=b,this.options=a.extend({},g,c),this.options.loadingText||(this.options.loadingText=g.loadingText),null===this.options.loadingIcon&&(this.options.loadingIcon=\"mui-spinner\",\"rgb(255, 255, 255)\"===a.getStyles(this.element,\"color\")&&(this.options.loadingIcon+=\" mui-spinner-white\")),this.isInput=\"INPUT\"===this.element.tagName,this.resetHTML=this.isInput?this.element.value:this.element.innerHTML,this.state=\"\"};h.prototype.loading=function(){this.setState(f)},h.prototype.reset=function(){this.setState(e)},h.prototype.setState=function(a){if(this.state===a)return!1;if(this.state=a,a===e)this.element.disabled=!1,this.element.classList.remove(d),this.setHtml(this.resetHTML);else if(a===f){this.element.disabled=!0,this.element.classList.add(d);var b=this.isInput?this.options.loadingText:\"<span>\"+this.options.loadingText+\"</span>\";this.options.loadingIcon&&!this.isInput&&(\"right\"===this.options.loadingIconPosition?b+='&nbsp;<span class=\"'+this.options.loadingIcon+'\"></span>':b='<span class=\"'+this.options.loadingIcon+'\"></span>&nbsp;'+b),this.setHtml(b)}},h.prototype.setHtml=function(a){this.isInput?this.element.value=a:this.element.innerHTML=a},a.fn.button=function(a){var b=[];return this.each(function(){var c=this.mui_plugin_button;if(!c){var d=this.getAttribute(\"data-loading-text\"),g=this.getAttribute(\"data-loading-icon\"),i=this.getAttribute(\"data-loading-icon-position\");this.mui_plugin_button=c=new h(this,{loadingText:d,loadingIcon:g,loadingIconPosition:i})}a!==f&&a!==e||c.setState(a),b.push(c)}),1===b.length?b[0]:b}}(mui,window,document);"]}]}