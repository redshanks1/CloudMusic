{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\sendComment\\SendComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\sendComment\\SendComment.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0Q29tbWVudCwgZ2V0RENvbW1lbnQgfSBmcm9tICJuZXR3b3JrL2NvbW1lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlbmRDb21tZW50IiwKICBwcm9wczogewogICAgdDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBpc0R5bmFtaWM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpc0NvbW1lbnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb250ZW50OiAiIiwKICAgICAgY29tbWVudERldGFpbDoge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS5jb29raWUpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL215TWVzc2FnZS9sb2dpbiIpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmlzRHluYW1pYykgewogICAgICAgICAgaWYgKHRoaXMuY29udGVudCAhPT0gIiIpIHsKICAgICAgICAgICAgZ2V0RENvbW1lbnQodGhpcy50LCB0aGlzLnR5cGUsIHRoaXMuaWQsIHRoaXMuY29udGVudCwgdGhpcy4kc3RvcmUuc3RhdGUuY29va2llKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAvLyDkv53lrZjmlbDmja4KICAgICAgICAgICAgICBfdGhpcy5jb21tZW50RGV0YWlsLmlkID0gcmVzLmRhdGEuY29tbWVudC51c2VyLnVzZXJJZDsKICAgICAgICAgICAgICBfdGhpcy5jb21tZW50RGV0YWlsLmNvbnRlbnQgPSByZXMuZGF0YS5jb21tZW50LmNvbnRlbnQ7CiAgICAgICAgICAgICAgX3RoaXMuY29tbWVudERldGFpbC50aW1lID0gcmVzLmRhdGEuY29tbWVudC50aW1lOwogICAgICAgICAgICAgIF90aGlzLmNvbW1lbnREZXRhaWwuYXZhdGFyVXJsID0gcmVzLmRhdGEuY29tbWVudC51c2VyLmF2YXRhclVybDsKICAgICAgICAgICAgICBfdGhpcy5jb21tZW50RGV0YWlsLm5pY2tuYW1lID0gcmVzLmRhdGEuY29tbWVudC51c2VyLm5pY2tuYW1lOwoKICAgICAgICAgICAgICBfdGhpcy4kdG9hc3Quc2hvdygi5Y+R5biD5oiQ5YqfIiwgMTkwMCk7CgogICAgICAgICAgICAgIF90aGlzLmNvbnRlbnQgPSAiIjsgLy8g5riF56m65YaF5a65CgogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJzdWNjZXNzQ29tbWVudCIsIF90aGlzLmNvbW1lbnREZXRhaWwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNDb21tZW50KSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS50eXBlSWQpOwoKICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQgIT09ICIiKSB7CiAgICAgICAgICAgIGdldENvbW1lbnQodGhpcy50LCB0aGlzLnR5cGUsIHRoaXMuJHN0b3JlLnN0YXRlLnR5cGVJZCwgdGhpcy5jb250ZW50LCB0aGlzLiRzdG9yZS5zdGF0ZS5jb29raWUsIHRoaXMuJHN0b3JlLnN0YXRlLnRocmVhZElkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAvLyDkv53lrZjmlbDmja4KICAgICAgICAgICAgICBfdGhpcy5jb21tZW50RGV0YWlsLmlkID0gcmVzLmRhdGEuY29tbWVudC51c2VyLnVzZXJJZDsKICAgICAgICAgICAgICBfdGhpcy5jb21tZW50RGV0YWlsLmNvbnRlbnQgPSByZXMuZGF0YS5jb21tZW50LmNvbnRlbnQ7CiAgICAgICAgICAgICAgX3RoaXMuY29tbWVudERldGFpbC50aW1lID0gcmVzLmRhdGEuY29tbWVudC50aW1lOwogICAgICAgICAgICAgIF90aGlzLmNvbW1lbnREZXRhaWwuYXZhdGFyVXJsID0gcmVzLmRhdGEuY29tbWVudC51c2VyLmF2YXRhclVybDsKICAgICAgICAgICAgICBfdGhpcy5jb21tZW50RGV0YWlsLm5pY2tuYW1lID0gcmVzLmRhdGEuY29tbWVudC51c2VyLm5pY2tuYW1lOwoKICAgICAgICAgICAgICBfdGhpcy4kdG9hc3Quc2hvdygi5Y+R5biD5oiQ5YqfIiwgMTkwMCk7CgogICAgICAgICAgICAgIF90aGlzLmNvbnRlbnQgPSAiIjsgLy8g5riF56m65YaF5a65CgogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJzdWNjZXNzQ29tbWVudCIsIF90aGlzLmNvbW1lbnREZXRhaWwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMuY29udGVudCAhPT0gIiIpIHsKICAgICAgICAgICAgZ2V0Q29tbWVudCh0aGlzLnQsIHRoaXMudHlwZSwgdGhpcy5pZCwgdGhpcy5jb250ZW50LCB0aGlzLiRzdG9yZS5zdGF0ZS5jb29raWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIC8vIOS/neWtmOaVsOaNrgogICAgICAgICAgICAgIF90aGlzLmNvbW1lbnREZXRhaWwuaWQgPSByZXMuZGF0YS5jb21tZW50LnVzZXIudXNlcklkOwogICAgICAgICAgICAgIF90aGlzLmNvbW1lbnREZXRhaWwuY29udGVudCA9IHJlcy5kYXRhLmNvbW1lbnQuY29udGVudDsKICAgICAgICAgICAgICBfdGhpcy5jb21tZW50RGV0YWlsLnRpbWUgPSByZXMuZGF0YS5jb21tZW50LnRpbWU7CiAgICAgICAgICAgICAgX3RoaXMuY29tbWVudERldGFpbC5hdmF0YXJVcmwgPSByZXMuZGF0YS5jb21tZW50LnVzZXIuYXZhdGFyVXJsOwogICAgICAgICAgICAgIF90aGlzLmNvbW1lbnREZXRhaWwubmlja25hbWUgPSByZXMuZGF0YS5jb21tZW50LnVzZXIubmlja25hbWU7CgogICAgICAgICAgICAgIF90aGlzLiR0b2FzdC5zaG93KCLlj5HluIPmiJDlip8iLCAxOTAwKTsKCiAgICAgICAgICAgICAgX3RoaXMuY29udGVudCA9ICIiOyAvLyDmuIXnqbrlhoXlrrkKCiAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInN1Y2Nlc3NDb21tZW50IiwgX3RoaXMuY29tbWVudERldGFpbCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["SendComment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"SendComment\">\n    <div class=\"content\">\n      <div class=\"left\">\n        <input\n          v-model=\"content\"\n          placeholder=\"写评论...\"\n          class=\"textContent\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"right\">\n        <div class=\"btn\" @click=\"send\">\n          <img src=\"~assets/img/common/send.svg\" alt=\"\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getComment, getDComment } from \"network/comment\";\n\nexport default {\n  name: \"SendComment\",\n  props: {\n    t: {\n      type: Number,\n      default: 1,\n    },\n    type: {\n      type: Number,\n      default: 1,\n    },\n    id: {\n      type: String,\n      default: \"\",\n    },\n    isDynamic: {\n      type: Boolean,\n      default: false,\n    },\n    isComment: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      content: \"\",\n      commentDetail: {},\n    };\n  },\n  methods: {\n    send() {\n      if (!this.$store.state.cookie) {\n        this.$router.push(\"/myMessage/login\");\n      } else {\n        if (this.isDynamic) {\n          if (this.content !== \"\") {\n            getDComment(\n              this.t,\n              this.type,\n              this.id,\n              this.content,\n              this.$store.state.cookie\n            ).then((res) => {\n              // 保存数据\n              this.commentDetail.id = res.data.comment.user.userId;\n              this.commentDetail.content = res.data.comment.content;\n              this.commentDetail.time = res.data.comment.time;\n              this.commentDetail.avatarUrl = res.data.comment.user.avatarUrl;\n              this.commentDetail.nickname = res.data.comment.user.nickname;\n              this.$toast.show(\"发布成功\", 1900);\n              this.content = \"\"; // 清空内容\n              this.$emit(\"successComment\", this.commentDetail);\n            });\n          }\n        } else if (this.isComment) {\n          console.log(this.$store.state.typeId);\n          if (this.content !== \"\") {\n            getComment(\n              this.t,\n              this.type,\n              this.$store.state.typeId,\n              this.content,\n              this.$store.state.cookie,\n              this.$store.state.threadId\n            ).then((res) => {\n              // 保存数据\n              this.commentDetail.id = res.data.comment.user.userId;\n              this.commentDetail.content = res.data.comment.content;\n              this.commentDetail.time = res.data.comment.time;\n              this.commentDetail.avatarUrl = res.data.comment.user.avatarUrl;\n              this.commentDetail.nickname = res.data.comment.user.nickname;\n              this.$toast.show(\"发布成功\", 1900);\n              this.content = \"\"; // 清空内容\n              this.$emit(\"successComment\", this.commentDetail);\n            });\n          }\n        } else {\n          if (this.content !== \"\") {\n            getComment(\n              this.t,\n              this.type,\n              this.id,\n              this.content,\n              this.$store.state.cookie\n            ).then((res) => {\n              // 保存数据\n              this.commentDetail.id = res.data.comment.user.userId;\n              this.commentDetail.content = res.data.comment.content;\n              this.commentDetail.time = res.data.comment.time;\n              this.commentDetail.avatarUrl = res.data.comment.user.avatarUrl;\n              this.commentDetail.nickname = res.data.comment.user.nickname;\n              this.$toast.show(\"发布成功\", 1900);\n              this.content = \"\"; // 清空内容\n              this.$emit(\"successComment\", this.commentDetail);\n            });\n          }\n        }\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n::-webkit-input-placeholder {\n  font-size: 0.399467rem;\n  color: rgb(119, 119, 119);\n}\n.SendComment {\n  width: 100%;\n  height: 1.065246rem;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0px -1px 1px 1px rgba(87, 87, 87, 0.1);\n}\n.content {\n  width: 92%;\n  height: 0.932091rem;\n  line-height: 0.905459rem;\n  margin: 0 auto;\n  display: flex;\n}\n.left {\n  flex: 9;\n}\n.right {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.textContent {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  top: -0.053262rem;\n  padding: 0;\n  border: 0;\n  font-size: 0.426099rem;\n  line-height: 0.932091rem;\n}\n.btn {\n  width: 0.798935rem;\n  height: 0.798935rem;\n  position: absolute;\n  right: 0;\n}\n.btn img {\n  width: 100%;\n  height: 100%;\n}\n</style>"],"sourceRoot":"src/components/context/sendComment"}]}