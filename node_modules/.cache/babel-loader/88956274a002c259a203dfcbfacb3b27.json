{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\collection\\childrenComps\\CollectionAlbum.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\collection\\childrenComps\\CollectionAlbum.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJGOi92c2NvZGUvZ29jb2RlL2Nsb3VkTXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRBbGJ1bSB9IGZyb20gIm5ldHdvcmsvY29sbGVjdGlvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29sbGVjdGlvbkFsYnVtIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb2Zmc2V0OiAwLAogICAgICBhbGJ1bUxpc3Q6IFtdLAogICAgICBtb3JlOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0FsYnVtOiBmdW5jdGlvbiBzaG93QWxidW0oaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wbGF5RGV0YWlsLycgKyBpZCArICcmJyArIHRydWUpOwogICAgfSwKICAgIGFsYnVtOiBmdW5jdGlvbiBhbGJ1bSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm1vcmUpIHsKICAgICAgICBnZXRBbGJ1bSh0aGlzLiRzdG9yZS5zdGF0ZS5jb29raWUsIDEwLCB0aGlzLm9mZnNldCAqIDEwKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLm1vcmUgPSByZXMuZGF0YS5oYXNNb3JlOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXMuZGF0YS5kYXRhKSwKICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICAgIF90aGlzLmFsYnVtTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIHBpY1VybDogaXRlbS5waWNVcmwsCiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICBhcnRpc3RzOiBpdGVtLmFydGlzdHMsCiAgICAgICAgICAgICAgICBzaXplOiBpdGVtLnNpemUsCiAgICAgICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMub2Zmc2V0Kys7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygn5rKh5pyJ5pu05aSa5LqGOignLCAxOTAwKTsKICAgICAgfQogICAgfSwKICAgIC8vIOebkeWQrOa7muWKqOS6i+S7tgogICAgbGluZWFyU2Nyb2xsOiBmdW5jdGlvbiBsaW5lYXJTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g5rua5Yqo5p2h6Led56a76aG26YOo55qE6Led56a7CiAgICAgIHZhciBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOyAvLyDlj6/op4bljLrnmoTpq5jluqYKCiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyDmu5rliqjmnaHlj6/mu5rliqjnmoTpq5jluqYKCiAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgICAgaWYgKE1hdGguY2VpbChzY3JvbGxUb3ApICsgY2xpZW50SGVpZ2h0ID09IHNjcm9sbEhlaWdodCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmFsYnVtKCk7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICB0aGlzLmFsYnVtKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpczMuJGxvYWRpbmcubG9hZGluZ05vKCk7CgogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBfdGhpczMubGluZWFyU2Nyb2xsKTsKICAgIH0pOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICAvLyDliKDpmaTkuovku7YKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMubGluZWFyU2Nyb2xsKTsKICB9Cn07"},{"version":3,"sources":["CollectionAlbum.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAA,QAAA,QAAA,oBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,EADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,GAAA,GAAA,GAAA,IAAA;AACA,KAHA;AAKA,IAAA,KALA,mBAKA;AAAA;;AACA,UAAA,KAAA,IAAA,EAAA;AACA,QAAA,QAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,EAAA,EAAA,EAAA,KAAA,MAAA,GAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AADA,qDAEA,GAAA,CAAA,IAAA,CAAA,IAFA;AAAA;;AAAA;AAEA,gEAAA;AAAA,kBAAA,IAAA;;AACA,cAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,gBAAA,MAAA,EAAA,IAAA,CAAA,MADA;AAEA,gBAAA,IAAA,EAAA,IAAA,CAAA,IAFA;AAGA,gBAAA,OAAA,EAAA,IAAA,CAAA,OAHA;AAIA,gBAAA,IAAA,EAAA,IAAA,CAAA,IAJA;AAKA,gBAAA,EAAA,EAAA,IAAA,CAAA;AALA,eAAA;AAOA;AAVA;AAAA;AAAA;AAAA;AAAA;;AAWA,UAAA,KAAA,CAAA,MAAA;AACA,SAZA;AAaA,OAdA,MAcA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA;AACA,KAvBA;AAyBA;AACA,IAAA,YA1BA,0BA0BA;AAAA;;AACA;AACA,UAAA,SAAA,GACA,QAAA,CAAA,eAAA,CAAA,SAAA,IAAA,QAAA,CAAA,IAAA,CAAA,SADA,CAFA,CAIA;;AACA,UAAA,YAAA,GACA,QAAA,CAAA,eAAA,CAAA,YAAA,IAAA,QAAA,CAAA,IAAA,CAAA,YADA,CALA,CAOA;;AACA,UAAA,YAAA,GACA,QAAA,CAAA,eAAA,CAAA,YAAA,IAAA,QAAA,CAAA,IAAA,CAAA,YADA;;AAEA,UAAA,IAAA,CAAA,IAAA,CAAA,SAAA,IAAA,YAAA,IAAA,YAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,KAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA;AACA;AAzCA,GATA;AAoDA,EAAA,OApDA,qBAoDA;AACA,SAAA,QAAA,CAAA,WAAA;AACA,SAAA,KAAA;AACA,GAvDA;AAwDA,EAAA,OAxDA,qBAwDA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,SAAA;;AACA,MAAA,QAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,MAAA,CAAA,YAAA;AACA,KAHA;AAIA,GA7DA;AA8DA,EAAA,SA9DA,uBA8DA;AACA;AACA,IAAA,QAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,YAAA;AACA;AAjEA,CAAA","sourcesContent":["<template>\n  <div class=\"CollectionAlbum\">\n    <div\n      class=\"albumItem\"\n      @click=\"showAlbum(item.id)\"\n      v-for=\"(item, index) in albumList\"\n      :key=\"index\"\n    >\n      <div class=\"left\">\n        <img :src=\"item.picUrl\" alt=\"\" />\n        <div class=\"bgcImg\">\n          <img src=\"~assets/img/information/yuan.svg\" alt=\"\" />\n        </div>\n      </div>\n      <div class=\"right\">\n        <div class=\"content\">\n          <div class=\"title\">\n            {{ item.name }}\n          </div>\n          <div class=\"detail\">\n            <span v-for=\"(item, index) in item.artists\" :key=\"index\">{{\n              item.name\n            }}</span>\n            {{ item.size }} 首\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getAlbum } from \"network/collection\";\nexport default {\n  name: \"CollectionAlbum\",\n  data() {\n    return {\n      offset: 0,\n      albumList: [],\n      more: true,\n    };\n  },\n  methods: {\n    showAlbum(id){\n      this.$router.push('/playDetail/' + id+'&'+true)\n    },\n\n    album() {\n      if (this.more) {\n        getAlbum(this.$store.state.cookie, 10, this.offset * 10).then((res) => {\n          this.more = res.data.hasMore;\n          for (const item of res.data.data) {\n            this.albumList.push({\n              picUrl: item.picUrl,\n              name: item.name,\n              artists: item.artists,\n              size: item.size,\n              id: item.id\n            });\n          }\n          this.offset ++ \n        });\n      } else {\n        this.$toast.show('没有更多了:(', 1900)\n      }\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (Math.ceil(scrollTop) + clientHeight == scrollHeight ) {\n        setTimeout(() => {\n          this.album();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    this.album();\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n      document.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n  destroyed() {\n    // 删除事件\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.CollectionAlbum {\n  width: 100%;\n  background-color: #fff;\n  min-height: 13.315579rem;\n}\n.albumItem {\n  width: 100%;\n  height: 1.331558rem;\n  display: flex;\n  margin-bottom: 0.213049rem;\n  position: relative;\n}\n.left {\n  flex: 1.8;\n}\n.left img {\n  width: 1.331558rem;\n  height: 1.331558rem;\n  border-radius: 0.133156rem;\n  position: relative;\n  z-index: 1;\n}\n.right {\n  flex: 8.2;\n  display: flex;\n  align-items: center;\n}\n.bgcImg {\n  width: 1.331558rem;\n  height: 1.331558rem;\n  position: absolute;\n  z-index: 0;\n  top: 0;\n  left: 0.266312rem;\n}\n.content {\n  margin-left: 0.266312rem;\n}\n.title {\n  width: 6.65779rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 0.479361rem;\n  line-height: 0.479361rem;\n  font-size: 0.399467rem;\n}\n.sp {\n  color: #979797;\n}\n.detail {\n  height: 0.479361rem;\n  line-height: 0.479361rem;\n  font-size: 0.319574rem;\n  color: #979797;\n}\n</style>"],"sourceRoot":"src/views/collection/childrenComps"}]}