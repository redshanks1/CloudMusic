{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\phoneLogin\\PhoneLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\phoneLogin\\PhoneLogin.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJGOi92c2NvZGUvZ29jb2RlL2Nsb3VkTXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbmF2YmFyIGZyb20gImNvbXBvbmVudHMvY29tbW9uL25hdmJhci9uYXZiYXIiOwppbXBvcnQgUmVnaXN0ZXIgZnJvbSAiY29tcG9uZW50cy9jb250ZXh0L3JlZ2lzdGVyL1JlZ2lzdGVyIjsKaW1wb3J0IHsgcGhvbmVMb2dpbiwgbG9naW5TdGF0ZSB9IGZyb20gIm5ldHdvcmsvbG9naW4iOyAvLyDnvZHnu5zor7fmsYIKCmltcG9ydCB7IGdldFVzZXJEZXRhaWwsIGdldFVzZXJQbGF5TGlzdCB9IGZyb20gIm5ldHdvcmsvdXNlciI7IC8vIOeUqOaIt+S/oeaBrwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQaG9uZUxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVsOiAiIiwKICAgICAgLy8g5omL5py65Y+3CiAgICAgIHBhc3N3b3JkOiAiIiAvLyDlr4bnoIEKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIC8vIOeZu+mZhgogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHJlZyA9IC9eMVszLThdWzAtOV17OX0kLzsKCiAgICAgIGlmIChyZWcudGVzdCh0aGlzLnRlbCkpIHsKICAgICAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICAgICAgcGhvbmVMb2dpbih0aGlzLnRlbCwgdGhpcy5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuY29va2llID0gcmVzLmRhdGEuY29va2llOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMuJHRvYXN0LnNob3coIueZu+W9leaIkOWKn++8gSIsIDE5MDApOwoKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5nbygtMik7CgogICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUucHJvZmlsZS5uaWNrTmFtZSA9IHJlcy5kYXRhLnByb2ZpbGUubmlja25hbWU7IC8vIOeUqOaIt+WQjQoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLnByb2ZpbGUuYXZhdGFyVXJsID0gcmVzLmRhdGEucHJvZmlsZS5hdmF0YXJVcmw7IC8vIOWktOWDjwoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLnByb2ZpbGUudXNlcklkID0gcmVzLmRhdGEucHJvZmlsZS51c2VySWQ7IC8vIGlkCgogICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUucHJvZmlsZS5iYWNrZ3JvdW5kVXJsID0gcmVzLmRhdGEucHJvZmlsZS5iYWNrZ3JvdW5kVXJsOyAvLyDog4zmma/lm74KCiAgICAgICAgICAgIF90aGlzLnRlbCA9ICIiOwogICAgICAgICAgICBfdGhpcy5wYXNzd29yZCA9ICIiOwogICAgICAgICAgICBnZXRVc2VyRGV0YWlsKF90aGlzLiRzdG9yZS5zdGF0ZS5wcm9maWxlLnVzZXJJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLnByb2ZpbGUubGV2ZWwgPSByZXMuZGF0YS5sZXZlbDsKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUucHJvZmlsZS5saXN0ZW5Tb25ncyA9IHJlcy5kYXRhLmxpc3RlblNvbmdzOwogICAgICAgICAgICB9KTsgLy8g6I635Y+W55So5oi35q2M5Y2VCgogICAgICAgICAgICBnZXRVc2VyUGxheUxpc3QoX3RoaXMuJHN0b3JlLnN0YXRlLnByb2ZpbGUudXNlcklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLmRhdGEucGxheWxpc3QpLAogICAgICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUucGxheUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgY292ZXJJbWdVcmw6IGl0ZW0uY292ZXJJbWdVcmwsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICAgICAgICAgIHBsYXlDb3VudDogaXRlbS5wbGF5Q291bnQsCiAgICAgICAgICAgICAgICAgICAgdHJhY2tDb3VudDogaXRlbS50cmFja0NvdW50LAogICAgICAgICAgICAgICAgICAgIGNyZWF0b3I6IGl0ZW0uY3JlYXRvci5uaWNrbmFtZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzLiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuJHRvYXN0LnNob3coIuWvhueggemUmeivr++8gSIsIDE5MDApOwogICAgICAgICAgfQogICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzLiR0b2FzdC5zaG93KCLnvZHnu5zlh7rplJnvvIEiLCAxOTAwKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdC5zaG93KCLmiYvmnLrlj7fkuI3op4TojIMiLCAxOTAwKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreaJi+acuueZu+W9lemhtemdogogICAgYmFjazogZnVuY3Rpb24gYmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICAvLyDlhbPpl63ms6jlhozpobXpnaIKICAgIGNsb3NlUmVnaXN0ZXI6IGZ1bmN0aW9uIGNsb3NlUmVnaXN0ZXIoKSB7CiAgICAgIHRoaXMuUmVnaXN0ZXJTaG93ID0gZmFsc2U7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBuYXZiYXI6IG5hdmJhciwKICAgIFJlZ2lzdGVyOiBSZWdpc3RlcgogIH0KfTs="},{"version":3,"sources":["PhoneLogin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"PhoneLogin\">\n    <navbar class=\"navbar\">\n      <div @click=\"back\" class=\"left\" slot=\"left\">\n        <img src=\"~assets/img/myMessage/fanhui.png\" alt=\"\" />\n      </div>\n      <div class=\"title\" slot=\"center\">手机号登陆</div>\n    </navbar>\n    <div class=\"box\">\n      <div class=\"tip\"><span>没有注册过的手机号会自动注册</span></div>\n      <div class=\"content\">\n        <div class=\"tel\">\n          <div class=\"text\">\n            <span>手机号：</span>\n          </div>\n          <div class=\"input\">\n            <input v-model=\"tel\" type=\"text\" placeholder=\"请输入手机号码\" />\n          </div>\n        </div>\n        <div class=\"pwd\">\n          <div class=\"text\">\n            <span>密码：</span>\n          </div>\n          <div class=\"input\">\n            <input\n              v-model=\"password\"\n              type=\"password\"\n              placeholder=\"请输入密码\"\n            />\n          </div>\n        </div>\n      </div>\n      <van-button\n        class=\"btn\"\n        color=\"#da231b\"\n        type=\"primary\"\n        block\n        @click=\"login\"\n        >点击登陆</van-button\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport navbar from \"components/common/navbar/navbar\";\nimport Register from \"components/context/register/Register\";\nimport { phoneLogin, loginState } from \"network/login\"; // 网络请求\n\nimport { getUserDetail, getUserPlayList } from \"network/user\"; // 用户信息\n\nexport default {\n  name: \"PhoneLogin\",\n  data() {\n    return {\n      tel: \"\", // 手机号\n      password: \"\", // 密码\n    };\n  },\n  methods: {\n    close() {\n      this.$router.go(-1);\n    },\n    // 登陆\n    login() {\n      var reg = /^1[3-8][0-9]{9}$/;\n      if (reg.test(this.tel)) {\n        this.$loading.loadingShow();\n        phoneLogin(this.tel, this.password).then(\n          (res) => {\n            this.$store.state.cookie = res.data.cookie;\n            if (res.data.code === 200) {\n              this.$toast.show(\"登录成功！\", 1900);\n              this.$router.go(-2);\n              this.$store.state.profile.nickName = res.data.profile.nickname; // 用户名\n              this.$store.state.profile.avatarUrl = res.data.profile.avatarUrl; // 头像\n              this.$store.state.profile.userId = res.data.profile.userId; // id\n              this.$store.state.profile.backgroundUrl =\n                res.data.profile.backgroundUrl; // 背景图\n\n              this.tel = \"\";\n              this.password = \"\";\n              getUserDetail(this.$store.state.profile.userId).then((res) => {\n                this.$store.state.profile.level = res.data.level;\n                this.$store.state.profile.listenSongs = res.data.listenSongs;\n              });\n\n              // 获取用户歌单\n              getUserPlayList(this.$store.state.profile.userId).then((res) => {\n                for (const item of res.data.playlist) {\n                  this.$store.state.playList.push({\n                    coverImgUrl: item.coverImgUrl,\n                    name: item.name,\n                    id: item.id,\n                    playCount: item.playCount,\n                    trackCount: item.trackCount,\n                    creator: item.creator.nickname,\n                  });\n                }\n              });\n              this.$loading.loadingNo();\n            } else {\n              this.$toast.show(\"密码错误！\", 1900);\n            }\n          },\n          (err) => {\n            this.$toast.show(\"网络出错！\", 1900);\n          }\n        );\n      } else {\n        this.$toast.show(\"手机号不规范\", 1900);\n      }\n    },\n\n    // 关闭手机登录页面\n    back() {\n      this.$router.go(-1);\n    },\n\n    // 关闭注册页面\n    closeRegister() {\n      this.RegisterShow = false;\n    },\n  },\n  components: {\n    navbar,\n    Register,\n  },\n};\n</script>\n<style scoped>\n.content {\n  padding: 0 10px;\n  height: 90px;\n  font-size: 15px;\n}\n.title {\n  font-size: 0.426099rem;\n}\n.tel {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  border-bottom: 1px solid #cdcdcd;\n  margin-top: 5px;\n  z-index: 10;\n}\n.pwd {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  border-bottom: 1px solid #cdcdcd;\n  margin-top: 5px;\n  z-index: 10;\n}\n.text {\n  flex: 2;\n  line-height: 45px;\n}\n.text span {\n  float: right;\n}\n.input {\n  flex: 7;\n  /* line-height: 45px; */\n  margin-top: 4.1px;\n}\n.input input {\n  height: 35px;\n  border: 0;\n}\n.PhoneLogin {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #fff;\n  z-index: 52;\n}\n.box {\n  padding: 5px 10px;\n}\n.navbar {\n  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.5);\n}\n.left img {\n  width: 20px;\n  height: 20px;\n  margin-top: 12px;\n}\n.btn {\n  margin-top: 10px;\n  border-radius: 44px;\n  font-size: 0.426099rem;\n}\n.tip {\n  font-size: 13px;\n  text-align: center;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  color: #888888;\n}\n.v-enter {\n  opacity: 0;\n  /* 进来的时候从右 */\n  transform: translateX(100%);\n}\n.v-leave-to {\n  opacity: 0;\n  /* 离开的时候向左 */\n  transform: translateX(-100%);\n  position: absolute;\n}\n\n/* 动画执行期间 */\n.v-enter-active,\n.v-leave-active {\n  /* 添加动画效果 */\n  transition: all 0.2s linear;\n}\n</style>"],"sourceRoot":"src/components/context/phoneLogin"}]}