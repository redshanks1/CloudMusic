{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailAlbum.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailAlbum.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJGOi92c2NvZGUvZ29jb2RlL2Nsb3VkTXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBzZWFyY2hSZXN1bHQgfSBmcm9tICJuZXR3b3JrL3NlYXJjaCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGV0YWlsQWxidW0iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGJ1bUxpc3Q6IFtdLAogICAgICAvLyDkuJPovpEKICAgICAgb2Zmc2V0OiAwLAogICAgICBhbGJ1bUNvdW50OiA0MCwKICAgICAgcmVzdWx0OiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0FsYnVtOiBmdW5jdGlvbiBzaG93QWxidW0oaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wbGF5RGV0YWlsLyIgKyBpZCArICImIiArIHRydWUpOwogICAgfSwKICAgIGdldFNlYXJjaFJlc3VsdDogZnVuY3Rpb24gZ2V0U2VhcmNoUmVzdWx0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgc2VhcmNoUmVzdWx0KHRoaXMuJHJvdXRlLnBhcmFtcy5rZXl3b3JkcywgMzAsIHRoaXMub2Zmc2V0ICogMzAsIDEwKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgcGF0aCA9IHJlcy5kYXRhLnJlc3VsdC5hbGJ1bXM7CiAgICAgICAgX3RoaXMucmVzdWx0ID0gcmVzLmRhdGEucmVzdWx0LnNvbmdzIHx8IG51bGw7CgogICAgICAgIGlmIChfdGhpcy5yZXN1bHQgIT09IG51bGwpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBfdGhpcy5hbGJ1bUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgIHBpY1VybDogaXRlbS5waWNVcmwsCiAgICAgICAgICAgICAgcHVibGlzaFRpbWU6IGl0ZW0ucHVibGlzaFRpbWUsCiAgICAgICAgICAgICAgYWxpYXM6IGl0ZW0uYWxpYXMKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMub2Zmc2V0Kys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdC5zaG93KCfmsqHmnInmm7TlpJrkuoY6KCcsIDE5MDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g55uR5ZCs5rua5Yqo5LqL5Lu2CiAgICBsaW5lYXJTY3JvbGw6IGZ1bmN0aW9uIGxpbmVhclNjcm9sbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyDmu5rliqjmnaHot53nprvpobbpg6jnmoTot53nprsKICAgICAgdmFyIHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7IC8vIOWPr+inhuWMuueahOmrmOW6pgoKICAgICAgdmFyIGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7IC8vIOa7muWKqOadoeWPr+a7muWKqOeahOmrmOW6pgoKICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ7CgogICAgICBpZiAoc2Nyb2xsVG9wICsgY2xpZW50SGVpZ2h0ID49IHNjcm9sbEhlaWdodCAtIDEpIHsKICAgICAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZ2V0U2VhcmNoUmVzdWx0KCk7CgogICAgICAgICAgX3RoaXMyLiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy4kbG9hZGluZy5sb2FkaW5nU2hvdygpOwogICAgc2VhcmNoUmVzdWx0KHRoaXMuJHJvdXRlLnBhcmFtcy5rZXl3b3JkcywgMzAsIHRoaXMub2Zmc2V0ICogMzAsIDEwKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlcy5kYXRhLnJlc3VsdC5hbGJ1bXMpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2l0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBfdGhpczMuYWxidW1MaXN0LnB1c2goewogICAgICAgICAgICBpZDogX2l0ZW0uaWQsCiAgICAgICAgICAgIG5hbWU6IF9pdGVtLm5hbWUsCiAgICAgICAgICAgIHBpY1VybDogX2l0ZW0ucGljVXJsLAogICAgICAgICAgICBwdWJsaXNoVGltZTogX2l0ZW0ucHVibGlzaFRpbWUsCiAgICAgICAgICAgIGFsaWFzOiBfaXRlbS5hbGlhcwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIF90aGlzMy5vZmZzZXQrKzsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM0LiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgfSk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgX3RoaXM1LmxpbmVhclNjcm9sbCk7CiAgICB9KTsKICB9LAogIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiBkZWFjdGl2YXRlZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMubGluZWFyU2Nyb2xsKTsKICB9Cn07"},{"version":3,"sources":["DetailAlbum.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAA,YAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AACA;AACA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,EADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,GAAA,GAAA,GAAA,IAAA;AACA,KAHA;AAKA,IAAA,eALA,6BAKA;AAAA;;AACA,MAAA,YAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EAAA,EAAA,EAAA,KAAA,MAAA,GAAA,EAAA,EAAA,EAAA,CAAA,CAAA,IAAA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,IAAA,IAAA;;AACA,YAAA,KAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,cAAA,EAAA,EAAA,IAAA,CAAA,EADA;AAEA,cAAA,IAAA,EAAA,IAAA,CAAA,IAFA;AAGA,cAAA,MAAA,EAAA,IAAA,CAAA,MAHA;AAIA,cAAA,WAAA,EAAA,IAAA,CAAA,WAJA;AAKA,cAAA,KAAA,EAAA,IAAA,CAAA;AALA,aAAA;AAOA;;AACA,UAAA,KAAA,CAAA,MAAA;AACA,SAXA,MAWA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA;AACA,OAlBA;AAoBA,KA1BA;AA4BA;AACA,IAAA,YA7BA,0BA6BA;AAAA;;AACA;AACA,UAAA,SAAA,GACA,QAAA,CAAA,eAAA,CAAA,SAAA,IAAA,QAAA,CAAA,IAAA,CAAA,SADA,CAFA,CAIA;;AACA,UAAA,YAAA,GACA,QAAA,CAAA,eAAA,CAAA,YAAA,IAAA,QAAA,CAAA,IAAA,CAAA,YADA,CALA,CAOA;;AACA,UAAA,YAAA,GACA,QAAA,CAAA,eAAA,CAAA,YAAA,IAAA,QAAA,CAAA,IAAA,CAAA,YADA;;AAEA,UAAA,SAAA,GAAA,YAAA,IAAA,YAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,WAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,eAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,SAAA;AACA,SAHA,EAGA,IAHA,CAAA;AAIA;AACA;AA9CA,GAVA;AA0DA,EAAA,OA1DA,qBA0DA;AAAA;;AACA,SAAA,QAAA,CAAA,WAAA;AACA,IAAA,YAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EAAA,EAAA,EAAA,KAAA,MAAA,GAAA,EAAA,EAAA,EAAA,CAAA,CAAA,IAAA,CACA,UAAA,GAAA,EAAA;AAAA,iDACA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MADA;AAAA;;AAAA;AACA,4DAAA;AAAA,cAAA,KAAA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,YAAA,EAAA,EAAA,KAAA,CAAA,EADA;AAEA,YAAA,IAAA,EAAA,KAAA,CAAA,IAFA;AAGA,YAAA,MAAA,EAAA,KAAA,CAAA,MAHA;AAIA,YAAA,WAAA,EAAA,KAAA,CAAA,WAJA;AAKA,YAAA,KAAA,EAAA,KAAA,CAAA;AALA,WAAA;AAOA;AATA;AAAA;AAAA;AAAA;AAAA;;AAUA,MAAA,MAAA,CAAA,MAAA;AACA,KAZA;AAcA,GA1EA;AA2EA,EAAA,OA3EA,qBA2EA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,SAAA;AACA,KAFA;AAGA,GA/EA;AAgFA,EAAA,SAhFA,uBAgFA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,QAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,MAAA,CAAA,YAAA;AACA,KAFA;AAGA,GApFA;AAqFA,EAAA,WArFA,yBAqFA;AACA,IAAA,QAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,YAAA;AACA;AAvFA,CAAA","sourcesContent":["<template>\n  <div class=\"DetailAlbum\">\n    <div\n      class=\"albumItem\"\n      @click=\"showAlbum(item.id)\"\n      v-for=\"(item, index) in albumList\"\n      :key=\"index\"\n    >\n      <div class=\"left\">\n        <img :src=\"item.picUrl\" alt=\"\" />\n        <div class=\"bgcImg\">\n          <img src=\"~assets/img/information/yuan.svg\" alt=\"\" />\n        </div>\n      </div>\n      <div class=\"right\">\n        <div class=\"content\">\n          <div class=\"title\">\n            {{ item.name }}\n            <span class=\"sp\" v-if=\"item.alias.length !== 0\"\n              >({{ item.alias[0] }})</span\n            >\n          </div>\n          <div class=\"detail\">\n            {{ item.publishTime | getTime(\"YYYY.MM.DD\") }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { searchResult } from \"network/search\";\n\nexport default {\n  name: \"DetailAlbum\",\n  data() {\n    return {\n      albumList: [], // 专辑\n      offset: 0,\n      albumCount: 40,\n      result: null,\n    };\n  },\n  methods: {\n    showAlbum(id) {\n      this.$router.push(\"/playDetail/\" + id + \"&\" + true);\n    },\n\n    getSearchResult() {\n      searchResult(this.$route.params.keywords, 30, this.offset * 30, 10).then(\n        (res) => {\n          let path = res.data.result.albums;\n          this.result = res.data.result.songs || null;\n          if (this.result !== null) {\n            for (let i = 0; i < path.length; i++) {\n              this.albumList.push({\n                id: item.id,\n                name: item.name,\n                picUrl: item.picUrl,\n                publishTime: item.publishTime,\n                alias: item.alias,\n              });\n            }\n            this.offset++;\n          } else {\n            this.$toast.show('没有更多了:(',1900)\n          }\n        }\n      );\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.getSearchResult();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 30, this.offset * 30, 10).then(\n      (res) => {\n        for (const item of res.data.result.albums) {\n          this.albumList.push({\n            id: item.id,\n            name: item.name,\n            picUrl: item.picUrl,\n            publishTime: item.publishTime,\n            alias: item.alias,\n          });\n        }\n        this.offset++;\n      }\n    );\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n    })\n  },\n  activated() {\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n  deactivated() {\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.DetailAlbum {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n  background-color: #fff;\n}\n.albumItem {\n  width: 100%;\n  height: 1.331558rem;\n  display: flex;\n  margin-bottom: 0.213049rem;\n  position: relative;\n}\n.left {\n  flex: 1.8;\n}\n.left img {\n  width: 1.331558rem;\n  height: 1.331558rem;\n  border-radius: 0.133156rem;\n}\n.right {\n  flex: 8.2;\n  display: flex;\n  align-items: center;\n}\n.bgcImg {\n  width: 1.331558rem;\n  height: 1.331558rem;\n  position: absolute;\n  z-index: -1;\n  top: 0;\n  left: 0.266312rem;\n}\n.content {\n  margin-left: 0.266312rem;\n}\n.title {\n  width: 6.65779rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 0.479361rem;\n  line-height: 0.479361rem;\n  font-size: 0.399467rem;\n}\n.sp {\n  color: #979797;\n}\n.detail {\n  height: 0.479361rem;\n  line-height: 0.479361rem;\n  font-size: 0.319574rem;\n  color: #979797;\n}\n</style>"],"sourceRoot":"src/views/search/childrenComps"}]}