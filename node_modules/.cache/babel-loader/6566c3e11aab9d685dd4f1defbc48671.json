{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailVideo.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkY6L3ZzY29kZS9nb2NvZGUvY2xvdWRNdXNpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHNlYXJjaFJlc3VsdCB9IGZyb20gIm5ldHdvcmsvc2VhcmNoIjsKaW1wb3J0IHsgdG9TdHJpbmdOdW0sIGR1cmF0aW9uVGltZSB9IGZyb20gImNvbW1vbi9jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbFZpZGVvIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb2Zmc2V0OiAwLAogICAgICB2aWRlb0xpc3Q6IFtdLAogICAgICBtb3JlOiB0cnVlLAogICAgICBub0RldGFpbDogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluaVsOaNrgogICAgZ2V0U2VhcmNoUmVzdWx0OiBmdW5jdGlvbiBnZXRTZWFyY2hSZXN1bHQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5tb3JlKSB7CiAgICAgICAgc2VhcmNoUmVzdWx0KHRoaXMuJHJvdXRlLnBhcmFtcy5rZXl3b3JkcywgNDAsIHRoaXMub2Zmc2V0ICogNDAsIDEwMTQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlcy5kYXRhLnJlc3VsdC52aWRlb3MpLAogICAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgX3RoaXMudmlkZW9MaXN0LnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGl0ZW0udmlkLAogICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsCiAgICAgICAgICAgICAgICBkdXJhdGlvbm1zOiBkdXJhdGlvblRpbWUoaXRlbS5kdXJhdGlvbm1zKSwKICAgICAgICAgICAgICAgIHBsYXlUaW1lOiB0b1N0cmluZ051bShpdGVtLnBsYXlUaW1lKSwKICAgICAgICAgICAgICAgIGNvdmVyVXJsOiBpdGVtLmNvdmVyVXJsLAogICAgICAgICAgICAgICAgY3JlYXRvcjogaXRlbS5jcmVhdG9yWzBdLnVzZXJOYW1lCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy5vZmZzZXQrKzsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdC5zaG93KCLmsqHmnInmm7TlpJrkuoY6KCIsIDE5MDApOwogICAgICB9CiAgICB9LAogICAgdG9WaWRlbzogZnVuY3Rpb24gdG9WaWRlbyhpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL212cGxheS8iICsgaWQgKyAiJiIgKyBmYWxzZSk7CiAgICB9LAogICAgLy8g55uR5ZCs5rua5Yqo5LqL5Lu2CiAgICBsaW5lYXJTY3JvbGw6IGZ1bmN0aW9uIGxpbmVhclNjcm9sbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyDmu5rliqjmnaHot53nprvpobbpg6jnmoTot53nprsKICAgICAgdmFyIHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7IC8vIOWPr+inhuWMuueahOmrmOW6pgoKICAgICAgdmFyIGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7IC8vIOa7muWKqOadoeWPr+a7muWKqOeahOmrmOW6pgoKICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ7CgogICAgICBpZiAoc2Nyb2xsVG9wICsgY2xpZW50SGVpZ2h0ID49IHNjcm9sbEhlaWdodCAtIDEpIHsKICAgICAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZ2V0U2VhcmNoUmVzdWx0KCk7CgogICAgICAgICAgX3RoaXMyLiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy4kbG9hZGluZy5sb2FkaW5nU2hvdygpOwogICAgc2VhcmNoUmVzdWx0KHRoaXMuJHJvdXRlLnBhcmFtcy5rZXl3b3JkcywgNDAsIHRoaXMub2Zmc2V0ICogNDAsIDEwMTQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB0cnkgewogICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLmRhdGEucmVzdWx0LnZpZGVvcyksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgX3RoaXMzLnZpZGVvTGlzdC5wdXNoKHsKICAgICAgICAgICAgICBpZDogaXRlbS52aWQsCiAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsCiAgICAgICAgICAgICAgZHVyYXRpb25tczogZHVyYXRpb25UaW1lKGl0ZW0uZHVyYXRpb25tcyksCiAgICAgICAgICAgICAgcGxheVRpbWU6IHRvU3RyaW5nTnVtKGl0ZW0ucGxheVRpbWUpLAogICAgICAgICAgICAgIGNvdmVyVXJsOiBpdGVtLmNvdmVyVXJsLAogICAgICAgICAgICAgIGNyZWF0b3I6IGl0ZW0uY3JlYXRvclswXS51c2VyTmFtZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgX3RoaXMzLm5vRGV0YWlsID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIF90aGlzMy5vZmZzZXQrKzsKICAgIH0pOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmxpbmVhclNjcm9sbCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBfdGhpczQubGluZWFyU2Nyb2xsKTsKCiAgICAgIF90aGlzNC4kbG9hZGluZy5sb2FkaW5nTm8oKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["DetailVideo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"DetailVideo\" v-if=\"noDetail\">\n    <div\n      class=\"videoItem\"\n      @click=\"toVideo(item.id)\"\n      v-for=\"(item, index) in videoList\"\n      :key=\"index\"\n    >\n      <div class=\"vleft\">\n        <img :src=\"item.coverUrl\" alt=\"\" />\n        <div class=\"count\">▷ {{ item.playTime }}</div>\n      </div>\n      <div class=\"vright\">\n        <div class=\"vbox\">\n          <div class=\"vtitle\">{{ item.title }}</div>\n          <div class=\"videoDetail\">\n            {{ item.durationms + \" by \" }}{{ item.creator }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"noDetail\" v-else>没有更多了哦~</div>\n</template>\n\n<script>\nimport { searchResult } from \"network/search\";\nimport { toStringNum, durationTime } from \"common/common\";\nexport default {\n  name: \"DetailVideo\",\n  data() {\n    return {\n      offset: 0,\n      videoList: [],\n      more: true,\n      noDetail: true,\n    };\n  },\n  methods: {\n    // 获取数据\n    getSearchResult() {\n      if (this.more) {\n        searchResult(\n          this.$route.params.keywords,\n          40,\n          this.offset * 40,\n          1014\n        ).then((res) => {\n          for (const item of res.data.result.videos) {\n            this.videoList.push({\n              id: item.vid,\n              title: item.title,\n              durationms: durationTime(item.durationms),\n              playTime: toStringNum(item.playTime),\n              coverUrl: item.coverUrl,\n              creator: item.creator[0].userName,\n            });\n          }\n          this.offset++;\n        });\n      } else {\n        this.$toast.show(\"没有更多了:(\", 1900);\n      }\n    },\n\n    toVideo(id) {\n      this.$router.push(\"/mvplay/\" + id + \"&\" + false);\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.getSearchResult();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 40, this.offset * 40, 1014).then(\n      (res) => {\n        try {\n          for (const item of res.data.result.videos) {\n            this.videoList.push({\n              id: item.vid,\n              title: item.title,\n              durationms: durationTime(item.durationms),\n              playTime: toStringNum(item.playTime),\n              coverUrl: item.coverUrl,\n              creator: item.creator[0].userName,\n            });\n          }\n        } catch (error) {\n          this.noDetail = false;\n        }\n        this.offset++;\n      }\n    );\n  },\n  destroyed() {\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n  mounted() {\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n      this.$loading.loadingNo();\n    });\n  },\n};\n</script>\n<style scoped>\n.noDetail {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n  line-height: 13.315579rem;\n  text-align: center;\n  font-size: 0.532623rem;\n  color: #a7a7a8;\n}\n.DetailVideo {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n}\n.videoItem {\n  display: flex;\n  height: 1.997337rem;\n  margin-bottom: 0.213049rem;\n}\n.vleft {\n  flex: 4;\n  position: relative;\n}\n.count {\n  position: absolute;\n  right: 0.319574rem;\n  top: 0;\n  color: #fff;\n  font-size: 0.319574rem;\n}\n.vleft img {\n  width: 3.462051rem;\n  height: 100%;\n  border-radius: 0.133156rem;\n}\n.vright {\n  flex: 6;\n  display: flex;\n  align-items: center;\n}\n.vtitle {\n  text-overflow: -o-ellipsis-lastline;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  font-size: 0.346205rem;\n}\n.videoDetail {\n  font-size: 0.319574rem;\n  color: #a7a7a8;\n}\n</style>"],"sourceRoot":"src/views/search/childrenComps"}]}