{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js!F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailMv.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailMv.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJGOi92c2NvZGUvZ29jb2RlL2Nsb3VkTXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBzZWFyY2hSZXN1bHQgfSBmcm9tICJuZXR3b3JrL3NlYXJjaCI7CmltcG9ydCB7IHRvU3RyaW5nTnVtLCBkdXJhdGlvblRpbWUgfSBmcm9tICJjb21tb24vY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEZXRhaWxNdiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9mZnNldDogMCwKICAgICAgbXZMaXN0OiBbXSwKICAgICAgbW9yZTogMQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vICAg6Lev55Sx6Lez6L2sCiAgICB0b012OiBmdW5jdGlvbiB0b012KGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbXZwbGF5LycgKyBpZCk7CiAgICB9LAogICAgLy8g6I635Y+W5pWw5o2uCiAgICBnZXRTZWFyY2hSZXN1bHQ6IGZ1bmN0aW9uIGdldFNlYXJjaFJlc3VsdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm1vcmUgIT09IDApIHsKICAgICAgICBzZWFyY2hSZXN1bHQodGhpcy4kcm91dGUucGFyYW1zLmtleXdvcmRzLCA0MCwgdGhpcy5vZmZzZXQgKiA0MCwgMTAwNCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpcy5tb3JlID0gcmVzLmRhdGEucmVzdWx0Lm12Q291bnQ7CgogICAgICAgICAgaWYgKHJlcy5kYXRhLnJlc3VsdC5tdnMgIT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlcy5kYXRhLnJlc3VsdC5tdnMpLAogICAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICAgIF90aGlzLm12TGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9ubXM6IGR1cmF0aW9uVGltZShpdGVtLmR1cmF0aW9uKSwKICAgICAgICAgICAgICAgICAgcGxheVRpbWU6IHRvU3RyaW5nTnVtKGl0ZW0ucGxheUNvdW50KSwKICAgICAgICAgICAgICAgICAgY292ZXJVcmw6IGl0ZW0uY292ZXIsCiAgICAgICAgICAgICAgICAgIGFydGlzdE5hbWU6IGl0ZW0uYXJ0aXN0TmFtZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzLm9mZnNldCsrOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHRvYXN0LnNob3coIuayoeacieabtOWkmuS6hjooIiwgMTkwMCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnm5HlkKzmu5rliqjkuovku7YKICAgIGxpbmVhclNjcm9sbDogZnVuY3Rpb24gbGluZWFyU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIOa7muWKqOadoei3neemu+mhtumDqOeahOi3neemuwogICAgICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsgLy8g5Y+v6KeG5Yy655qE6auY5bqmCgogICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsgLy8g5rua5Yqo5p2h5Y+v5rua5Yqo55qE6auY5bqmCgogICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKCiAgICAgIGlmIChzY3JvbGxUb3AgKyBjbGllbnRIZWlnaHQgPj0gc2Nyb2xsSGVpZ2h0IC0gMSkgewogICAgICAgIHRoaXMuJGxvYWRpbmcubG9hZGluZ1Nob3coKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5nZXRTZWFyY2hSZXN1bHQoKTsKCiAgICAgICAgICBfdGhpczIuJGxvYWRpbmcubG9hZGluZ05vKCk7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICBzZWFyY2hSZXN1bHQodGhpcy4kcm91dGUucGFyYW1zLmtleXdvcmRzLCA0MCwgdGhpcy5vZmZzZXQgKiA0MCwgMTAwNCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLmRhdGEucmVzdWx0Lm12cyksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBfdGhpczMubXZMaXN0LnB1c2goewogICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgZHVyYXRpb25tczogZHVyYXRpb25UaW1lKGl0ZW0uZHVyYXRpb24pLAogICAgICAgICAgICBwbGF5VGltZTogdG9TdHJpbmdOdW0oaXRlbS5wbGF5Q291bnQpLAogICAgICAgICAgICBjb3ZlclVybDogaXRlbS5jb3ZlciwKICAgICAgICAgICAgYXJ0aXN0TmFtZTogaXRlbS5hcnRpc3ROYW1lCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CgogICAgICBfdGhpczMub2Zmc2V0Kys7CiAgICB9KTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5saW5lYXJTY3JvbGwpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgX3RoaXM0LmxpbmVhclNjcm9sbCk7CgogICAgICBfdGhpczQuJGxvYWRpbmcubG9hZGluZ05vKCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["DetailMv.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"DetailMv\">\n    <div class=\"videoItem\" @click=\"toMv(item.id)\" v-for=\"(item, index) in mvList\" :key=\"index\">\n      <div class=\"vleft\">\n        <img :src=\"item.coverUrl\" alt=\"\" />\n        <div class=\"count\">▷ {{ item.playTime }}</div>\n      </div>\n      <div class=\"vright\">\n        <div class=\"vbox\">\n          <div class=\"vtitle\">{{ item.title }}</div>\n          <div class=\"videoDetail\">\n            {{ item.durationms + \" by \" }}{{ item.creator }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { searchResult } from \"network/search\";\nimport { toStringNum, durationTime } from \"common/common\";\nexport default {\n  name: \"DetailMv\",\n  data() {\n    return {\n      offset: 0,\n      mvList: [],\n      more: 1,\n    };\n  },\n  methods: {\n    //   路由跳转\n    toMv(id){\n        this.$router.push('/mvplay/' + id)\n    },\n\n    // 获取数据\n    getSearchResult() {\n      if (this.more !== 0) {\n        searchResult(\n          this.$route.params.keywords,\n          40,\n          this.offset * 40,\n          1004\n        ).then((res) => {\n          \n          this.more = res.data.result.mvCount;\n          if (res.data.result.mvs !== null) {\n            for (const item of res.data.result.mvs) {\n              this.mvList.push({\n                id: item.id,\n                title: item.name,\n                durationms: durationTime(item.duration),\n                playTime: toStringNum(item.playCount),\n                coverUrl: item.cover,\n                artistName: item.artistName,\n              });\n            }\n            this.offset++;\n          }\n        });\n      } else {\n        this.$toast.show(\"没有更多了:(\", 1900);\n      }\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.getSearchResult();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 40, this.offset * 40, 1004).then(\n      (res) => {\n        for (const item of res.data.result.mvs) {\n          this.mvList.push({\n            id: item.id,\n            title: item.name,\n            durationms: durationTime(item.duration),\n            playTime: toStringNum(item.playCount),\n            coverUrl: item.cover,\n            artistName: item.artistName,\n          });\n        }\n        this.offset++;\n      }\n    );\n  },\n  destroyed() {\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n  mounted() {\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n      this.$loading.loadingNo();\n    });\n  },\n};\n</script>\n<style scoped>\n.DetailMv {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n  background-color: #fff;\n}\n.videoItem {\n  display: flex;\n  height: 1.997337rem;\n  margin-bottom: 0.213049rem;\n}\n.vleft {\n  flex: 4;\n  position: relative;\n}\n.count {\n  position: absolute;\n  right: 0.319574rem;\n  top: 0;\n  color: #fff;\n  font-size: 0.319574rem;\n}\n.vleft img {\n  width: 3.462051rem;\n  height: 100%;\n  border-radius: 0.133156rem;\n}\n.vright {\n  flex: 6;\n  display: flex;\n  align-items: center;\n}\n.vtitle {\n  text-overflow: -o-ellipsis-lastline;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  font-size: 0.346205rem;\n}\n.videoDetail {\n  font-size: 0.319574rem;\n  color: #a7a7a8;\n}\n</style>"],"sourceRoot":"src/views/search/childrenComps"}]}