{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\ClassifyInfo.vue?vue&type=style&index=0&id=ac0ae8b0&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\ClassifyInfo.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouQ2xhc3NpZnlJbmZvIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMHZoOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwp9Ci5jb250ZW50IHsKICBwYWRkaW5nOiAxMHB4IDEycHg7Cn0K"},{"version":3,"sources":["ClassifyInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClassifyInfo.vue","sourceRoot":"src/views/radioStation/childrenComps","sourcesContent":["<template>\n  <div class=\"ClassifyInfo\">\n    <menu-nav :navTitle=\"navTitle\"></menu-nav>\n    <mscroll style=\"top: 44px; bottom: 45px\" :scrollY=\"true\">\n      <div\n        class=\"content\"\n        v-infinite-scroll=\"loadAudio\"\n        infinite-scroll-distance=\"100\"\n        infinite-scroll-delay=\"500\"\n        infinite-scroll-immediate=\"fasle\"\n      >\n        <info-item :audioList=\"audioList\"></info-item>\n      </div>\n    </mscroll>\n  </div>\n</template>\n\n<script>\nimport menuNav from \"components/context/menuNav/MenuNav\"; // 导航栏组件\nimport infoItem from \"./ClassifyInfoItem\"; // 电台列表组件\nimport mscroll from \"components/common/muiScroll/MuiScroll\"; // 滚动组件\nimport {\n  getRecommend,\n  getRecommendHot,\n  getPaygift\n} from \"network/radioStation\";\n\nexport default {\n  name: \"ClassifyInfo\",\n  data() {\n    return {\n      audioList: [],\n      offset: 0, // 请求页数\n      count: 0, // 分类电台数量\n      nowCount: 0, // 目前获取到的电台数量\n      navTitle: \"\",\n      index: 0,\n      audioLength: 1, // 判断是否发送请求\n    };\n  },\n  methods: {\n    loadAudio() {\n      this.$loading.loadingShow();\n      setTimeout(() => {\n        this.getAudio();\n        this.$loading.loadingNo();\n      }, 1000);\n    },\n\n    // 获取电台信息\n    getAudio() {\n      if (this.$route.params.type > 0) {\n        if (this.audioLength > 0) {\n          getRecommendHot(this.$route.params.type, 30, this.offset * 30).then(\n            (res) => {\n              this.audioLength = res.data.djRadios.length;  // 保存每次数组长度\n              this.navTitle = res.data.djRadios[0].category;\n              this.count = res.data.count;\n              this.nowCount += res.data.djRadios.length;\n              if (this.nowCount <= this.count) {\n                for (const item of res.data.djRadios) {\n                  this.audioList.push({\n                    id: item.id, // 电台id\n                    rcmdtext: item.rcmdtext, // 电台标题\n                    name: item.name, // 电台名称\n                    price: item.price, // 电台价格\n                    programCount: item.programCount, // 节目数量\n                    subCount: item.subCount, // 订阅人数\n                    picUrl: item.picUrl, // 电台封面\n                  });\n                }\n                this.offset++;\n              } else {\n                this.$toast.show(\"没有更多了:(\", 1900);\n              }\n            }\n          );\n        }\n      } else if (this.$route.params.type == 0) {\n        getPaygift(30, this.offset).then((res) => {\n          this.navTitle = \"付费精选\";\n          this.nowCount += res.data.data.list.length;\n          if (res.data.data.hasMore) {\n            for (const item of res.data.data.list) {\n              this.audioList.push({\n                id: item.id, // 电台id\n                rcmdtext: item.rcmdtext, // 电台标题\n                name: item.name, // 电台名称\n                price: item.originalPrice, // 电台价格\n                programCount: item.programCount, // 节目数量\n                subCount: item.subCount, // 订阅人数\n                picUrl: item.picUrl, // 电台封面\n              });\n            }\n            this.offset++;\n          } else {\n            this.$toast.show(\"没有更多了:(\", 1900);\n          }\n        });\n      }\n    },\n\n    \n  },\n  created() {\n    this.getAudio();  // 节目列表\n    \n  },\n  components: {\n    menuNav,\n    infoItem,\n    mscroll,\n  },\n};\n</script>\n<style scoped>\n.ClassifyInfo {\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  background-color: #fff;\n}\n.content {\n  padding: 10px 12px;\n}\n</style>"]}]}