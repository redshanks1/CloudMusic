{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\ClassifyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\ClassifyInfo.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtZW51TmF2IGZyb20gImNvbXBvbmVudHMvY29udGV4dC9tZW51TmF2L01lbnVOYXYiOyAvLyDlr7zoiKrmoI/nu4Tku7YKaW1wb3J0IGluZm9JdGVtIGZyb20gIi4vQ2xhc3NpZnlJbmZvSXRlbSI7IC8vIOeUteWPsOWIl+ihqOe7hOS7tgppbXBvcnQgbXNjcm9sbCBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9tdWlTY3JvbGwvTXVpU2Nyb2xsIjsgLy8g5rua5Yqo57uE5Lu2CmltcG9ydCB7CiAgZ2V0UmVjb21tZW5kLAogIGdldFJlY29tbWVuZEhvdCwKICBnZXRQYXlnaWZ0Cn0gZnJvbSAibmV0d29yay9yYWRpb1N0YXRpb24iOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDbGFzc2lmeUluZm8iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdWRpb0xpc3Q6IFtdLAogICAgICBvZmZzZXQ6IDAsIC8vIOivt+axgumhteaVsAogICAgICBjb3VudDogMCwgLy8g5YiG57G755S15Y+w5pWw6YePCiAgICAgIG5vd0NvdW50OiAwLCAvLyDnm67liY3ojrflj5bliLDnmoTnlLXlj7DmlbDph48KICAgICAgbmF2VGl0bGU6ICIiLAogICAgICBpbmRleDogMCwKICAgICAgYXVkaW9MZW5ndGg6IDEsIC8vIOWIpOaWreaYr+WQpuWPkemAgeivt+axggogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRBdWRpbygpIHsKICAgICAgdGhpcy4kbG9hZGluZy5sb2FkaW5nU2hvdygpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmdldEF1ZGlvKCk7CiAgICAgICAgdGhpcy4kbG9hZGluZy5sb2FkaW5nTm8oKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAoKICAgIC8vIOiOt+WPlueUteWPsOS/oeaBrwogICAgZ2V0QXVkaW8oKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMudHlwZSA+IDApIHsKICAgICAgICBpZiAodGhpcy5hdWRpb0xlbmd0aCA+IDApIHsKICAgICAgICAgIGdldFJlY29tbWVuZEhvdCh0aGlzLiRyb3V0ZS5wYXJhbXMudHlwZSwgMzAsIHRoaXMub2Zmc2V0ICogMzApLnRoZW4oCiAgICAgICAgICAgIChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLmF1ZGlvTGVuZ3RoID0gcmVzLmRhdGEuZGpSYWRpb3MubGVuZ3RoOyAgLy8g5L+d5a2Y5q+P5qyh5pWw57uE6ZW/5bqmCiAgICAgICAgICAgICAgdGhpcy5uYXZUaXRsZSA9IHJlcy5kYXRhLmRqUmFkaW9zWzBdLmNhdGVnb3J5OwogICAgICAgICAgICAgIHRoaXMuY291bnQgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgICAgICB0aGlzLm5vd0NvdW50ICs9IHJlcy5kYXRhLmRqUmFkaW9zLmxlbmd0aDsKICAgICAgICAgICAgICBpZiAodGhpcy5ub3dDb3VudCA8PSB0aGlzLmNvdW50KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzLmRhdGEuZGpSYWRpb3MpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsIC8vIOeUteWPsGlkCiAgICAgICAgICAgICAgICAgICAgcmNtZHRleHQ6IGl0ZW0ucmNtZHRleHQsIC8vIOeUteWPsOagh+mimAogICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwgLy8g55S15Y+w5ZCN56ewCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGl0ZW0ucHJpY2UsIC8vIOeUteWPsOS7t+agvAogICAgICAgICAgICAgICAgICAgIHByb2dyYW1Db3VudDogaXRlbS5wcm9ncmFtQ291bnQsIC8vIOiKguebruaVsOmHjwogICAgICAgICAgICAgICAgICAgIHN1YkNvdW50OiBpdGVtLnN1YkNvdW50LCAvLyDorqLpmIXkurrmlbAKICAgICAgICAgICAgICAgICAgICBwaWNVcmw6IGl0ZW0ucGljVXJsLCAvLyDnlLXlj7DlsIHpnaIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCsrOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zaG93KCLmsqHmnInmm7TlpJrkuoY6KCIsIDE5MDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucGFyYW1zLnR5cGUgPT0gMCkgewogICAgICAgIGdldFBheWdpZnQoMzAsIHRoaXMub2Zmc2V0KS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubmF2VGl0bGUgPSAi5LuY6LS557K+6YCJIjsKICAgICAgICAgIHRoaXMubm93Q291bnQgKz0gcmVzLmRhdGEuZGF0YS5saXN0Lmxlbmd0aDsKICAgICAgICAgIGlmIChyZXMuZGF0YS5kYXRhLmhhc01vcmUpIHsKICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHJlcy5kYXRhLmRhdGEubGlzdCkgewogICAgICAgICAgICAgIHRoaXMuYXVkaW9MaXN0LnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsIC8vIOeUteWPsGlkCiAgICAgICAgICAgICAgICByY21kdGV4dDogaXRlbS5yY21kdGV4dCwgLy8g55S15Y+w5qCH6aKYCiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsIC8vIOeUteWPsOWQjeensAogICAgICAgICAgICAgICAgcHJpY2U6IGl0ZW0ub3JpZ2luYWxQcmljZSwgLy8g55S15Y+w5Lu35qC8CiAgICAgICAgICAgICAgICBwcm9ncmFtQ291bnQ6IGl0ZW0ucHJvZ3JhbUNvdW50LCAvLyDoioLnm67mlbDph48KICAgICAgICAgICAgICAgIHN1YkNvdW50OiBpdGVtLnN1YkNvdW50LCAvLyDorqLpmIXkurrmlbAKICAgICAgICAgICAgICAgIHBpY1VybDogaXRlbS5waWNVcmwsIC8vIOeUteWPsOWwgemdogogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMub2Zmc2V0Kys7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiR0b2FzdC5zaG93KCLmsqHmnInmm7TlpJrkuoY6KCIsIDE5MDApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QXVkaW8oKTsgIC8vIOiKguebruWIl+ihqAogICAgCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBtZW51TmF2LAogICAgaW5mb0l0ZW0sCiAgICBtc2Nyb2xsLAogIH0sCn07Cg=="},{"version":3,"sources":["ClassifyInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClassifyInfo.vue","sourceRoot":"src/views/radioStation/childrenComps","sourcesContent":["<template>\n  <div class=\"ClassifyInfo\">\n    <menu-nav :navTitle=\"navTitle\"></menu-nav>\n    <mscroll style=\"top: 44px; bottom: 45px\" :scrollY=\"true\">\n      <div\n        class=\"content\"\n        v-infinite-scroll=\"loadAudio\"\n        infinite-scroll-distance=\"100\"\n        infinite-scroll-delay=\"500\"\n        infinite-scroll-immediate=\"fasle\"\n      >\n        <info-item :audioList=\"audioList\"></info-item>\n      </div>\n    </mscroll>\n  </div>\n</template>\n\n<script>\nimport menuNav from \"components/context/menuNav/MenuNav\"; // 导航栏组件\nimport infoItem from \"./ClassifyInfoItem\"; // 电台列表组件\nimport mscroll from \"components/common/muiScroll/MuiScroll\"; // 滚动组件\nimport {\n  getRecommend,\n  getRecommendHot,\n  getPaygift\n} from \"network/radioStation\";\n\nexport default {\n  name: \"ClassifyInfo\",\n  data() {\n    return {\n      audioList: [],\n      offset: 0, // 请求页数\n      count: 0, // 分类电台数量\n      nowCount: 0, // 目前获取到的电台数量\n      navTitle: \"\",\n      index: 0,\n      audioLength: 1, // 判断是否发送请求\n    };\n  },\n  methods: {\n    loadAudio() {\n      this.$loading.loadingShow();\n      setTimeout(() => {\n        this.getAudio();\n        this.$loading.loadingNo();\n      }, 1000);\n    },\n\n    // 获取电台信息\n    getAudio() {\n      if (this.$route.params.type > 0) {\n        if (this.audioLength > 0) {\n          getRecommendHot(this.$route.params.type, 30, this.offset * 30).then(\n            (res) => {\n              this.audioLength = res.data.djRadios.length;  // 保存每次数组长度\n              this.navTitle = res.data.djRadios[0].category;\n              this.count = res.data.count;\n              this.nowCount += res.data.djRadios.length;\n              if (this.nowCount <= this.count) {\n                for (const item of res.data.djRadios) {\n                  this.audioList.push({\n                    id: item.id, // 电台id\n                    rcmdtext: item.rcmdtext, // 电台标题\n                    name: item.name, // 电台名称\n                    price: item.price, // 电台价格\n                    programCount: item.programCount, // 节目数量\n                    subCount: item.subCount, // 订阅人数\n                    picUrl: item.picUrl, // 电台封面\n                  });\n                }\n                this.offset++;\n              } else {\n                this.$toast.show(\"没有更多了:(\", 1900);\n              }\n            }\n          );\n        }\n      } else if (this.$route.params.type == 0) {\n        getPaygift(30, this.offset).then((res) => {\n          this.navTitle = \"付费精选\";\n          this.nowCount += res.data.data.list.length;\n          if (res.data.data.hasMore) {\n            for (const item of res.data.data.list) {\n              this.audioList.push({\n                id: item.id, // 电台id\n                rcmdtext: item.rcmdtext, // 电台标题\n                name: item.name, // 电台名称\n                price: item.originalPrice, // 电台价格\n                programCount: item.programCount, // 节目数量\n                subCount: item.subCount, // 订阅人数\n                picUrl: item.picUrl, // 电台封面\n              });\n            }\n            this.offset++;\n          } else {\n            this.$toast.show(\"没有更多了:(\", 1900);\n          }\n        });\n      }\n    },\n\n    \n  },\n  created() {\n    this.getAudio();  // 节目列表\n    \n  },\n  components: {\n    menuNav,\n    infoItem,\n    mscroll,\n  },\n};\n</script>\n<style scoped>\n.ClassifyInfo {\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  background-color: #fff;\n}\n.content {\n  padding: 10px 12px;\n}\n</style>"]}]}