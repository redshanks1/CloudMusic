{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\audioPlayComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\audioPlayComment.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtc2Nyb2xsIGZyb20gImNvbXBvbmVudHMvY29tbW9uL211aVNjcm9sbC9NdWlTY3JvbGwiOwppbXBvcnQgeyBnZXRDb21tZW50QXVkaW8gfSBmcm9tICJuZXR3b3JrL3JhZGlvU3RhdGlvbiI7CmltcG9ydCBzZW5kQ29tbWVudCBmcm9tICJjb21wb25lbnRzL2NvbnRleHQvc2VuZENvbW1lbnQvU2VuZENvbW1lbnQiOyAvLyDlj5HpgIHor4TorroKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbImF1ZGlvSWQiXSwKICBuYW1lOiAiYXVkaW9QbGF5Q29tbWVudCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dTaGFyZTogZmFsc2UsCiAgICAgIGNvbW1lbnRUaXRsZTogIiIsCiAgICAgIGNvbW1lbnRMaXN0OiBbXSwgLy8g6K+E6K665pWw57uECiAgICAgIG9wdGlvbnM6IFsKICAgICAgICAvLyDliIbkuqvpnaLmnb8KICAgICAgICBbCiAgICAgICAgICB7IG5hbWU6ICLlvq7kv6EiLCBpY29uOiAid2VjaGF0IiB9LAogICAgICAgICAgeyBuYW1lOiAi5b6u5Y2aIiwgaWNvbjogIndlaWJvIiB9LAogICAgICAgICAgeyBuYW1lOiAiUVEiLCBpY29uOiAicXEiIH0sCiAgICAgICAgXSwKICAgICAgICBbCiAgICAgICAgICB7IG5hbWU6ICLlpI3liLbpk77mjqUiLCBpY29uOiAibGluayIgfSwKICAgICAgICAgIHsgbmFtZTogIuWIhuS6q+a1t+aKpSIsIGljb246ICJwb3N0ZXIiIH0sCiAgICAgICAgICB7IG5hbWU6ICLkuoznu7TnoIEiLCBpY29uOiAicXJjb2RlIiB9LAogICAgICAgIF0sCiAgICAgIF0sCiAgICAgIG9mZnNldDogMCwgLy8g6K+E6K665YiG6aG1CiAgICAgIGxpa2VkSW1nOiByZXF1aXJlKCJhc3NldHMvaW1nL2NvbW1lbnRMaXN0L3phbi5zdmciKSwKICAgICAgY29tbWVudExlbmd0aDogMSwgLy8g6K+E6K665pWw57uE5pWw6YePCiAgICAgIHR5cGU6IDQsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VjY2Vzc0NvbW1lbnQoY29tbWVudERldGFpbCkgewogICAgICB0aGlzLmNvbW1lbnRMaXN0LnVuc2hpZnQoewogICAgICAgIGNvbnRlbnQ6IGNvbW1lbnREZXRhaWwuY29udGVudCwgLy8g6K+E6K665YaF5a65CiAgICAgICAgbGlrZWRDb3VudDogMCwgLy8g5Zac5qyi5pWw6YePCiAgICAgICAgdGltZTogY29tbWVudERldGFpbC50aW1lLCAvLyDlj5HluIPml7bpl7TmiLMKICAgICAgICB1c2VySW1nOiBjb21tZW50RGV0YWlsLmF2YXRhclVybCwgLy8g55So5oi35aS05YOPCiAgICAgICAgdXNlck5hbWU6IGNvbW1lbnREZXRhaWwubmlja25hbWUsIC8vIOeUqOaIt+aYteensAogICAgICAgIHVzZXJJZDogY29tbWVudERldGFpbC5pZCwgLy8g55So5oi3aWQKICAgICAgICB2aXBUeXBlOiAwLAogICAgICB9KTsKICAgIH0sCgogICAgYmFjaygpIHsKICAgICAgdGhpcy4kZW1pdCgidG9iYWNrIik7CiAgICB9LAoKICAgIGZ4aWFuZygpIHsKICAgICAgdGhpcy5zaG93U2hhcmUgPSB0cnVlOwogICAgfSwKCiAgICAvLyDkuIvmi4nliqDovb0KICAgIGxvYWRDb21tZW50KCkgewogICAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICAgIHRoaXMuZ2V0Q29tbWVudCgpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0Q29tbWVudCgpIHsKICAgICAgaWYgKHRoaXMuY29tbWVudExlbmd0aCA+IDApIHsKICAgICAgICBnZXRDb21tZW50QXVkaW8odGhpcy4kcm91dGUucGFyYW1zLmlkLCAzMCwgdGhpcy5vZmZzZXQgKiAzMCkudGhlbigKICAgICAgICAgIChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5jb21tZW50TGVuZ3RoID0gcmVzLmRhdGEuY29tbWVudHMubGVuZ3RoOwogICAgICAgICAgICB0aGlzLmNvbW1lbnRUaXRsZSA9ICLor4TorrooIiArIHJlcy5kYXRhLnRvdGFsICsgIikiOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuaG90Q29tbWVudHMpIHsKICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzLmRhdGEuaG90Q29tbWVudHMpIHsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudExpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgIHVzZXJJbWc6IGl0ZW0udXNlci5hdmF0YXJVcmwsIC8vIOWktOWDjwogICAgICAgICAgICAgICAgICB1c2VyTmFtZTogaXRlbS51c2VyLm5pY2tuYW1lLCAvLyDmmLXnp7AKICAgICAgICAgICAgICAgICAgdmlwVHlwZTogaXRlbS51c2VyLnZpcFR5cGUsIC8vIOaYr+WQpuS8muWRmAogICAgICAgICAgICAgICAgICB1c2VySWQ6IGl0ZW0udXNlci51c2VySWQsIC8vIOeUqOaIt2lkCiAgICAgICAgICAgICAgICAgIHRpbWU6IGl0ZW0udGltZSwgLy8g5Y+R5biD5pe26Ze0CiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudCwgLy8g6K+E6K665YaF5a65CiAgICAgICAgICAgICAgICAgIGxpa2VkQ291bnQ6IGl0ZW0ubGlrZWRDb3VudCwgLy8g54K56LWe5pWwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb21tZW50cykgewogICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByZXMuZGF0YS5jb21tZW50cykgewogICAgICAgICAgICAgICAgdGhpcy5jb21tZW50TGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgdXNlckltZzogaXRlbS51c2VyLmF2YXRhclVybCwgLy8g5aS05YOPCiAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBpdGVtLnVzZXIubmlja25hbWUsIC8vIOaYteensAogICAgICAgICAgICAgICAgICB2aXBUeXBlOiBpdGVtLnVzZXIudmlwVHlwZSwgLy8g5piv5ZCm5Lya5ZGYCiAgICAgICAgICAgICAgICAgIHVzZXJJZDogaXRlbS51c2VyLnVzZXJJZCwgLy8g55So5oi3aWQKICAgICAgICAgICAgICAgICAgdGltZTogaXRlbS50aW1lLCAvLyDlj5HluIPml7bpl7QKICAgICAgICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50LCAvLyDor4TorrrlhoXlrrkKICAgICAgICAgICAgICAgICAgbGlrZWRDb3VudDogaXRlbS5saWtlZENvdW50LCAvLyDngrnotZ7mlbAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLm9mZnNldCsrOwogICAgICAgICAgfQogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygi5rKh5pyJ5pu05aSa5LqGOigiLCAxOTAwKTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIG1zY3JvbGwsCiAgICBzZW5kQ29tbWVudCwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENvbW1lbnQoKTsKICB9LAp9Owo="},{"version":3,"sources":["audioPlayComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"audioPlayComment.vue","sourceRoot":"src/views/radioStation/childrenComps","sourcesContent":["<template>\n  <div class=\"audioPlayComment\">\n    <div class=\"nav\">\n      <div class=\"left\" @click=\"back\">\n        <img src=\"~assets/img/commentList/fanhui.svg\" alt=\"\" />\n      </div>\n      <div class=\"center\">\n        {{ commentTitle }}\n      </div>\n      <div class=\"rightbox\" @click=\"fxiang\">\n        <img src=\"~assets/img/commentList/fenxiang.svg\" alt=\"\" />\n      </div>\n    </div>\n    <mscroll class=\"conscroll\" :scrollY=\"true\">\n      <div\n        class=\"content\"\n        v-if=\"commentList.length > 0\"\n        v-infinite-scroll=\"loadComment\"\n        infinite-scroll-distance=\"100\"\n        infinite-scroll-delay=\"500\"\n        infinite-scroll-immediate=\"fasle\"\n      >\n        <div class=\"item\" v-for=\"(item, index) in commentList\" :key=\"index\">\n          <div class=\"topbox\">\n            <div class=\"userImg\">\n              <img v-lazy=\"item.userImg\" alt=\"\" />\n            </div>\n            <div class=\"userName\">\n              <div class=\"name\">\n                {{ item.userName }}\n                <img\n                  v-if=\"item.vipType !== 0\"\n                  src=\"~assets/img/common/vip1.svg\"\n                  alt=\"\"\n                />\n              </div>\n              <div class=\"addtime\">\n                {{ item.time | getTime }}\n              </div>\n            </div>\n            <div class=\"liked\">\n              <div class=\"count\">\n                {{ item.likedCount }}\n                <img :src=\"likedImg\" alt=\"\" />\n              </div>\n            </div>\n          </div>\n          <div class=\"bottombox\">\n            <div class=\"left\"></div>\n            <div class=\"right\">\n              {{ item.content }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-else class=\"noComment\">还没有评论哦~</div>\n    </mscroll>\n    <send-comment\n      @successComment=\"successComment\"\n      :type=\"type\"\n      :id=\"$route.params.id\"\n      class=\"SendComment\"\n    ></send-comment>\n    <van-share-sheet\n      v-model=\"showShare\"\n      title=\"立即分享给好友\"\n      :options=\"options\"\n    />\n  </div>\n</template>\n\n<script>\nimport mscroll from \"components/common/muiScroll/MuiScroll\";\nimport { getCommentAudio } from \"network/radioStation\";\nimport sendComment from \"components/context/sendComment/SendComment\"; // 发送评论\nexport default {\n  props: [\"audioId\"],\n  name: \"audioPlayComment\",\n  data() {\n    return {\n      showShare: false,\n      commentTitle: \"\",\n      commentList: [], // 评论数组\n      options: [\n        // 分享面板\n        [\n          { name: \"微信\", icon: \"wechat\" },\n          { name: \"微博\", icon: \"weibo\" },\n          { name: \"QQ\", icon: \"qq\" },\n        ],\n        [\n          { name: \"复制链接\", icon: \"link\" },\n          { name: \"分享海报\", icon: \"poster\" },\n          { name: \"二维码\", icon: \"qrcode\" },\n        ],\n      ],\n      offset: 0, // 评论分页\n      likedImg: require(\"assets/img/commentList/zan.svg\"),\n      commentLength: 1, // 评论数组数量\n      type: 4,\n    };\n  },\n  methods: {\n    successComment(commentDetail) {\n      this.commentList.unshift({\n        content: commentDetail.content, // 评论内容\n        likedCount: 0, // 喜欢数量\n        time: commentDetail.time, // 发布时间戳\n        userImg: commentDetail.avatarUrl, // 用户头像\n        userName: commentDetail.nickname, // 用户昵称\n        userId: commentDetail.id, // 用户id\n        vipType: 0,\n      });\n    },\n\n    back() {\n      this.$emit(\"toback\");\n    },\n\n    fxiang() {\n      this.showShare = true;\n    },\n\n    // 下拉加载\n    loadComment() {\n      this.$loading.loadingShow();\n      this.getComment();\n      setTimeout(() => {\n        this.$loading.loadingNo();\n      });\n    },\n\n    getComment() {\n      if (this.commentLength > 0) {\n        getCommentAudio(this.$route.params.id, 30, this.offset * 30).then(\n          (res) => {\n            this.commentLength = res.data.comments.length;\n            this.commentTitle = \"评论(\" + res.data.total + \")\";\n            if (res.data.hotComments) {\n              for (const item of res.data.hotComments) {\n                this.commentList.push({\n                  userImg: item.user.avatarUrl, // 头像\n                  userName: item.user.nickname, // 昵称\n                  vipType: item.user.vipType, // 是否会员\n                  userId: item.user.userId, // 用户id\n                  time: item.time, // 发布时间\n                  content: item.content, // 评论内容\n                  likedCount: item.likedCount, // 点赞数\n                });\n              }\n            }\n\n            if (res.data.comments) {\n              for (const item of res.data.comments) {\n                this.commentList.push({\n                  userImg: item.user.avatarUrl, // 头像\n                  userName: item.user.nickname, // 昵称\n                  vipType: item.user.vipType, // 是否会员\n                  userId: item.user.userId, // 用户id\n                  time: item.time, // 发布时间\n                  content: item.content, // 评论内容\n                  likedCount: item.likedCount, // 点赞数\n                });\n              }\n            }\n            this.offset++;\n          }\n        );\n      } else {\n        this.$toast.show(\"没有更多了:(\", 1900);\n      }\n    },\n  },\n  components: {\n    mscroll,\n    sendComment,\n  },\n  created() {\n    this.getComment();\n  },\n};\n</script>\n<style scoped>\n.noComment {\n  height: 13.315579rem;\n  line-height: 13.315579rem;\n  text-align: center;\n  font-size: 0.479361rem;\n  font-weight: 550;\n  color: #9c9c9c;\n}\n.SendComment {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n}\n.audioPlayComment {\n  width: 100%;\n  height: 100vh;\n  background: #fff;\n  position: absolute;\n  top: 0;\n  z-index: 62;\n}\n.CommentList {\n  width: 100%;\n  background: #fff;\n  position: absolute;\n  top: 0;\n  z-index: 60;\n}\n.nav {\n  width: 100%;\n  height: 1.198402rem;\n  display: flex;\n  color: #fff;\n  background-color: rgb(212, 81, 74);\n  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.5);\n}\n.left {\n  flex: 1;\n}\n.left img {\n  width: 0.665779rem;\n  height: 0.532623rem;\n  position: relative;\n  top: 0.332889rem;\n  margin-left: 0.159787rem;\n}\n.center {\n  flex: 7;\n  line-height: 1.198402rem;\n  font-size: 0.45273rem;\n}\n.rightbox {\n  flex: 1;\n}\n.rightbox img {\n  width: 0.585885rem;\n  height: 0.585885rem;\n  position: relative;\n  top: 0.292943rem;\n  margin-left: 0.23968rem;\n}\n.comment {\n  height: 13.848202rem;\n}\n.content {\n  padding: 0.426099rem 0.319574rem;\n}\n.topbox {\n  width: 100%;\n  height: 1.065246rem;\n  display: flex;\n}\n.userImg {\n  flex: 1.3;\n}\n.userName {\n  flex: 5;\n  font-size: 0.346205rem;\n  margin-top: 0.053262rem;\n}\n.name {\n  position: relative;\n}\n.name img {\n  height: 0.639148rem;\n  margin-left: 0.079893rem;\n  position: absolute;\n  top: -0.079893rem;\n}\n.liked {\n  flex: 2.2;\n}\n.addtime {\n  font-size: 0.319574rem;\n  color: #8b8b8b;\n  margin-top: -0.106525rem;\n}\n.userImg img {\n  width: 1.065246rem;\n  height: 1.065246rem;\n  border-radius: 50%;\n  overflow: hidden;\n}\n.count {\n  color: #8b8b8b;\n  margin-top: 0.213049rem;\n  font-size: 0.372836rem;\n  float: right;\n}\n.count img {\n  position: relative;\n  top: 1px;\n}\n.bottombox {\n  width: 100%;\n  display: flex;\n  padding-bottom: 0.186418rem;\n}\n.left {\n  flex: 1.3;\n}\n.right {\n  flex: 7;\n  font-size: 0.364847rem;\n  padding-bottom: 0.186418rem;\n  border-bottom: 1px solid rgb(230, 230, 230);\n}\n.conscroll {\n  top: 45px;\n  background-color: #fff;\n  height: calc(100vh - 1.065246rem - 1.065246rem);\n}\n</style>"]}]}