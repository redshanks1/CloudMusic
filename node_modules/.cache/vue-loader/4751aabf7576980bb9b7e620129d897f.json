{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\information\\childrenComps\\homepage.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\information\\childrenComps\\homepage.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzaGVldEl0ZW0gZnJvbSAiLi9zaGVldEl0ZW0iOwppbXBvcnQgeyBnZXRVc2VyUGxheUxpc3QsIGdldFVzZXJEZXRhaWwgfSBmcm9tICJuZXR3b3JrL3VzZXIiOwppbXBvcnQgeyB0b1N0cmluZ051bSB9IGZyb20gImNvbW1vbi9jb21tb24iOwppbXBvcnQgeyBnZXRQbGF5TGlzdCB9IGZyb20gIm5ldHdvcmsvcGxheWVkIjsKaW1wb3J0IHsgZ2V0U2luZ2VyRGV0YWlsIH0gZnJvbSAibmV0d29yay9zaW5nZXIiOwoKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJjb3VudCIsICJhcnRpc3RJZCIsICJpZGVudGlmeSJdLAogIG5hbWU6ICJob21lcGFnZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVpZDogIiIsIC8vIOeUqOaIt2lkCiAgICAgIHBoSW1nOiByZXF1aXJlKCJhc3NldHMvaW1nL2luZm9ybWF0aW9uL3BhaWhhbmcuc3ZnIiksCiAgICAgIGxpa2VJbWc6IHJlcXVpcmUoImFzc2V0cy9pbWcvaW5mb3JtYXRpb24vYWl4aW4uc3ZnIiksCiAgICAgIGxpa2VTaGVldDoge30sIC8vIOWWnOasoueahOmfs+S5kAogICAgICBjcmVhdGVTaGVldDogW10sIC8vIOWIm+W7uueahOatjOWNlQogICAgICBzdWJTaGVldDogW10sIC8vIOaUtuiXj+eahOatjOWNlQogICAgICBzdWJzY3JpYmVkQ291bnQ6IDAsIC8vIOatjOWNleaUtuiXj+aAu+asoeaVsAogICAgICBzaW5nZXI6ICIiLCAvLyDmrYzmiYtpZAogICAgICBzaW5nZXJkZXRhaWw6IHt9LAogICAgICBzaG93U2hlZXQ6IHRydWUKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBzaGVldEl0ZW0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDnlKjmiLfmnIDov5Hmkq3mlL4KICAgIHBsYXllZExpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGxheWVkLyIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMudWlkKTsKICAgIH0sCgogICAgLy8g55So5oi35Zac5qyi55qE6Z+z5LmQCiAgICB1c2VyTGlrZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wbGF5RGV0YWlsLyIgKyB0aGlzLmxpa2VTaGVldC5pZCsnJicrZmFsc2UpOwogICAgfSwKCiAgICAvLyDnlKjmiLfliJvlu7rnmoTmrYzljZUKICAgIHVzZXJTaGVldChpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3BsYXlEZXRhaWwvIiArIGlkKTsKICAgIH0sCgogICAgLy8g55So5oi35pS26JeP55qE5q2M5Y2VCiAgICBzaGVldChpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3BsYXlEZXRhaWwvIiArIGlkKTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy51aWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudWlkOwogICAgLy8g6I635Y+W5q2M5Y2VCiAgICBnZXRVc2VyUGxheUxpc3QodGhpcy4kcm91dGUucGFyYW1zLnVpZCkudGhlbigocmVzKSA9PiB7CiAgICAgIGlmIChyZXMuZGF0YS5wbGF5bGlzdC5sZW5ndGggIT09IDApIHsKICAgICAgICB0aGlzLmxpa2VTaGVldC5pZCA9IHJlcy5kYXRhLnBsYXlsaXN0WzBdLmlkOyAvLyDmrYzljZVpZAogICAgICAgIHRoaXMubGlrZVNoZWV0Lm5hbWUgPSByZXMuZGF0YS5wbGF5bGlzdFswXS5uYW1lOyAvLyDmrYzljZXlkI3np7AKICAgICAgICB0aGlzLmxpa2VTaGVldC5wbGF5Q291bnQgPSByZXMuZGF0YS5wbGF5bGlzdFswXS5wbGF5Q291bnQ7IC8vIOatjOWNleaSreaUvuasoeaVsAogICAgICAgIHRoaXMubGlrZVNoZWV0LnRyYWNrQ291bnQgPSByZXMuZGF0YS5wbGF5bGlzdFswXS50cmFja0NvdW50OyAvLyDmrYzljZXmrYzmm7LmlbDph48KICAgICAgICB0aGlzLiRzZXQoCiAgICAgICAgICB0aGlzLmxpa2VTaGVldCwKICAgICAgICAgIHRoaXMubGlrZVNoZWV0Lm5hbWUsCiAgICAgICAgICByZXMuZGF0YS5wbGF5bGlzdFswXS5uYW1lCiAgICAgICAgKTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByZXMuZGF0YS5wbGF5bGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLnBsYXlsaXN0W2ldLmNyZWF0b3IudXNlcklkID09IHRoaXMudWlkKSB7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2hlZXQucHVzaCh7CiAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLnBsYXlsaXN0W2ldLmlkLCAvLyDmrYzljZVpZAogICAgICAgICAgICAgIG5hbWU6IHJlcy5kYXRhLnBsYXlsaXN0W2ldLm5hbWUsIC8vIOatjOWNleWQjeensAogICAgICAgICAgICAgIGNvdmVySW1nVXJsOiByZXMuZGF0YS5wbGF5bGlzdFtpXS5jb3ZlckltZ1VybCwgLy8g5q2M5Y2V5bCB6Z2iCiAgICAgICAgICAgICAgdHJhY2tDb3VudDogcmVzLmRhdGEucGxheWxpc3RbaV0udHJhY2tDb3VudCwgLy8g5q2M5Y2V5q2M5puy5pWw6YePCiAgICAgICAgICAgICAgcGxheUNvdW50OiB0b1N0cmluZ051bShyZXMuZGF0YS5wbGF5bGlzdFtpXS5wbGF5Q291bnQpLCAvLyDmrYzljZXmkq3mlL7ph48KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlZENvdW50ICs9IHJlcy5kYXRhLnBsYXlsaXN0W2ldLnN1YnNjcmliZWRDb3VudDsgLy8g5q2M5Y2V6KKr5pS26JeP5pWw6YePCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnN1YlNoZWV0LnB1c2goewogICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5wbGF5bGlzdFtpXS5pZCwgLy8g5q2M5Y2VaWQKICAgICAgICAgICAgICBuYW1lOiByZXMuZGF0YS5wbGF5bGlzdFtpXS5uYW1lLCAvLyDmrYzljZXlkI3np7AKICAgICAgICAgICAgICBjb3ZlckltZ1VybDogcmVzLmRhdGEucGxheWxpc3RbaV0uY292ZXJJbWdVcmwsIC8vIOatjOWNleWwgemdogogICAgICAgICAgICAgIHRyYWNrQ291bnQ6IHJlcy5kYXRhLnBsYXlsaXN0W2ldLnRyYWNrQ291bnQsIC8vIOatjOWNleatjOabsuaVsOmHjwogICAgICAgICAgICAgIHBsYXlDb3VudDogdG9TdHJpbmdOdW0ocmVzLmRhdGEucGxheWxpc3RbaV0ucGxheUNvdW50KSwgLy8g5q2M5Y2V5pKt5pS+6YePCiAgICAgICAgICAgICAgbmlja25hbWU6IHJlcy5kYXRhLnBsYXlsaXN0W2ldLmNyZWF0b3Iubmlja25hbWUsIC8vIOWIm+S9nOiAhQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93U2hlZXQgPSBmYWxzZQogICAgICB9CiAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdTaG93KCk7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5zaW5nZXIgPSB0aGlzLmFydGlzdElkOwogICAgICBnZXRTaW5nZXJEZXRhaWwodGhpcy5zaW5nZXIpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuc2luZ2VyZGV0YWlsLmRlc2MgPSByZXMuZGF0YS5icmllZkRlc2M7IC8vIOatjOaJi+S7i+e7jQogICAgICAgIHRoaXMuc2luZ2VyZGV0YWlsLmludHJvZHVjdGlvbiA9IHJlcy5kYXRhLmludHJvZHVjdGlvbjsgLy8g5q2M5omL6I2j6KqJCiAgICAgICAgdGhpcy4kc2V0KAogICAgICAgICAgdGhpcy5zaW5nZXJkZXRhaWwsCiAgICAgICAgICB0aGlzLnNpbmdlcmRldGFpbC5kZXNjLAogICAgICAgICAgcmVzLmRhdGEuYnJpZWZEZXNjCiAgICAgICAgKTsKICAgICAgICB0aGlzLiRsb2FkaW5nLmxvYWRpbmdObygpOwogICAgICB9KTsKICAgIH0sIDUwMCk7CiAgfSwKfTsK"},{"version":3,"sources":["homepage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"homepage.vue","sourceRoot":"src/views/information/childrenComps","sourcesContent":["<template>\n  <div class=\"homepage\">\n    <sheet-item\n      v-if=\"showSheet\"\n      :title=\"'听歌排行'\"\n      :showDiv=\"true\"\n      :showImg=\"phImg\"\n      :showDivColor=\"'#ee5757'\"\n      :songCount=\"'累计听歌' + count + '首'\"\n      @click.native=\"playedList\"\n    ></sheet-item>\n\n    <sheet-item\n      v-if=\"showSheet\"\n      :title=\"likeSheet.name\"\n      :showDiv=\"true\"\n      :showImg=\"likeImg\"\n      :showDivColor=\"'#ebcece'\"\n      :songCount=\"likeSheet.trackCount + '首，'\"\n      :playCount=\"'播放' + likeSheet.playCount + '次'\"\n      @click.native=\"userLike\"\n    ></sheet-item>\n\n    <div class=\"createSheet\" v-if=\"createSheet.length !== 0\">\n      <div class=\"title\">\n        <span class=\"sp1\">创建的歌单</span\n        ><span class=\"sp2\"\n          >({{ createSheet.length }}个，被收藏{{ subscribedCount }}次)</span\n        >\n      </div>\n      <sheet-item\n        v-for=\"(item, index) in createSheet\"\n        :key=\"index\"\n        :title=\"item.name\"\n        :sheetImg=\"item.coverImgUrl\"\n        :songCount=\"item.trackCount + '首，'\"\n        :playCount=\"'播放' + item.playCount + '次'\"\n        @click.native=\"userSheet(item.id)\"\n      ></sheet-item>\n    </div>\n\n    <div class=\"subSheet\" v-if=\"subSheet.length !== 0\">\n      <div class=\"title\">\n        <span class=\"sp1\">收藏的歌单</span>\n        <span class=\"sp2\">({{ subSheet.length }})</span>\n      </div>\n      <sheet-item\n        v-for=\"(item, index) in subSheet\"\n        :key=\"index\"\n        :title=\"item.name\"\n        :sheetImg=\"item.coverImgUrl\"\n        :songCount=\"item.trackCount + '首，by ' + item.nickname\"\n        :playCount=\"'，播放' + item.playCount + '次'\"\n        @click.native=\"sheet(item.id)\"\n      ></sheet-item>\n    </div>\n\n    <div class=\"attestation\" v-if=\"identify\">\n      <span class=\"sp1\">认证信息</span>\n      <div class=\"indentifyBox\">\n        <img :src=\"identify.imageUrl\" alt=\"\" />\n        <div>{{ identify.imageDesc }}</div>\n      </div>\n    </div>\n\n    <div class=\"singerDetail\" v-if=\"singer !== null\">\n      <div\n        v-if=\"singerdetail.desc != '' || singerdetail.introduction.length !== 0\"\n      >\n        <span class=\"sp1\">歌手信息</span>\n        <div class=\"singerDesc\" v-if=\"singerdetail.desc\">\n          简介： {{ singerdetail.desc }}\n        </div>\n        <div\n          class=\"singerPrize\"\n          v-for=\"(item, index) in singerdetail.introduction\"\n          :key=\"index\"\n        >\n          <div class=\"prizeTitle\">{{ item.ti }}：</div>\n          <div class=\"prizeContent\">{{ item.txt }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport sheetItem from \"./sheetItem\";\nimport { getUserPlayList, getUserDetail } from \"network/user\";\nimport { toStringNum } from \"common/common\";\nimport { getPlayList } from \"network/played\";\nimport { getSingerDetail } from \"network/singer\";\n\n\nexport default {\n  props: [\"count\", \"artistId\", \"identify\"],\n  name: \"homepage\",\n  data() {\n    return {\n      uid: \"\", // 用户id\n      phImg: require(\"assets/img/information/paihang.svg\"),\n      likeImg: require(\"assets/img/information/aixin.svg\"),\n      likeSheet: {}, // 喜欢的音乐\n      createSheet: [], // 创建的歌单\n      subSheet: [], // 收藏的歌单\n      subscribedCount: 0, // 歌单收藏总次数\n      singer: \"\", // 歌手id\n      singerdetail: {},\n      showSheet: true\n    };\n  },\n  components: {\n    sheetItem,\n  },\n  methods: {\n    // 用户最近播放\n    playedList() {\n      this.$router.push(\"/played/\" + this.$route.params.uid);\n    },\n\n    // 用户喜欢的音乐\n    userLike() {\n      this.$router.push(\"/playDetail/\" + this.likeSheet.id+'&'+false);\n    },\n\n    // 用户创建的歌单\n    userSheet(id) {\n      this.$router.push(\"/playDetail/\" + id);\n    },\n\n    // 用户收藏的歌单\n    sheet(id) {\n      this.$router.push(\"/playDetail/\" + id);\n    },\n  },\n  created() {\n    this.uid = this.$route.params.uid;\n    // 获取歌单\n    getUserPlayList(this.$route.params.uid).then((res) => {\n      if (res.data.playlist.length !== 0) {\n        this.likeSheet.id = res.data.playlist[0].id; // 歌单id\n        this.likeSheet.name = res.data.playlist[0].name; // 歌单名称\n        this.likeSheet.playCount = res.data.playlist[0].playCount; // 歌单播放次数\n        this.likeSheet.trackCount = res.data.playlist[0].trackCount; // 歌单歌曲数量\n        this.$set(\n          this.likeSheet,\n          this.likeSheet.name,\n          res.data.playlist[0].name\n        );\n\n        for (let i = 1; i < res.data.playlist.length; i++) {\n          if (res.data.playlist[i].creator.userId == this.uid) {\n            this.createSheet.push({\n              id: res.data.playlist[i].id, // 歌单id\n              name: res.data.playlist[i].name, // 歌单名称\n              coverImgUrl: res.data.playlist[i].coverImgUrl, // 歌单封面\n              trackCount: res.data.playlist[i].trackCount, // 歌单歌曲数量\n              playCount: toStringNum(res.data.playlist[i].playCount), // 歌单播放量\n            });\n            this.subscribedCount += res.data.playlist[i].subscribedCount; // 歌单被收藏数量\n          } else {\n            this.subSheet.push({\n              id: res.data.playlist[i].id, // 歌单id\n              name: res.data.playlist[i].name, // 歌单名称\n              coverImgUrl: res.data.playlist[i].coverImgUrl, // 歌单封面\n              trackCount: res.data.playlist[i].trackCount, // 歌单歌曲数量\n              playCount: toStringNum(res.data.playlist[i].playCount), // 歌单播放量\n              nickname: res.data.playlist[i].creator.nickname, // 创作者\n            });\n          }\n        }\n      } else {\n        this.showSheet = false\n      }\n    });\n  },\n  mounted() {\n    this.$loading.loadingShow();\n    setTimeout(() => {\n      this.singer = this.artistId;\n      getSingerDetail(this.singer).then((res) => {\n        this.singerdetail.desc = res.data.briefDesc; // 歌手介绍\n        this.singerdetail.introduction = res.data.introduction; // 歌手荣誉\n        this.$set(\n          this.singerdetail,\n          this.singerdetail.desc,\n          res.data.briefDesc\n        );\n        this.$loading.loadingNo();\n      });\n    }, 500);\n  },\n};\n</script>\n<style scoped>\n.indentifyBox {\n  font-size: 0.372836rem;\n  display: flex;\n  align-items: center;\n  margin-top: 0.133156rem;\n}\n.indentifyBox img {\n  width: 0.665779rem;\n  height: 0.665779rem;\n  float: left;\n  margin-right: 0.133156rem;\n}\n.attestation {\n  margin-top: 0.532623rem;\n}\n.singerPrize {\n  margin-top: 0.532623rem;\n}\n.prizeTitle {\n  font-size: 0.426099rem;\n  font-weight: 550;\n  margin-bottom: 0.133156rem;\n}\n.prizeContent {\n  font-size: 0.372836rem;\n  color: #000;\n}\n.singerDetail {\n  margin-top: 0.532623rem;\n}\n.singerDesc {\n  font-size: 0.346205rem;\n  margin-top: 0.266312rem;\n}\n.homepage {\n  padding: 0 15px 15px;\n  margin-bottom: 45px;\n  background-color: #fff;\n  min-height: 7.856192rem;\n  position: relative;\n  /* z-index: 1; */\n}\n.createSheet {\n  width: 100%;\n  margin-top: 0.798935rem;\n}\n.subSheet {\n  width: 100%;\n  margin-top: 0.798935rem;\n}\n.title {\n  margin-bottom: 10px;\n}\n.sp1 {\n  font-size: 0.466045rem;\n  font-weight: 550;\n}\n.sp2 {\n  font-size: 0.346205rem;\n  color: #929292;\n  position: relative;\n  left: 0.266312rem;\n}\n</style>"]}]}