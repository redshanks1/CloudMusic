{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\sendComment\\SendComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\sendComment\\SendComment.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldENvbW1lbnQsIGdldERDb21tZW50IH0gZnJvbSAibmV0d29yay9jb21tZW50IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2VuZENvbW1lbnQiLAogIHByb3BzOiB7CiAgICB0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMSwKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMSwKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgfSwKICAgIGlzRHluYW1pYzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBpc0NvbW1lbnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICBjb21tZW50RGV0YWlsOiB7fSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kKCkgewogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLmNvb2tpZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbXlNZXNzYWdlL2xvZ2luIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuaXNEeW5hbWljKSB7CiAgICAgICAgICBpZiAodGhpcy5jb250ZW50ICE9PSAiIikgewogICAgICAgICAgICBnZXREQ29tbWVudCgKICAgICAgICAgICAgICB0aGlzLnQsCiAgICAgICAgICAgICAgdGhpcy50eXBlLAogICAgICAgICAgICAgIHRoaXMuaWQsCiAgICAgICAgICAgICAgdGhpcy5jb250ZW50LAogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNvb2tpZQogICAgICAgICAgICApLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIC8vIOS/neWtmOaVsOaNrgogICAgICAgICAgICAgIHRoaXMuY29tbWVudERldGFpbC5pZCA9IHJlcy5kYXRhLmNvbW1lbnQudXNlci51c2VySWQ7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLmNvbnRlbnQgPSByZXMuZGF0YS5jb21tZW50LmNvbnRlbnQ7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLnRpbWUgPSByZXMuZGF0YS5jb21tZW50LnRpbWU7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLmF2YXRhclVybCA9IHJlcy5kYXRhLmNvbW1lbnQudXNlci5hdmF0YXJVcmw7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLm5pY2tuYW1lID0gcmVzLmRhdGEuY29tbWVudC51c2VyLm5pY2tuYW1lOwogICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnNob3coIuWPkeW4g+aIkOWKnyIsIDE5MDApOwogICAgICAgICAgICAgIHRoaXMuY29udGVudCA9ICIiOyAvLyDmuIXnqbrlhoXlrrkKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJzdWNjZXNzQ29tbWVudCIsIHRoaXMuY29tbWVudERldGFpbCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0NvbW1lbnQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnR5cGVJZCk7CiAgICAgICAgICBpZiAodGhpcy5jb250ZW50ICE9PSAiIikgewogICAgICAgICAgICBnZXRDb21tZW50KAogICAgICAgICAgICAgIHRoaXMudCwKICAgICAgICAgICAgICB0aGlzLnR5cGUsCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudHlwZUlkLAogICAgICAgICAgICAgIHRoaXMuY29udGVudCwKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb29raWUsCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGhyZWFkSWQKICAgICAgICAgICAgKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAvLyDkv53lrZjmlbDmja4KICAgICAgICAgICAgICB0aGlzLmNvbW1lbnREZXRhaWwuaWQgPSByZXMuZGF0YS5jb21tZW50LnVzZXIudXNlcklkOwogICAgICAgICAgICAgIHRoaXMuY29tbWVudERldGFpbC5jb250ZW50ID0gcmVzLmRhdGEuY29tbWVudC5jb250ZW50OwogICAgICAgICAgICAgIHRoaXMuY29tbWVudERldGFpbC50aW1lID0gcmVzLmRhdGEuY29tbWVudC50aW1lOwogICAgICAgICAgICAgIHRoaXMuY29tbWVudERldGFpbC5hdmF0YXJVcmwgPSByZXMuZGF0YS5jb21tZW50LnVzZXIuYXZhdGFyVXJsOwogICAgICAgICAgICAgIHRoaXMuY29tbWVudERldGFpbC5uaWNrbmFtZSA9IHJlcy5kYXRhLmNvbW1lbnQudXNlci5uaWNrbmFtZTsKICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zaG93KCLlj5HluIPmiJDlip8iLCAxOTAwKTsKICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSAiIjsgLy8g5riF56m65YaF5a65CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgic3VjY2Vzc0NvbW1lbnQiLCB0aGlzLmNvbW1lbnREZXRhaWwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMuY29udGVudCAhPT0gIiIpIHsKICAgICAgICAgICAgZ2V0Q29tbWVudCgKICAgICAgICAgICAgICB0aGlzLnQsCiAgICAgICAgICAgICAgdGhpcy50eXBlLAogICAgICAgICAgICAgIHRoaXMuaWQsCiAgICAgICAgICAgICAgdGhpcy5jb250ZW50LAogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNvb2tpZQogICAgICAgICAgICApLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIC8vIOS/neWtmOaVsOaNrgogICAgICAgICAgICAgIHRoaXMuY29tbWVudERldGFpbC5pZCA9IHJlcy5kYXRhLmNvbW1lbnQudXNlci51c2VySWQ7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLmNvbnRlbnQgPSByZXMuZGF0YS5jb21tZW50LmNvbnRlbnQ7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLnRpbWUgPSByZXMuZGF0YS5jb21tZW50LnRpbWU7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLmF2YXRhclVybCA9IHJlcy5kYXRhLmNvbW1lbnQudXNlci5hdmF0YXJVcmw7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50RGV0YWlsLm5pY2tuYW1lID0gcmVzLmRhdGEuY29tbWVudC51c2VyLm5pY2tuYW1lOwogICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnNob3coIuWPkeW4g+aIkOWKnyIsIDE5MDApOwogICAgICAgICAgICAgIHRoaXMuY29udGVudCA9ICIiOyAvLyDmuIXnqbrlhoXlrrkKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJzdWNjZXNzQ29tbWVudCIsIHRoaXMuY29tbWVudERldGFpbCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["SendComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SendComment.vue","sourceRoot":"src/components/context/sendComment","sourcesContent":["<template>\n  <div class=\"SendComment\">\n    <div class=\"content\">\n      <div class=\"left\">\n        <input\n          v-model=\"content\"\n          placeholder=\"写评论...\"\n          class=\"textContent\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"right\">\n        <div class=\"btn\" @click=\"send\">\n          <img src=\"~assets/img/common/send.svg\" alt=\"\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getComment, getDComment } from \"network/comment\";\n\nexport default {\n  name: \"SendComment\",\n  props: {\n    t: {\n      type: Number,\n      default: 1,\n    },\n    type: {\n      type: Number,\n      default: 1,\n    },\n    id: {\n      type: String,\n      default: \"\",\n    },\n    isDynamic: {\n      type: Boolean,\n      default: false,\n    },\n    isComment: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      content: \"\",\n      commentDetail: {},\n    };\n  },\n  methods: {\n    send() {\n      if (!this.$store.state.cookie) {\n        this.$router.push(\"/myMessage/login\");\n      } else {\n        if (this.isDynamic) {\n          if (this.content !== \"\") {\n            getDComment(\n              this.t,\n              this.type,\n              this.id,\n              this.content,\n              this.$store.state.cookie\n            ).then((res) => {\n              // 保存数据\n              this.commentDetail.id = res.data.comment.user.userId;\n              this.commentDetail.content = res.data.comment.content;\n              this.commentDetail.time = res.data.comment.time;\n              this.commentDetail.avatarUrl = res.data.comment.user.avatarUrl;\n              this.commentDetail.nickname = res.data.comment.user.nickname;\n              this.$toast.show(\"发布成功\", 1900);\n              this.content = \"\"; // 清空内容\n              this.$emit(\"successComment\", this.commentDetail);\n            });\n          }\n        } else if (this.isComment) {\n          console.log(this.$store.state.typeId);\n          if (this.content !== \"\") {\n            getComment(\n              this.t,\n              this.type,\n              this.$store.state.typeId,\n              this.content,\n              this.$store.state.cookie,\n              this.$store.state.threadId\n            ).then((res) => {\n              // 保存数据\n              this.commentDetail.id = res.data.comment.user.userId;\n              this.commentDetail.content = res.data.comment.content;\n              this.commentDetail.time = res.data.comment.time;\n              this.commentDetail.avatarUrl = res.data.comment.user.avatarUrl;\n              this.commentDetail.nickname = res.data.comment.user.nickname;\n              this.$toast.show(\"发布成功\", 1900);\n              this.content = \"\"; // 清空内容\n              this.$emit(\"successComment\", this.commentDetail);\n            });\n          }\n        } else {\n          if (this.content !== \"\") {\n            getComment(\n              this.t,\n              this.type,\n              this.id,\n              this.content,\n              this.$store.state.cookie\n            ).then((res) => {\n              // 保存数据\n              this.commentDetail.id = res.data.comment.user.userId;\n              this.commentDetail.content = res.data.comment.content;\n              this.commentDetail.time = res.data.comment.time;\n              this.commentDetail.avatarUrl = res.data.comment.user.avatarUrl;\n              this.commentDetail.nickname = res.data.comment.user.nickname;\n              this.$toast.show(\"发布成功\", 1900);\n              this.content = \"\"; // 清空内容\n              this.$emit(\"successComment\", this.commentDetail);\n            });\n          }\n        }\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n::-webkit-input-placeholder {\n  font-size: 0.399467rem;\n  color: rgb(119, 119, 119);\n}\n.SendComment {\n  width: 100%;\n  height: 1.065246rem;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0px -1px 1px 1px rgba(87, 87, 87, 0.1);\n}\n.content {\n  width: 92%;\n  height: 0.932091rem;\n  line-height: 0.905459rem;\n  margin: 0 auto;\n  display: flex;\n}\n.left {\n  flex: 9;\n}\n.right {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.textContent {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  top: -0.053262rem;\n  padding: 0;\n  border: 0;\n  font-size: 0.426099rem;\n  line-height: 0.932091rem;\n}\n.btn {\n  width: 0.798935rem;\n  height: 0.798935rem;\n  position: absolute;\n  right: 0;\n}\n.btn img {\n  width: 100%;\n  height: 100%;\n}\n</style>"]}]}