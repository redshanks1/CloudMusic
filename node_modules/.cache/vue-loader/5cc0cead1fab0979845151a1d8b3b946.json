{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\discover\\childrenComps\\moreComps\\moreSinger.vue?vue&type=style&index=0&id=eeecc252&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\discover\\childrenComps\\moreComps\\moreSinger.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRvcHRkIHsKICBtYXJnaW4tYm90dG9tOiAwLjI2NjMxMnJlbTsKfQoudG9UYWJsZSB7CiAgbWFyZ2luLWxlZnQ6IDAuMTMzMTU2cmVtOwogIGZvbnQtc2l6ZTogMC4zNzI4MzZyZW07Cn0KLnRvVGFibGUgdHIgewogIGhlaWdodDogMC43OTg5MzVyZW07Cn0KLnRvVGFibGUgdGQgewogIHdpZHRoOiAxLjg2NDE4MXJlbTsKICBsaW5lLWhlaWdodDogMC43OTg5MzVyZW07CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5hY3RpdmUgewogIGNvbG9yOiByZWQ7Cn0KLm5hdiB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwp9Ci5zbmF2IHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgdG9wOiA0NHB4OwogIGxlZnQ6IDA7CiAgcmlnaHQ6IDA7CiAgei1pbmRleDogMTA7Cn0KLm1vcmVTaW5nZXIgewogIHdpZHRoOiAxMDAlOwp9Ci50b3BJdGVtIHsKICBtYXJnaW4tdG9wOiA0NHB4OwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMi4zOTY4MDRyZW07CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KLmJveCB7CiAgd2lkdGg6IDEwMCU7Cn0KLmJveDEgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMC43OTg5MzVyZW07CiAgbGluZS1oZWlnaHQ6IDAuNzk4OTM1cmVtOwogIHBhZGRpbmc6IDAgMC4zOTk0NjdyZW07Cn0KLmJveDIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMC42NjU3NzlyZW07CiAgbGluZS1oZWlnaHQ6IDAuNjY1Nzc5cmVtOwogIHBhZGRpbmc6IDAgMC4zOTk0NjdyZW07Cn0KLnNpdGVtIHsKICBmbG9hdDogbGVmdDsKICBmb250LXNpemU6IDAuMzcyODM2cmVtOwogIHBhZGRpbmc6IDAgMC40MjYwOTlyZW07Cn0KLnR5cGUgewogIGZsb2F0OiBsZWZ0OwogIGZvbnQtc2l6ZTogMC4zNzI4MzZyZW07CiAgcGFkZGluZzogMCAwLjU1OTI1NHJlbTsKfQoudGl0bGUgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMC42NjU3NzlyZW07CiAgZm9udC1zaXplOiAwLjMzMjg4OXJlbTsKICB0ZXh0LWluZGVudDogMC4yNjYzMTJyZW07CiAgbGluZS1oZWlnaHQ6IDAuNjY1Nzc5cmVtOwogIGNvbG9yOiByZ2IoMTQzLCAxNDMsIDE0Myk7Cn0KLmNvbnRlbnQgewogIG1pbi1oZWlnaHQ6IDEzLjMxNTU3OXJlbTsKICBwYWRkaW5nOiAwLjMxOTU3NHJlbSAwLjI2NjMxMnJlbTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbi1ib3R0b206IDEuMTk4NDAycmVtOwp9Ci5zaW5nZXIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMS4zMzE1NThyZW07CiAgZGlzcGxheTogZmxleDsKICBtYXJnaW4tYm90dG9tOiAwLjMxOTU3NHJlbTsKfQoubGVmdCB7CiAgZmxleDogMS41Owp9Ci5sZWZ0IGltZyB7CiAgaGVpZ2h0OiAxLjMzMTU1OHJlbTsKICB3aWR0aDogMS4zMzE1NThyZW07CiAgYm9yZGVyLXJhZGl1czogNTAlOwp9Ci5jZW50ZXIgewogIGZsZXg6IDY7CiAgbGluZS1oZWlnaHQ6IDEuMzMxNTU4cmVtOwogIGZvbnQtc2l6ZTogMC4zOTk0NjdyZW07CiAgdGV4dC1pbmRlbnQ6IDAuMjY2MzEycmVtOwp9Ci5jZW50ZXIgaW1nIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAwLjA2NjU3OHJlbTsKICBsZWZ0OiA1cHg7Cn0KLnJpZ2h0IHsKICBmbGV4OiAyLjU7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5idG4gewogIHdpZHRoOiA4MCU7CiAgaGVpZ2h0OiAwLjc5ODkzNXJlbTsKICBib3JkZXItcmFkaXVzOiAwLjc5ODkzNXJlbTsKICBsaW5lLWhlaWdodDogMC43OTg5MzVyZW07CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiAjZmZmOwogIGJhY2tncm91bmQtY29sb3I6ICNkYTIzMWI7CiAgZm9udC1zaXplOiAwLjM0NjIwNXJlbTsKICBtYXJnaW46IGF1dG87Cn0K"},{"version":3,"sources":["moreSinger.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"moreSinger.vue","sourceRoot":"src/views/discover/childrenComps/moreComps","sourcesContent":["<template>\n  <div class=\"moreSinger\">\n    <menunav class=\"nav\" :navTitle=\"'歌手分类'\"></menunav>\n    <div class=\"topItem\">\n      <div class=\"box\">\n        <table class=\"toTable\">\n          <tr>\n            <td\n              @click=\"itemClick(index)\"\n              :class=\"{ active: aIndex === index }\"\n              v-for=\"(item, index) in itemList\"\n              :key=\"index\"\n            >\n              {{ item }}\n            </td>\n          </tr>\n          <tr>\n            <td\n              @click=\"typeClick(index)\"\n              :class=\"{ active: tIndex === index }\"\n              v-for=\"(item, index) in typeList\"\n              :key=\"index\"\n            >\n              {{ item }}\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <div class=\"title\">热门歌手</div>\n    <div class=\"content\">\n      <div\n        class=\"singer\"\n        @click=\"toSinger(item.accountId)\"\n        v-for=\"(item, index) in singerList\"\n        :key=\"index\"\n      >\n        <div class=\"left\">\n          <img v-lazy=\"item.picUrl\" alt=\"\" />\n        </div>\n        <div class=\"center\">\n          {{ item.name }}\n          <img v-if=\"item.accountId !== 0\" src=\"~assets/img/discover/moreSingers/tx.svg\" alt=\"\" />\n        </div>\n        <div class=\"right\">\n          <div class=\"btn\">关注</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport menunav from \"components/context/menuNav/MenuNav\";\nimport scrollnav from \"components/context/scrollNav/ScrollNav\";\nimport { getSinger } from \"network/discover\";\n\nexport default {\n  name: \"moreSinger\",\n  data() {\n    return {\n      itemList: [\"华语\", \"欧美\", \"韩国\", \"日本\", \"其他\"],\n      typeList: [\"男\", \"女\", \"乐队/组合\"],\n      offset: 0,\n      singerList: [],\n      aIndex: 0,\n      tIndex: 0,\n      firstNavIndex: 7,\n      secondNavIndex: 1,\n    };\n  },\n  components: {\n    menunav,\n    scrollnav,\n  },\n  methods: {\n    // 导航栏一切换\n    itemClick(index) {\n      if (this.aIndex !== index) {\n        switch (index) {\n          case 0: // 华语\n            this.firstNavIndex = 7; // 导航栏一索引\n            this.offset = 0; // 清空分页参数\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          case 1: // 欧美\n            this.firstNavIndex = 96; // 导航栏一索引\n            this.offset = 0; // 清空分页参数\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          case 2: // 韩国\n            this.firstNavIndex = 16; // 导航栏一索引\n            this.offset = 0; // 清空分页参数\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          case 3: // 日本\n            this.firstNavIndex = 8; // 导航栏一索引\n            this.offset = 0; // 清空分页参数\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          case 4: // 其他\n            this.firstNavIndex = 0; // 导航栏一索引\n            this.offset = 0; // 清空分页参数\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          default:\n            break;\n        }\n        this.aIndex = index;\n      }\n    },\n    // 导航栏二切换\n    typeClick(index) {\n      if (this.tIndex !== index) {\n        switch (index) {\n          case 0: // 男歌手\n            this.offset = 0;\n            this.secondNavIndex = 1;\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          case 1: // 女歌手\n            this.offset = 0;\n            this.secondNavIndex = 2;\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          case 2: // 乐队\n            this.offset = 0;\n            this.secondNavIndex = 3;\n            this.singerList = []; // 清空数组\n            this.toggleDetail(this.secondNavIndex, this.firstNavIndex); // 调用函数\n            break;\n          default:\n            break;\n        }\n        this.tIndex = index;\n      }\n    },\n    // 歌手页面跳转\n    toSinger(id) {\n      this.$router.push(\"/Information/\" + id);\n    },\n\n    /*\n      7华语   1:男歌手\n      96欧美  2:女歌手\n      8:日本  3:乐队\n      16韩国\n      0:其他     \n     */\n    // 发送请求\n    toggleDetail(type, area) {\n      this.$loading.loadingShow();\n      getSinger(30, this.offset * 30, type, area).then((res) => {\n        for (const item of res.data.artists) {\n          this.singerList.push({\n            accountId: item.accountId || item.id,\n            picUrl: item.picUrl,\n            name: item.name,\n          });\n        }\n        setTimeout(() => {\n          this.$loading.loadingNo();\n        }, 500);\n      });\n    },\n\n    // 下拉加载\n    scrollLoading(type, area) {\n      this.offset++;\n      this.$loading.loadingShow();\n      getSinger(30, this.offset * 30, type, area).then((res) => {\n        for (const item of res.data.artists) {\n          this.singerList.push({\n            accountId: item.accountId || item.id,\n            picUrl: item.picUrl,\n            name: item.name,\n          });\n        }\n        setTimeout(() => {\n          this.$loading.loadingNo(); // 下拉加载\n        }, 500);\n      });\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.scrollLoading(this.secondNavIndex, this.firstNavIndex);\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    // 默认显示华语男歌手\n    getSinger(30, this.offset * 30, 1, 7).then((res) => {\n      for (const item of res.data.artists) {\n        this.singerList.push({\n          accountId: item.accountId || item.id,\n          picUrl: item.picUrl,\n          name: item.name,\n        });\n      }\n    });\n  },\n  mounted() {\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n  activated() {\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.toptd {\n  margin-bottom: 0.266312rem;\n}\n.toTable {\n  margin-left: 0.133156rem;\n  font-size: 0.372836rem;\n}\n.toTable tr {\n  height: 0.798935rem;\n}\n.toTable td {\n  width: 1.864181rem;\n  line-height: 0.798935rem;\n  text-align: center;\n}\n.active {\n  color: red;\n}\n.nav {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.snav {\n  position: fixed;\n  top: 44px;\n  left: 0;\n  right: 0;\n  z-index: 10;\n}\n.moreSinger {\n  width: 100%;\n}\n.topItem {\n  margin-top: 44px;\n  width: 100%;\n  height: 2.396804rem;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n}\n.box {\n  width: 100%;\n}\n.box1 {\n  width: 100%;\n  height: 0.798935rem;\n  line-height: 0.798935rem;\n  padding: 0 0.399467rem;\n}\n.box2 {\n  width: 100%;\n  height: 0.665779rem;\n  line-height: 0.665779rem;\n  padding: 0 0.399467rem;\n}\n.sitem {\n  float: left;\n  font-size: 0.372836rem;\n  padding: 0 0.426099rem;\n}\n.type {\n  float: left;\n  font-size: 0.372836rem;\n  padding: 0 0.559254rem;\n}\n.title {\n  width: 100%;\n  height: 0.665779rem;\n  font-size: 0.332889rem;\n  text-indent: 0.266312rem;\n  line-height: 0.665779rem;\n  color: rgb(143, 143, 143);\n}\n.content {\n  min-height: 13.315579rem;\n  padding: 0.319574rem 0.266312rem;\n  background-color: #fff;\n  width: 100%;\n  margin-bottom: 1.198402rem;\n}\n.singer {\n  width: 100%;\n  height: 1.331558rem;\n  display: flex;\n  margin-bottom: 0.319574rem;\n}\n.left {\n  flex: 1.5;\n}\n.left img {\n  height: 1.331558rem;\n  width: 1.331558rem;\n  border-radius: 50%;\n}\n.center {\n  flex: 6;\n  line-height: 1.331558rem;\n  font-size: 0.399467rem;\n  text-indent: 0.266312rem;\n}\n.center img {\n  position: relative;\n  top: 0.066578rem;\n  left: 5px;\n}\n.right {\n  flex: 2.5;\n  display: flex;\n  align-items: center;\n}\n.btn {\n  width: 80%;\n  height: 0.798935rem;\n  border-radius: 0.798935rem;\n  line-height: 0.798935rem;\n  text-align: center;\n  color: #fff;\n  background-color: #da231b;\n  font-size: 0.346205rem;\n  margin: auto;\n}\n</style>"]}]}