{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\StationDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\StationDetail.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtZW51TmF2IGZyb20gImNvbXBvbmVudHMvY29udGV4dC9tZW51TmF2L01lbnVOYXYiOyAvLyDlr7zoiKrmoI/nu4Tku7YKaW1wb3J0IFRhYk5hdiBmcm9tICJjb21wb25lbnRzL2NvbnRleHQvdGFiTmF2L1RhYk5hdiI7IC8vIOWvvOiIque7hOS7tgppbXBvcnQgRGV0YWlsTWVzc2FnZSBmcm9tICIuL0RldGFpbE1lc3NhZ2UiOyAvLyDnlKjmiLfor6bmg4UKaW1wb3J0IERldGFpbFByb2dyYW0gZnJvbSAiLi9EZXRhaWxQcm9ncmFtIjsgLy8g55So5oi36IqC55uuCmltcG9ydCBEZXRhaWxSZXNlbWJsZSBmcm9tICIuL0RldGFpbFJlc2VtYmxlIjsgLy8g55So5oi355u45Ly8CmltcG9ydCBtc2Nyb2xsIGZyb20gImNvbXBvbmVudHMvY29tbW9uL211aVNjcm9sbC9NdWlTY3JvbGwiOyAvLyDmu5rliqjnu4Tku7YKaW1wb3J0IHsgZ2V0QXVkaW9EZXRhaWwgfSBmcm9tICJuZXR3b3JrL3JhZGlvU3RhdGlvbiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlN0YXRpb25EZXRhaWwiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYXZUaXRsZTogIueUteWPsCIsCiAgICAgIGRldGFpbDoge30sIC8vIOeUqOaIt+S/oeaBrwogICAgICBpdGVtTGlzdDogWyLor6bmg4UiLCAi6IqC55uuIiwgIuebuOS8vCJdLCAvLyDlr7zoiKrmoI8KICAgICAgdGFiTmF2dG9Ub3A6IDAsCiAgICAgIGJhY2tHOiAwLAogICAgICBzY3JvbGx5OiAwLAogICAgICBzaG93TWVzc2FnZTogZmFsc2UsIC8vIOivpuaDheeVjOmdogogICAgICBzaG93UHJvZ3JhbTogdHJ1ZSwgLy8g6IqC55uu55WM6Z2iCiAgICAgIHNob3dSZXNlbWJsZTogZmFsc2UsIC8vIOebuOS8vOeVjOmdogogICAgICBsb2FkSW5kZXg6IDAsICAvLyDnm5HlkKzkuIvmi4nliqDovb0KICAgIH07CiAgfSwKICAvLyDnm5HlkKzot6/nlLHlj5jljJYKICBiZWZvcmVSb3V0ZVVwZGF0ZSh0bywgZnJvbSwgbmV4dCkgewogICAgaWYgKHRvLmZ1bGxQYXRoICE9IGZyb20uZnVsbFBhdGgpIHsKICAgICAgdGhpcy5kZXRhaWwgPSB7fTsgLy8g5riF56m6bXbmlbDmja4KICAgICAgbmV4dCgpOwogICAgICB0aGlzLmdldERldGFpbCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5rua5Yqo5Yiw6aG26YOoCiAgICByZWZyZXNoKCl7CiAgICAgIHRoaXMuJHJlZnMubXNjLm1zY3JvbGxUbygpOwogICAgICB0aGlzLiRyZWZzLnRhYk5hdi50YWJJbmRleCA9IDEKICAgICAgdGhpcy4kcmVmcy50YWJOYXYudGFiSXRlbSgxKQogICAgfSwKCiAgICAvLyDkuIvmi4nliqDovb0KICAgIGxvYWRBdWRpbygpewogICAgICBpZiAodGhpcy5zaG93UHJvZ3JhbSkgewogICAgICAgIHRoaXMubG9hZEluZGV4ICsrOwogICAgICB9CiAgICB9LAoKICAgIC8vIOWvvOiIquagj+WIh+aNogogICAgdGFiVG9nZ2xlKGluZGV4KSB7CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc2hvd1Byb2dyYW0gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2hvd1Jlc2VtYmxlID0gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLnNob3dQcm9ncmFtID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2hvd1Jlc2VtYmxlID0gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB0aGlzLnNob3dSZXNlbWJsZSA9IHRydWU7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNob3dQcm9ncmFtID0gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCgogICAgLy8g6I635Y+W55S15Y+w6K+m5oOFCiAgICBnZXREZXRhaWwoKSB7CiAgICAgIGdldEF1ZGlvRGV0YWlsKHRoaXMuJHJvdXRlLnBhcmFtcy5yaWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGxldCBwYXRoID0gcmVzLmRhdGEuZGpSYWRpbzsKICAgICAgICB0aGlzLmRldGFpbC5uYW1lID0gcGF0aC5uYW1lOyAvLyDnlKjmiLflkI3np7AKICAgICAgICB0aGlzLmRldGFpbC5waWNVcmwgPSBwYXRoLnBpY1VybDsgLy8g55So5oi35aS05YOPCiAgICAgICAgdGhpcy5kZXRhaWwuc3ViQ291bnQgPSBwYXRoLnN1YkNvdW50OyAvLyDnlKjmiLfnsonkuJ0KICAgICAgICB0aGlzLmRldGFpbC5wcm9ncmFtQ291bnQgPSBwYXRoLnByb2dyYW1Db3VudDsgLy8g6IqC55uu5pWw6YePCiAgICAgICAgdGhpcy5kZXRhaWwuY29tbWVudERhdGFzID0gcGF0aC5jb21tZW50RGF0YXM7IC8vIOeUqOaIt+S/oeaBr+eDreivhAogICAgICAgIHRoaXMuZGV0YWlsLmRlc2MgPSBwYXRoLmRlc2M7IC8vIOeUqOaIt+eugOS7iwogICAgICAgIHRoaXMuZGV0YWlsLmNhdGVnb3J5ID0gcGF0aC5jYXRlZ29yeTsgLy8g55S15Y+w5YiG57G7CiAgICAgICAgdGhpcy5kZXRhaWwuYXZhdGFyVXJsID0gcGF0aC5kai5hdmF0YXJVcmw7IC8vIOWIm+S9nOiAheWktOWDjwogICAgICAgIHRoaXMuZGV0YWlsLm5pY2tuYW1lID0gcGF0aC5kai5uaWNrbmFtZTsgLy8g5Yib5L2c6ICF5pi156ewCiAgICAgICAgdGhpcy5kZXRhaWwuc2lnbmF0dXJlID0gcGF0aC5kai5zaWduYXR1cmU7IC8vIOeUqOaIt+Wuo+iogAogICAgICAgIHRoaXMuZGV0YWlsLnJld2FyZENvdW50ID0gcGF0aC5kai5yZXdhcmRDb3VudDsgLy8g55So5oi36LWe6LWP5qyh5pWwCiAgICAgICAgdGhpcy5kZXRhaWwudWlkID0gcGF0aC5kai51c2VySWQ7IC8vIOeUqOaIt2lkCiAgICAgICAgLy8g5L2/55SoIFZ1ZS5zZXQob2JqZWN0LCBrZXksIHZhbHVlKSDmlrnms5XlsIblk43lupTlsZ7mgKfmt7vliqDliLDltYzlpZfnmoTlr7nosaHkuIoKICAgICAgICB0aGlzLiRzZXQodGhpcy5kZXRhaWwsIHRoaXMuZGV0YWlsLnBpY1VybCwgcGF0aC5waWNVcmwpOwogICAgICB9KTsKICAgIH0sCgogICAgCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBtZW51TmF2LAogICAgVGFiTmF2LAogICAgRGV0YWlsTWVzc2FnZSwKICAgIERldGFpbFByb2dyYW0sCiAgICBEZXRhaWxSZXNlbWJsZSwKICAgIG1zY3JvbGwsCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kc3RvcmUuc3RhdGUuaXNTaG93TmF2ID0gZmFsc2U7ICAvLyDpmpDol4/lupXpg6jmkq3mlL7moI8KICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5uYXZNdXNpY0RvbSkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5uYXZNdXNpY0RvbS5wYXVzZSgpOwogICAgfQogICAgdGhpcy5nZXREZXRhaWwoKTsKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuJHN0b3JlLnN0YXRlLmlzU2hvd05hdiA9IHRydWU7CiAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUubmF2TXVzaWNEb20pIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubmF2TXVzaWNEb20ucGxheSgpOwogICAgfQogICAgCiAgfQp9Owo="},{"version":3,"sources":["StationDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"StationDetail.vue","sourceRoot":"src/views/radioStation/childrenComps","sourcesContent":["<template>\n  <div class=\"StationDetail\" v-if=\"detail\">\n    <menu-nav\n      ref=\"nav\"\n      class=\"nav\"\n      :navTitle=\"navTitle\"\n      :showWriteImg=\"true\"\n      :showBlackImg=\"false\"\n    ></menu-nav>\n    <mscroll ref=\"msc\" style=\"bottom: 0px\" :scrollY=\"true\">\n      <div\n        class=\"bbox\"\n        v-infinite-scroll=\"loadAudio\"\n        infinite-scroll-distance=\"100\"\n        infinite-scroll-delay=\"500\"\n        infinite-scroll-immediate=\"fasle\"\n      >\n        <div class=\"top\">\n          <div ref=\"content\" class=\"content\">\n            <div class=\"peopleText\">\n              <div class=\"left\">\n                <div class=\"peopleName\">{{ detail.name }}</div>\n                <div class=\"peopleCount\">{{ detail.subCount }}人已订阅</div>\n              </div>\n              <div class=\"right\">\n                <div class=\"btn\">\n                  <img src=\"~assets/img/radioStation/Detail/wjx.svg\" alt=\"\" />\n                  <span>订阅</span>\n                </div>\n              </div>\n            </div>\n            <tab-Nav\n              ref=\"tabNav\"\n              @tabToggle=\"tabToggle\"\n              :itemList=\"itemList\"\n              class=\"tabnav\"\n              :firstIndex='1'\n            ></tab-Nav>\n          </div>\n          <img\n            class=\"backImg\"\n            v-show=\"detail.picUrl\"\n            :src=\"detail.picUrl\"\n            alt=\"\"\n          />\n        </div>\n        <div class=\"bottom\">\n          <detail-message\n            v-show=\"showMessage\"\n            :detail=\"detail\"\n          ></detail-message>\n          <detail-program :loadIndex='loadIndex' v-show=\"showProgram\"></detail-program>\n          <detail-resemble @refresh='refresh' v-show=\"showResemble\"></detail-resemble>\n        </div>\n      </div>\n    </mscroll>\n  </div>\n</template>\n\n<script>\nimport menuNav from \"components/context/menuNav/MenuNav\"; // 导航栏组件\nimport TabNav from \"components/context/tabNav/TabNav\"; // 导航组件\nimport DetailMessage from \"./DetailMessage\"; // 用户详情\nimport DetailProgram from \"./DetailProgram\"; // 用户节目\nimport DetailResemble from \"./DetailResemble\"; // 用户相似\nimport mscroll from \"components/common/muiScroll/MuiScroll\"; // 滚动组件\nimport { getAudioDetail } from \"network/radioStation\";\n\nexport default {\n  name: \"StationDetail\",\n  data() {\n    return {\n      navTitle: \"电台\",\n      detail: {}, // 用户信息\n      itemList: [\"详情\", \"节目\", \"相似\"], // 导航栏\n      tabNavtoTop: 0,\n      backG: 0,\n      scrolly: 0,\n      showMessage: false, // 详情界面\n      showProgram: true, // 节目界面\n      showResemble: false, // 相似界面\n      loadIndex: 0,  // 监听下拉加载\n    };\n  },\n  // 监听路由变化\n  beforeRouteUpdate(to, from, next) {\n    if (to.fullPath != from.fullPath) {\n      this.detail = {}; // 清空mv数据\n      next();\n      this.getDetail();\n    }\n  },\n  methods: {\n    // 滚动到顶部\n    refresh(){\n      this.$refs.msc.mscrollTo();\n      this.$refs.tabNav.tabIndex = 1\n      this.$refs.tabNav.tabItem(1)\n    },\n\n    // 下拉加载\n    loadAudio(){\n      if (this.showProgram) {\n        this.loadIndex ++;\n      }\n    },\n\n    // 导航栏切换\n    tabToggle(index) {\n      switch (index) {\n        case 0:\n          this.showMessage = true;\n          this.showProgram = false;\n          this.showResemble = false;\n          break;\n        case 1:\n          this.showProgram = true;\n          this.showMessage = false;\n          this.showResemble = false;\n          break;\n        case 2:\n          this.showResemble = true;\n          this.showMessage = false;\n          this.showProgram = false;\n          break;\n        default:\n          break;\n      }\n    },\n\n    // 获取电台详情\n    getDetail() {\n      getAudioDetail(this.$route.params.rid).then((res) => {\n        let path = res.data.djRadio;\n        this.detail.name = path.name; // 用户名称\n        this.detail.picUrl = path.picUrl; // 用户头像\n        this.detail.subCount = path.subCount; // 用户粉丝\n        this.detail.programCount = path.programCount; // 节目数量\n        this.detail.commentDatas = path.commentDatas; // 用户信息热评\n        this.detail.desc = path.desc; // 用户简介\n        this.detail.category = path.category; // 电台分类\n        this.detail.avatarUrl = path.dj.avatarUrl; // 创作者头像\n        this.detail.nickname = path.dj.nickname; // 创作者昵称\n        this.detail.signature = path.dj.signature; // 用户宣言\n        this.detail.rewardCount = path.dj.rewardCount; // 用户赞赏次数\n        this.detail.uid = path.dj.userId; // 用户id\n        // 使用 Vue.set(object, key, value) 方法将响应属性添加到嵌套的对象上\n        this.$set(this.detail, this.detail.picUrl, path.picUrl);\n      });\n    },\n\n    \n  },\n  components: {\n    menuNav,\n    TabNav,\n    DetailMessage,\n    DetailProgram,\n    DetailResemble,\n    mscroll,\n  },\n  created() {\n    this.$store.state.isShowNav = false;  // 隐藏底部播放栏\n    if (this.$store.state.navMusicDom) {\n      this.$store.state.navMusicDom.pause();\n    }\n    this.getDetail();\n  },\n  destroyed() {\n    this.$store.state.isShowNav = true;\n    if (this.$store.state.navMusicDom) {\n      this.$store.state.navMusicDom.play();\n    }\n    \n  }\n};\n</script>\n<style scoped>\n.StationDetail {\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  background-color: #fff;\n}\n.top {\n  width: 100%;\n  height: 50vh;\n  position: relative;\n}\n.top .backImg {\n  position: absolute;\n  /* top: -20px; */\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.content {\n  position: relative;\n  height: 100%;\n  z-index: 30;\n  background-color: rgba(0, 0, 0, 0.729);\n}\n.tabnav {\n  position: absolute;\n  bottom: 0;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n}\n.peopleText {\n  width: 92%;\n  height: 36px;\n  position: absolute;\n  bottom: 45px;\n  margin-left: 4%;\n  display: flex;\n}\n.left {\n  flex: 7;\n}\n.right {\n  flex: 3;\n}\n.peopleName {\n  width: 250px;\n  height: 18px;\n  line-height: 18px;\n  color: #fff;\n  font-size: 15px;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.peopleCount {\n  width: 100%;\n  height: 18px;\n  line-height: 18px;\n  color: rgb(228, 228, 228);\n  font-size: 12px;\n  margin: 0;\n}\n.btn {\n  width: 80%;\n  height: 28px;\n  border-radius: 28px;\n  margin-top: 4px;\n  text-align: center;\n  line-height: 28px;\n  float: right;\n  background-color: #da231b;\n  color: #fff;\n  font-size: 13px;\n}\n.btn img {\n  width: 18px;\n  position: relative;\n  top: 4px;\n  right: 2px;\n}\n.nav {\n  position: absolute;\n  top: 0;\n  z-index: 31;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.9);\n  border: 0 !important;\n}\n.bottom {\n  padding: 10px 12px;\n}\n</style>"]}]}