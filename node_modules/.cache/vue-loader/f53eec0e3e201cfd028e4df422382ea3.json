{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailMv.vue?vue&type=style&index=0&id=69c6013e&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailMv.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLkRldGFpbE12IHsKICB3aWR0aDogMTAwJTsKICBtaW4taGVpZ2h0OiAxMy4zMTU1NzlyZW07CiAgbWFyZ2luLWJvdHRvbTogMC4xMzMxNTZyZW07CiAgbWFyZ2luLXRvcDogMi4zOTY4MDRyZW07CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQoudmlkZW9JdGVtIHsKICBkaXNwbGF5OiBmbGV4OwogIGhlaWdodDogMS45OTczMzdyZW07CiAgbWFyZ2luLWJvdHRvbTogMC4yMTMwNDlyZW07Cn0KLnZsZWZ0IHsKICBmbGV4OiA0OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQouY291bnQgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMC4zMTk1NzRyZW07CiAgdG9wOiAwOwogIGNvbG9yOiAjZmZmOwogIGZvbnQtc2l6ZTogMC4zMTk1NzRyZW07Cn0KLnZsZWZ0IGltZyB7CiAgd2lkdGg6IDMuNDYyMDUxcmVtOwogIGhlaWdodDogMTAwJTsKICBib3JkZXItcmFkaXVzOiAwLjEzMzE1NnJlbTsKfQoudnJpZ2h0IHsKICBmbGV4OiA2OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoudnRpdGxlIHsKICB0ZXh0LW92ZXJmbG93OiAtby1lbGxpcHNpcy1sYXN0bGluZTsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIGRpc3BsYXk6IC13ZWJraXQtYm94OwogIC13ZWJraXQtbGluZS1jbGFtcDogMjsKICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOwogIGZvbnQtc2l6ZTogMC4zNDYyMDVyZW07Cn0KLnZpZGVvRGV0YWlsIHsKICBmb250LXNpemU6IDAuMzE5NTc0cmVtOwogIGNvbG9yOiAjYTdhN2E4Owp9Cg=="},{"version":3,"sources":["DetailMv.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetailMv.vue","sourceRoot":"src/views/search/childrenComps","sourcesContent":["<template>\n  <div class=\"DetailMv\">\n    <div class=\"videoItem\" @click=\"toMv(item.id)\" v-for=\"(item, index) in mvList\" :key=\"index\">\n      <div class=\"vleft\">\n        <img :src=\"item.coverUrl\" alt=\"\" />\n        <div class=\"count\">▷ {{ item.playTime }}</div>\n      </div>\n      <div class=\"vright\">\n        <div class=\"vbox\">\n          <div class=\"vtitle\">{{ item.title }}</div>\n          <div class=\"videoDetail\">\n            {{ item.durationms + \" by \" }}{{ item.creator }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { searchResult } from \"network/search\";\nimport { toStringNum, durationTime } from \"common/common\";\nexport default {\n  name: \"DetailMv\",\n  data() {\n    return {\n      offset: 0,\n      mvList: [],\n      more: 1,\n    };\n  },\n  methods: {\n    //   路由跳转\n    toMv(id){\n        this.$router.push('/mvplay/' + id)\n    },\n\n    // 获取数据\n    getSearchResult() {\n      if (this.more !== 0) {\n        searchResult(\n          this.$route.params.keywords,\n          40,\n          this.offset * 40,\n          1004\n        ).then((res) => {\n          \n          this.more = res.data.result.mvCount;\n          if (res.data.result.mvs !== null) {\n            for (const item of res.data.result.mvs) {\n              this.mvList.push({\n                id: item.id,\n                title: item.name,\n                durationms: durationTime(item.duration),\n                playTime: toStringNum(item.playCount),\n                coverUrl: item.cover,\n                artistName: item.artistName,\n              });\n            }\n            this.offset++;\n          }\n        });\n      } else {\n        this.$toast.show(\"没有更多了:(\", 1900);\n      }\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.getSearchResult();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 40, this.offset * 40, 1004).then(\n      (res) => {\n        for (const item of res.data.result.mvs) {\n          this.mvList.push({\n            id: item.id,\n            title: item.name,\n            durationms: durationTime(item.duration),\n            playTime: toStringNum(item.playCount),\n            coverUrl: item.cover,\n            artistName: item.artistName,\n          });\n        }\n        this.offset++;\n      }\n    );\n  },\n  destroyed() {\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n  mounted() {\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n      this.$loading.loadingNo();\n    });\n  },\n};\n</script>\n<style scoped>\n.DetailMv {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n  background-color: #fff;\n}\n.videoItem {\n  display: flex;\n  height: 1.997337rem;\n  margin-bottom: 0.213049rem;\n}\n.vleft {\n  flex: 4;\n  position: relative;\n}\n.count {\n  position: absolute;\n  right: 0.319574rem;\n  top: 0;\n  color: #fff;\n  font-size: 0.319574rem;\n}\n.vleft img {\n  width: 3.462051rem;\n  height: 100%;\n  border-radius: 0.133156rem;\n}\n.vright {\n  flex: 6;\n  display: flex;\n  align-items: center;\n}\n.vtitle {\n  text-overflow: -o-ellipsis-lastline;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  font-size: 0.346205rem;\n}\n.videoDetail {\n  font-size: 0.319574rem;\n  color: #a7a7a8;\n}\n</style>"]}]}