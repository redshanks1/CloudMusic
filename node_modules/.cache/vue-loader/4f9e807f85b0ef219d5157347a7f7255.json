{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\components\\common\\fullScreen\\FullScreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\components\\common\\fullScreen\\FullScreen.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRnVsbFNjcmVlbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiAwLAogICAgICBQbGF5OiByZXF1aXJlKCJhc3NldHMvaW1nL212UGxheS96YW50aW5nLnN2ZyIpLAogICAgICBzaG93U2V0Qm94OiBmYWxzZSwKICAgICAgcGxheWluZzogdHJ1ZSwKICAgICAgcGVyY2VudFRpbWU6IDAsCiAgICAgIHRpbWVyOiBudWxsLCAvLyDmjqfliLblrprml7blmagKICAgIH07CiAgfSwKICBwcm9wczogewogICAgdmlkZW9Vcmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIiwKICAgIH0sCiAgICB2aWRlb1RpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIsCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgb25DaGFuZ2UoKSB7fSwKICAgIGJhY2soKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmZ1bGxTZWNyZWVuVmlkZW8uY3VycmVudFRpbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5mdWxsU2VjcmVlblZpZGVvLmN1cnJlbnRUaW1lCiAgICAgIHRoaXMuJGVtaXQoInRvQmFjayIpOwogICAgfSwKCiAgICAvLyDmmL7npLov6ZqQ6JeP6Z2i5p2/CiAgICBzaG93U2V0KCkgewogICAgICBpZiAodGhpcy5zaG93U2V0Qm94KSB7CiAgICAgICAgdGhpcy5zaG93U2V0Qm94ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93U2V0Qm94ID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd1NldEJveCA9IGZhbHNlOwogICAgICAgIH0sIDUwMDApOwogICAgICB9CiAgICB9LAoKICAgIC8vIOaaguWBnC/mkq3mlL4KICAgIHBsYXlCdG4oKSB7CiAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5mdWxsU2VjcmVlblZpZGVvLnBhdXNlKCk7CiAgICAgICAgdGhpcy5QbGF5ID0gcmVxdWlyZSgiYXNzZXRzL2ltZy9tdlBsYXkvYm9mYW5nLnN2ZyIpOwogICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnZpZXdQbGF5LnBsYXlpbmcgPSBmYWxzZTsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnZhbHVlID49IDEwMCkgewogICAgICAgICAgdGhpcy52YWx1ZSA9IDA7CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5mdWxsU2VjcmVlblZpZGVvLmN1cnJlbnRUaW1lID0gMDsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZnVsbFNlY3JlZW5WaWRlby5wbGF5KCk7CiAgICAgICAgdGhpcy5QbGF5ID0gcmVxdWlyZSgiYXNzZXRzL2ltZy9tdlBsYXkvemFudGluZy5zdmciKTsKICAgICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnZpZXdQbGF5LnBsYXlpbmcgPSB0cnVlOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMubGluZWFyUGxheSwgMTAwMCk7CiAgICAgIH0KICAgIH0sCgogICAgbGluZWFyUGxheSgpIHsKICAgICAgdGhpcy52YWx1ZSArPSB0aGlzLnBlcmNlbnRUaW1lOwogICAgICBpZiAodGhpcy52YWx1ZSA+PSAxMDApIHsKICAgICAgICB0aGlzLnZhbHVlID0gMTAwOwogICAgICAgIHRoaXMuUGxheSA9IHJlcXVpcmUoImFzc2V0cy9pbWcvbXZQbGF5L2JvZmFuZy5zdmciKTsgLy8g5L+u5pS55Zu+5qCHCiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudmlld1BsYXkucGxheWluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIC8vIOebkeWQrHZpZGVv5Yqg6L295a6M5oiQCiAgICBjYW5wbGF5KCkgewogICAgICB0aGlzLnBlcmNlbnRUaW1lID0gMTAwIC8gdGhpcy4kc3RvcmUuc3RhdGUuZnVsbFNlY3JlZW5WaWRlby5kdXJhdGlvbjsKICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuJHN0b3JlLnN0YXRlLnZpZXdQbGF5LmN1cnJlbnRUaW1lICogdGhpcy5wZXJjZW50VGltZTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5mdWxsU2VjcmVlblZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoCiAgICAgICAgImZ1bGxTZWNyZWVuVmlkZW8iCiAgICAgICk7CiAgICAgIC8vIOWIpOaWreWklumDqOaSreaUvuWZqOaYr+WQpuato+WcqOaSreaUvgogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudmlld1BsYXkub3V0UGxheWluZykgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmZ1bGxTZWNyZWVuVmlkZW8uY3VycmVudFRpbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS52aWV3UGxheS5jdXJyZW50VGltZTsgLy8g5bCG5aSW6YOo5L+d5a2Y55qE5pe26Ze05pS+5YWl5YaF6YOo5pKt5pS+5ZmoCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZnVsbFNlY3JlZW5WaWRlby5wbGF5KCk7CiAgICAgICAgdGhpcy5QbGF5ID0gcmVxdWlyZSgiYXNzZXRzL2ltZy9tdlBsYXkvemFudGluZy5zdmciKTsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS52aWV3UGxheS5wbGF5aW5nID0gdHJ1ZTsgLy8g5q2j5Zyo5pKt5pS+CiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5saW5lYXJQbGF5LCAxMDAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5mdWxsU2VjcmVlblZpZGVvLnBhdXNlKCk7CiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5QbGF5ID0gcmVxdWlyZSgiYXNzZXRzL2ltZy9tdlBsYXkvYm9mYW5nLnN2ZyIpOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnZpZXdQbGF5LnBsYXlpbmcgPSBmYWxzZTsgLy8g5pqC5YGc5pKt5pS+CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB2YXIgY29uVyA9CiAgICAgICAgd2luZG93LmlubmVyV2lkdGggfHwKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwKICAgICAgICBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwoKICAgICAgdmFyIGNvbkggPQogICAgICAgIHdpbmRvdy5pbm5lckhlaWdodCB8fAogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwKICAgICAgICBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgICAgLy8gIGNvbnNvbGUubG9nKGNvbkgrJy0tJytjb25XKTsKICAgICAgdGhpcy4kcmVmcy5wbGF5Qm94LnN0eWxlLndpZHRoID0gY29uSCArICJweCI7CiAgICAgIHRoaXMuJHJlZnMucGxheUJveC5zdHlsZS5oZWlnaHQgPSBjb25XICsgInB4IjsKICAgIH0pOwogIH0sCiAgZGVzdHJveWVkKCkgewogICAgdGhpcy4kc3RvcmUuc3RhdGUuZnVsbFNlY3JlZW5WaWRlby5wYXVzZSgpOyAvLyDmmoLlgZzlhoXpg6jmkq3mlL7lmagKICAgIHRoaXMuJHN0b3JlLnN0YXRlLnZpZXdQbGF5LmN1cnJlbnRUaW1lID0gdGhpcy4kc3RvcmUuc3RhdGUuZnVsbFNlY3JlZW5WaWRlby5jdXJyZW50VGltZTsgLy8g6ZSA5q+B6Zi25q61IOS/neWtmOaXtumXtAogIH0sCn07Cg=="},{"version":3,"sources":["FullScreen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FullScreen.vue","sourceRoot":"src/components/common/fullScreen","sourcesContent":["<template>\n  <div class=\"FullScreen\">\n    <div class=\"playBox\" @click=\"showSet\" ref=\"playBox\">\n      <transition name=\"FullScreen\">\n        <div class=\"setBox\" v-show=\"showSetBox\">\n          <div class=\"topBox\">\n            <div class=\"left\" @click=\"back\">\n              <img src=\"~assets/img/common/fanhui.svg\" alt=\"\" />\n            </div>\n            <div class=\"center\">{{ videoTitle }}</div>\n            <div class=\"right\">\n              <img src=\"~assets/img/sheetList/fenxiang.svg\" alt=\"\" />\n            </div>\n          </div>\n          <div class=\"playBtn\" @click.stop=\"playBtn\">\n            <img :src=\"Play\" alt=\"\" />\n          </div>\n          <div class=\"bottomBox\">\n            <van-slider\n              disabled\n              bar-height=\"5px\"\n              class=\"sliderBox\"\n              v-model=\"value\"\n              active-color=\"#ee0a24\"\n            >\n              <template #button>\n                <div class=\"custom-button\"></div>\n              </template>\n            </van-slider>\n          </div>\n        </div>\n      </transition>\n      <div class=\"playVideo\">\n        <video\n          @canplay=\"canplay\"\n          id=\"fullSecreenVideo\"\n          style=\"width: 100%; height: 100%\"\n          :src=\"videoUrl\"\n        ></video>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"FullScreen\",\n  data() {\n    return {\n      value: 0,\n      Play: require(\"assets/img/mvPlay/zanting.svg\"),\n      showSetBox: false,\n      playing: true,\n      percentTime: 0,\n      timer: null, // 控制定时器\n    };\n  },\n  props: {\n    videoUrl: {\n      type: String,\n      default: \"\",\n    },\n    videoTitle: {\n      type: String,\n      default: \"\",\n    },\n  },\n  methods: {\n    onChange() {},\n    back() {\n      this.$store.state.fullSecreenVideo.currentTime = this.$store.state.fullSecreenVideo.currentTime\n      this.$emit(\"toBack\");\n    },\n\n    // 显示/隐藏面板\n    showSet() {\n      if (this.showSetBox) {\n        this.showSetBox = false;\n      } else {\n        this.showSetBox = true;\n        setTimeout(() => {\n          this.showSetBox = false;\n        }, 5000);\n      }\n    },\n\n    // 暂停/播放\n    playBtn() {\n      if (this.playing) {\n        this.$store.state.fullSecreenVideo.pause();\n        this.Play = require(\"assets/img/mvPlay/bofang.svg\");\n        this.playing = false;\n        this.$store.state.viewPlay.playing = false;\n        clearInterval(this.timer);\n      } else {\n        if (this.value >= 100) {\n          this.value = 0;\n          this.$store.state.fullSecreenVideo.currentTime = 0;\n        }\n        this.$store.state.fullSecreenVideo.play();\n        this.Play = require(\"assets/img/mvPlay/zanting.svg\");\n        this.playing = true;\n        this.$store.state.viewPlay.playing = true;\n        clearInterval(this.timer);\n        this.timer = setInterval(this.linearPlay, 1000);\n      }\n    },\n\n    linearPlay() {\n      this.value += this.percentTime;\n      if (this.value >= 100) {\n        this.value = 100;\n        this.Play = require(\"assets/img/mvPlay/bofang.svg\"); // 修改图标\n        this.playing = false;\n        this.$store.state.viewPlay.playing = false;\n      }\n    },\n\n    // 监听video加载完成\n    canplay() {\n      this.percentTime = 100 / this.$store.state.fullSecreenVideo.duration;\n      this.value = this.$store.state.viewPlay.currentTime * this.percentTime;\n    },\n  },\n  created() {\n    this.$nextTick(() => {\n      this.$store.state.fullSecreenVideo = document.getElementById(\n        \"fullSecreenVideo\"\n      );\n      // 判断外部播放器是否正在播放\n      if (this.$store.state.viewPlay.outPlaying) {\n        this.$store.state.fullSecreenVideo.currentTime = this.$store.state.viewPlay.currentTime; // 将外部保存的时间放入内部播放器\n        this.$store.state.fullSecreenVideo.play();\n        this.Play = require(\"assets/img/mvPlay/zanting.svg\");\n        this.$store.state.viewPlay.playing = true; // 正在播放\n        this.playing = true;\n        this.timer = setInterval(this.linearPlay, 1000);\n      } else {\n        this.$store.state.fullSecreenVideo.pause();\n        this.playing = false;\n        this.Play = require(\"assets/img/mvPlay/bofang.svg\");\n        this.$store.state.viewPlay.playing = false; // 暂停播放\n        clearInterval(this.timer);\n      }\n    });\n  },\n  mounted() {\n    this.$nextTick(() => {\n      var conW =\n        window.innerWidth ||\n        document.documentElement.clientWidth ||\n        document.body.clientWidth;\n\n      var conH =\n        window.innerHeight ||\n        document.documentElement.clientHeight ||\n        document.body.clientHeight;\n      //  console.log(conH+'--'+conW);\n      this.$refs.playBox.style.width = conH + \"px\";\n      this.$refs.playBox.style.height = conW + \"px\";\n    });\n  },\n  destroyed() {\n    this.$store.state.fullSecreenVideo.pause(); // 暂停内部播放器\n    this.$store.state.viewPlay.currentTime = this.$store.state.fullSecreenVideo.currentTime; // 销毁阶段 保存时间\n  },\n};\n</script>\n<style scoped>\n.FullScreen-enter {\n  opacity: 0;\n}\n.FullScreen-leave-to {\n  opacity: 0;\n}\n.FullScreen-enter-active,\n.FullScreen-leave-active {\n  /* 添加动画效果 */\n  transition: all 0.2s linear;\n}\n.playBtn {\n  width: 2.130493rem;\n  height: 2.130493rem;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.playBtn img {\n  width: 100%;\n  height: 100%;\n}\n.custom-button {\n  width: 13px;\n  height: 13px;\n  color: #fff;\n  background-color: #ee0a24;\n  border-radius: 50%;\n}\n.FullScreen {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  /* */\n  background-color: rgba(0, 0, 0, 0.9);\n  position: absolute;\n  z-index: 300;\n}\n.playBox {\n  width: 100%;\n  height: 100%;\n  transform: rotateZ(90deg);\n  position: absolute;\n  bottom: 3.888149rem;\n  left: -3.888149rem;\n}\n.setBox {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 302;\n}\n.topBox {\n  width: 100%;\n  height: 1.331558rem;\n  display: flex;\n  background: linear-gradient(rgba(0, 0, 0, 0.6), transparent);\n}\n.left {\n  flex: 0.6;\n  text-align: center;\n}\n.left img {\n  width: 0.665779rem;\n  margin-top: 0.292943rem;\n}\n.center {\n  flex: 8.8;\n  line-height: 1.331558rem;\n  color: #fff;\n  font-size: 0.505992rem;\n  width: 10.652463rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.right {\n  flex: 0.6;\n  text-align: center;\n}\n.right img {\n  width: 0.798935rem;\n  margin-top: 0.186418rem;\n}\n.bottomBox {\n  width: 100%;\n  height: 1.331558rem;\n  position: absolute;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  background: linear-gradient(transparent, rgba(0, 0, 0, 0.6));\n}\n.sliderBox {\n  width: 90%;\n  margin: auto;\n  height: 0.266312rem;\n}\n.playVideo {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 301;\n}\n</style>"]}]}