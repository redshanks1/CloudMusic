{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\StationDetail.vue?vue&type=style&index=0&id=16ae3dbf&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\StationDetail.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5TdGF0aW9uRGV0YWlsIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMHZoOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwp9Ci50b3AgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogNTB2aDsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLnRvcCAuYmFja0ltZyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIC8qIHRvcDogLTIwcHg7ICovCiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9Ci5jb250ZW50IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgaGVpZ2h0OiAxMDAlOwogIHotaW5kZXg6IDMwOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43MjkpOwp9Ci50YWJuYXYgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDA7CiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMjBweDsKICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMjBweDsKfQoucGVvcGxlVGV4dCB7CiAgd2lkdGg6IDkyJTsKICBoZWlnaHQ6IDM2cHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogNDVweDsKICBtYXJnaW4tbGVmdDogNCU7CiAgZGlzcGxheTogZmxleDsKfQoubGVmdCB7CiAgZmxleDogNzsKfQoucmlnaHQgewogIGZsZXg6IDM7Cn0KLnBlb3BsZU5hbWUgewogIHdpZHRoOiAyNTBweDsKICBoZWlnaHQ6IDE4cHg7CiAgbGluZS1oZWlnaHQ6IDE4cHg7CiAgY29sb3I6ICNmZmY7CiAgZm9udC1zaXplOiAxNXB4OwogIG1hcmdpbjogMDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7Cn0KLnBlb3BsZUNvdW50IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDE4cHg7CiAgbGluZS1oZWlnaHQ6IDE4cHg7CiAgY29sb3I6IHJnYigyMjgsIDIyOCwgMjI4KTsKICBmb250LXNpemU6IDEycHg7CiAgbWFyZ2luOiAwOwp9Ci5idG4gewogIHdpZHRoOiA4MCU7CiAgaGVpZ2h0OiAyOHB4OwogIGJvcmRlci1yYWRpdXM6IDI4cHg7CiAgbWFyZ2luLXRvcDogNHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBsaW5lLWhlaWdodDogMjhweDsKICBmbG9hdDogcmlnaHQ7CiAgYmFja2dyb3VuZC1jb2xvcjogI2RhMjMxYjsKICBjb2xvcjogI2ZmZjsKICBmb250LXNpemU6IDEzcHg7Cn0KLmJ0biBpbWcgewogIHdpZHRoOiAxOHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0b3A6IDRweDsKICByaWdodDogMnB4Owp9Ci5uYXYgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgei1pbmRleDogMzE7CiAgY29sb3I6ICNmZmY7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjkpOwogIGJvcmRlcjogMCAhaW1wb3J0YW50Owp9Ci5ib3R0b20gewogIHBhZGRpbmc6IDEwcHggMTJweDsKfQo="},{"version":3,"sources":["StationDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StationDetail.vue","sourceRoot":"src/views/radioStation/childrenComps","sourcesContent":["<template>\n  <div class=\"StationDetail\" v-if=\"detail\">\n    <menu-nav\n      ref=\"nav\"\n      class=\"nav\"\n      :navTitle=\"navTitle\"\n      :showWriteImg=\"true\"\n      :showBlackImg=\"false\"\n    ></menu-nav>\n    <mscroll ref=\"msc\" style=\"bottom: 0px\" :scrollY=\"true\">\n      <div\n        class=\"bbox\"\n        v-infinite-scroll=\"loadAudio\"\n        infinite-scroll-distance=\"100\"\n        infinite-scroll-delay=\"500\"\n        infinite-scroll-immediate=\"fasle\"\n      >\n        <div class=\"top\">\n          <div ref=\"content\" class=\"content\">\n            <div class=\"peopleText\">\n              <div class=\"left\">\n                <div class=\"peopleName\">{{ detail.name }}</div>\n                <div class=\"peopleCount\">{{ detail.subCount }}人已订阅</div>\n              </div>\n              <div class=\"right\">\n                <div class=\"btn\">\n                  <img src=\"~assets/img/radioStation/Detail/wjx.svg\" alt=\"\" />\n                  <span>订阅</span>\n                </div>\n              </div>\n            </div>\n            <tab-Nav\n              ref=\"tabNav\"\n              @tabToggle=\"tabToggle\"\n              :itemList=\"itemList\"\n              class=\"tabnav\"\n              :firstIndex='1'\n            ></tab-Nav>\n          </div>\n          <img\n            class=\"backImg\"\n            v-show=\"detail.picUrl\"\n            :src=\"detail.picUrl\"\n            alt=\"\"\n          />\n        </div>\n        <div class=\"bottom\">\n          <detail-message\n            v-show=\"showMessage\"\n            :detail=\"detail\"\n          ></detail-message>\n          <detail-program :loadIndex='loadIndex' v-show=\"showProgram\"></detail-program>\n          <detail-resemble @refresh='refresh' v-show=\"showResemble\"></detail-resemble>\n        </div>\n      </div>\n    </mscroll>\n  </div>\n</template>\n\n<script>\nimport menuNav from \"components/context/menuNav/MenuNav\"; // 导航栏组件\nimport TabNav from \"components/context/tabNav/TabNav\"; // 导航组件\nimport DetailMessage from \"./DetailMessage\"; // 用户详情\nimport DetailProgram from \"./DetailProgram\"; // 用户节目\nimport DetailResemble from \"./DetailResemble\"; // 用户相似\nimport mscroll from \"components/common/muiScroll/MuiScroll\"; // 滚动组件\nimport { getAudioDetail } from \"network/radioStation\";\n\nexport default {\n  name: \"StationDetail\",\n  data() {\n    return {\n      navTitle: \"电台\",\n      detail: {}, // 用户信息\n      itemList: [\"详情\", \"节目\", \"相似\"], // 导航栏\n      tabNavtoTop: 0,\n      backG: 0,\n      scrolly: 0,\n      showMessage: false, // 详情界面\n      showProgram: true, // 节目界面\n      showResemble: false, // 相似界面\n      loadIndex: 0,  // 监听下拉加载\n    };\n  },\n  // 监听路由变化\n  beforeRouteUpdate(to, from, next) {\n    if (to.fullPath != from.fullPath) {\n      this.detail = {}; // 清空mv数据\n      next();\n      this.getDetail();\n    }\n  },\n  methods: {\n    // 滚动到顶部\n    refresh(){\n      this.$refs.msc.mscrollTo();\n      this.$refs.tabNav.tabIndex = 1\n      this.$refs.tabNav.tabItem(1)\n    },\n\n    // 下拉加载\n    loadAudio(){\n      if (this.showProgram) {\n        this.loadIndex ++;\n      }\n    },\n\n    // 导航栏切换\n    tabToggle(index) {\n      switch (index) {\n        case 0:\n          this.showMessage = true;\n          this.showProgram = false;\n          this.showResemble = false;\n          break;\n        case 1:\n          this.showProgram = true;\n          this.showMessage = false;\n          this.showResemble = false;\n          break;\n        case 2:\n          this.showResemble = true;\n          this.showMessage = false;\n          this.showProgram = false;\n          break;\n        default:\n          break;\n      }\n    },\n\n    // 获取电台详情\n    getDetail() {\n      getAudioDetail(this.$route.params.rid).then((res) => {\n        let path = res.data.djRadio;\n        this.detail.name = path.name; // 用户名称\n        this.detail.picUrl = path.picUrl; // 用户头像\n        this.detail.subCount = path.subCount; // 用户粉丝\n        this.detail.programCount = path.programCount; // 节目数量\n        this.detail.commentDatas = path.commentDatas; // 用户信息热评\n        this.detail.desc = path.desc; // 用户简介\n        this.detail.category = path.category; // 电台分类\n        this.detail.avatarUrl = path.dj.avatarUrl; // 创作者头像\n        this.detail.nickname = path.dj.nickname; // 创作者昵称\n        this.detail.signature = path.dj.signature; // 用户宣言\n        this.detail.rewardCount = path.dj.rewardCount; // 用户赞赏次数\n        this.detail.uid = path.dj.userId; // 用户id\n        // 使用 Vue.set(object, key, value) 方法将响应属性添加到嵌套的对象上\n        this.$set(this.detail, this.detail.picUrl, path.picUrl);\n      });\n    },\n\n    \n  },\n  components: {\n    menuNav,\n    TabNav,\n    DetailMessage,\n    DetailProgram,\n    DetailResemble,\n    mscroll,\n  },\n  created() {\n    this.$store.state.isShowNav = false;  // 隐藏底部播放栏\n    if (this.$store.state.navMusicDom) {\n      this.$store.state.navMusicDom.pause();\n    }\n    this.getDetail();\n  },\n  destroyed() {\n    this.$store.state.isShowNav = true;\n    if (this.$store.state.navMusicDom) {\n      this.$store.state.navMusicDom.play();\n    }\n    \n  }\n};\n</script>\n<style scoped>\n.StationDetail {\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  background-color: #fff;\n}\n.top {\n  width: 100%;\n  height: 50vh;\n  position: relative;\n}\n.top .backImg {\n  position: absolute;\n  /* top: -20px; */\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.content {\n  position: relative;\n  height: 100%;\n  z-index: 30;\n  background-color: rgba(0, 0, 0, 0.729);\n}\n.tabnav {\n  position: absolute;\n  bottom: 0;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n}\n.peopleText {\n  width: 92%;\n  height: 36px;\n  position: absolute;\n  bottom: 45px;\n  margin-left: 4%;\n  display: flex;\n}\n.left {\n  flex: 7;\n}\n.right {\n  flex: 3;\n}\n.peopleName {\n  width: 250px;\n  height: 18px;\n  line-height: 18px;\n  color: #fff;\n  font-size: 15px;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.peopleCount {\n  width: 100%;\n  height: 18px;\n  line-height: 18px;\n  color: rgb(228, 228, 228);\n  font-size: 12px;\n  margin: 0;\n}\n.btn {\n  width: 80%;\n  height: 28px;\n  border-radius: 28px;\n  margin-top: 4px;\n  text-align: center;\n  line-height: 28px;\n  float: right;\n  background-color: #da231b;\n  color: #fff;\n  font-size: 13px;\n}\n.btn img {\n  width: 18px;\n  position: relative;\n  top: 4px;\n  right: 2px;\n}\n.nav {\n  position: absolute;\n  top: 0;\n  z-index: 31;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.9);\n  border: 0 !important;\n}\n.bottom {\n  padding: 10px 12px;\n}\n</style>"]}]}