{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailRadio.vue?vue&type=style&index=0&id=15641d1a&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailRadio.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouRGV0YWlsUmFkaW8gewogIHdpZHRoOiAxMDAlOwogIG1pbi1oZWlnaHQ6IDEzLjMxNTU3OXJlbTsKICBtYXJnaW4tYm90dG9tOiAwLjEzMzE1NnJlbTsKICBtYXJnaW4tdG9wOiAyLjM5NjgwNHJlbTsKfQouaXRlbSB7CiAgZGlzcGxheTogZmxleDsKICBoZWlnaHQ6IDEuMTk4NDAycmVtOwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbi1ib3R0b206IDAuMzk5NDY3cmVtOwp9Ci5sZWZ0IHsKICBmbGV4OiAxLjU7Cn0KLmxlZnQgaW1nIHsKICB3aWR0aDogMS4xOTg0MDJyZW07CiAgaGVpZ2h0OiAxMDAlOwogIGJvcmRlci1yYWRpdXM6IDAuMTMzMTU2cmVtOwp9Ci5yaWdodCB7CiAgZmxleDogOC41OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoudGl0bGUgewogIHdpZHRoOiA3LjE5MDQxM3JlbTsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgZm9udC1zaXplOiAwLjM3MjgzNnJlbTsKICBtYXJnaW4tbGVmdDogMC4xMzMxNTZyZW07Cn0KLmRldGFpbCB7CiAgd2lkdGg6IDcuMTkwNDEzcmVtOwogIG92ZXJmbG93OiBoaWRkZW47CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBmb250LXNpemU6IDAuMzE5NTc0cmVtOwogIGNvbG9yOiByZ2IoMTUwLCAxNTAsIDE1MCk7CiAgaGVpZ2h0OiAwLjM5OTQ2N3JlbTsKICBsaW5lLWhlaWdodDogMC4zOTk0NjdyZW07CiAgbWFyZ2luLWxlZnQ6IDAuMTMzMTU2cmVtOwp9Cg=="},{"version":3,"sources":["DetailRadio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetailRadio.vue","sourceRoot":"src/views/search/childrenComps","sourcesContent":["<template>\n  <div class=\"DetailRadio\">\n    <div\n      class=\"item\"\n      @click=\"toRadio(item.id)\"\n      v-for=\"(item, index) in radioList\"\n      :key=\"index\"\n    >\n      <div class=\"left\">\n        <img :src=\"item.picUrl\" alt=\"\" />\n      </div>\n      <div class=\"right\">\n        <div class=\"box\">\n          <div class=\"title\">{{ item.name }}</div>\n          <div class=\"detail\">{{ item.nickname }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { searchResult } from \"network/search\";\nexport default {\n  name: \"DetailRadio\",\n  data() {\n    return {\n      radioList: [],\n      offset: 0,\n      hasMore: \"\",\n      djRadiosCount: 40,\n    };\n  },\n  methods: {\n    // 路由跳转\n    toRadio(id) {\n      this.$router.push(\"/stationDetail/\" + id);\n    },\n\n    getSearchResult() {\n      this.$loading.loadingShow();\n      searchResult(\n        this.$route.params.keywords,\n        40,\n        this.offset * 40,\n        1009\n      ).then((res) => {\n        this.hasMore = res.data.result.djRadios || null;\n        if (this.hasMore !== null) {\n          for (const item of res.data.result.djRadios) {\n            this.radioList.push({\n              id: item.id,\n              name: item.name,\n              picUrl: item.picUrl,\n              nickname: item.dj.nickname,\n            });\n          }\n          this.offset++;\n        } else {\n          this.$toast.show(\"没有更多了:(\", 1900);\n          this.$loading.loadingNo();\n        }\n      });\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        setTimeout(() => {\n          this.getSearchResult();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 40, this.offset * 40, 1009).then(\n      (res) => {\n        for (const item of res.data.result.djRadios) {\n          this.radioList.push({\n            id: item.id,\n            name: item.name,\n            picUrl: item.picUrl,\n            nickname: item.dj.nickname,\n          });\n        }\n        this.offset++;\n      }\n    );\n\n    // 绑定滚动事件\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n    });\n  },\n  deactivated() {\n    // 删除事件\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.DetailRadio {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n}\n.item {\n  display: flex;\n  height: 1.198402rem;\n  width: 100%;\n  margin-bottom: 0.399467rem;\n}\n.left {\n  flex: 1.5;\n}\n.left img {\n  width: 1.198402rem;\n  height: 100%;\n  border-radius: 0.133156rem;\n}\n.right {\n  flex: 8.5;\n  display: flex;\n  align-items: center;\n}\n.title {\n  width: 7.190413rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 0.372836rem;\n  margin-left: 0.133156rem;\n}\n.detail {\n  width: 7.190413rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 0.319574rem;\n  color: rgb(150, 150, 150);\n  height: 0.399467rem;\n  line-height: 0.399467rem;\n  margin-left: 0.133156rem;\n}\n</style>"]}]}