{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\phoneLogin\\PhoneLogin.vue?vue&type=style&index=0&id=365c7eef&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\phoneLogin\\PhoneLogin.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udGVudCB7CiAgcGFkZGluZzogMCAxMHB4OwogIGhlaWdodDogOTBweDsKICBmb250LXNpemU6IDE1cHg7Cn0KLnRpdGxlIHsKICBmb250LXNpemU6IDAuNDI2MDk5cmVtOwp9Ci50ZWwgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogNDBweDsKICBkaXNwbGF5OiBmbGV4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2RjZGNkOwogIG1hcmdpbi10b3A6IDVweDsKICB6LWluZGV4OiAxMDsKfQoucHdkIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDQwcHg7CiAgZGlzcGxheTogZmxleDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NkY2RjZDsKICBtYXJnaW4tdG9wOiA1cHg7CiAgei1pbmRleDogMTA7Cn0KLnRleHQgewogIGZsZXg6IDI7CiAgbGluZS1oZWlnaHQ6IDQ1cHg7Cn0KLnRleHQgc3BhbiB7CiAgZmxvYXQ6IHJpZ2h0Owp9Ci5pbnB1dCB7CiAgZmxleDogNzsKICAvKiBsaW5lLWhlaWdodDogNDVweDsgKi8KICBtYXJnaW4tdG9wOiA0LjFweDsKfQouaW5wdXQgaW5wdXQgewogIGhlaWdodDogMzVweDsKICBib3JkZXI6IDA7Cn0KLlBob25lTG9naW4gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICByaWdodDogMDsKICBib3R0b206IDA7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICB6LWluZGV4OiA1MjsKfQouYm94IHsKICBwYWRkaW5nOiA1cHggMTBweDsKfQoubmF2YmFyIHsKICBib3gtc2hhZG93OiAwIC0ycHggNXB4IHJnYmEoMCwgMCwgMCwgMC41KTsKfQoubGVmdCBpbWcgewogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKICBtYXJnaW4tdG9wOiAxMnB4Owp9Ci5idG4gewogIG1hcmdpbi10b3A6IDEwcHg7CiAgYm9yZGVyLXJhZGl1czogNDRweDsKICBmb250LXNpemU6IDAuNDI2MDk5cmVtOwp9Ci50aXAgewogIGZvbnQtc2l6ZTogMTNweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbWFyZ2luLXRvcDogMTBweDsKICBtYXJnaW4tYm90dG9tOiAxMHB4OwogIGNvbG9yOiAjODg4ODg4Owp9Ci52LWVudGVyIHsKICBvcGFjaXR5OiAwOwogIC8qIOi/m+adpeeahOaXtuWAmeS7juWPsyAqLwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsKfQoudi1sZWF2ZS10byB7CiAgb3BhY2l0eTogMDsKICAvKiDnprvlvIDnmoTml7blgJnlkJHlt6YgKi8KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKfQoKLyog5Yqo55S75omn6KGM5pyf6Ze0ICovCi52LWVudGVyLWFjdGl2ZSwKLnYtbGVhdmUtYWN0aXZlIHsKICAvKiDmt7vliqDliqjnlLvmlYjmnpwgKi8KICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBsaW5lYXI7Cn0K"},{"version":3,"sources":["PhoneLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PhoneLogin.vue","sourceRoot":"src/components/context/phoneLogin","sourcesContent":["<template>\n  <div class=\"PhoneLogin\">\n    <navbar class=\"navbar\">\n      <div @click=\"back\" class=\"left\" slot=\"left\">\n        <img src=\"~assets/img/myMessage/fanhui.png\" alt=\"\" />\n      </div>\n      <div class=\"title\" slot=\"center\">手机号登陆</div>\n    </navbar>\n    <div class=\"box\">\n      <div class=\"tip\"><span>没有注册过的手机号会自动注册</span></div>\n      <div class=\"content\">\n        <div class=\"tel\">\n          <div class=\"text\">\n            <span>手机号：</span>\n          </div>\n          <div class=\"input\">\n            <input v-model=\"tel\" type=\"text\" placeholder=\"请输入手机号码\" />\n          </div>\n        </div>\n        <div class=\"pwd\">\n          <div class=\"text\">\n            <span>密码：</span>\n          </div>\n          <div class=\"input\">\n            <input\n              v-model=\"password\"\n              type=\"password\"\n              placeholder=\"请输入密码\"\n            />\n          </div>\n        </div>\n      </div>\n      <van-button\n        class=\"btn\"\n        color=\"#da231b\"\n        type=\"primary\"\n        block\n        @click=\"login\"\n        >点击登陆</van-button\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport navbar from \"components/common/navbar/navbar\";\nimport Register from \"components/context/register/Register\";\nimport { phoneLogin, loginState } from \"network/login\"; // 网络请求\n\nimport { getUserDetail, getUserPlayList } from \"network/user\"; // 用户信息\n\nexport default {\n  name: \"PhoneLogin\",\n  data() {\n    return {\n      tel: \"\", // 手机号\n      password: \"\", // 密码\n    };\n  },\n  methods: {\n    close() {\n      this.$router.go(-1);\n    },\n    // 登陆\n    login() {\n      var reg = /^1[3-8][0-9]{9}$/;\n      if (reg.test(this.tel)) {\n        this.$loading.loadingShow();\n        phoneLogin(this.tel, this.password).then(\n          (res) => {\n            this.$store.state.cookie = res.data.cookie;\n            if (res.data.code === 200) {\n              this.$toast.show(\"登录成功！\", 1900);\n              this.$router.go(-2);\n              this.$store.state.profile.nickName = res.data.profile.nickname; // 用户名\n              this.$store.state.profile.avatarUrl = res.data.profile.avatarUrl; // 头像\n              this.$store.state.profile.userId = res.data.profile.userId; // id\n              this.$store.state.profile.backgroundUrl =\n                res.data.profile.backgroundUrl; // 背景图\n\n              this.tel = \"\";\n              this.password = \"\";\n              getUserDetail(this.$store.state.profile.userId).then((res) => {\n                this.$store.state.profile.level = res.data.level;\n                this.$store.state.profile.listenSongs = res.data.listenSongs;\n              });\n\n              // 获取用户歌单\n              getUserPlayList(this.$store.state.profile.userId).then((res) => {\n                for (const item of res.data.playlist) {\n                  this.$store.state.playList.push({\n                    coverImgUrl: item.coverImgUrl,\n                    name: item.name,\n                    id: item.id,\n                    playCount: item.playCount,\n                    trackCount: item.trackCount,\n                    creator: item.creator.nickname,\n                  });\n                }\n              });\n              this.$loading.loadingNo();\n            } else {\n              this.$toast.show(\"密码错误！\", 1900);\n            }\n          },\n          (err) => {\n            this.$toast.show(\"网络出错！\", 1900);\n          }\n        );\n      } else {\n        this.$toast.show(\"手机号不规范\", 1900);\n      }\n    },\n\n    // 关闭手机登录页面\n    back() {\n      this.$router.go(-1);\n    },\n\n    // 关闭注册页面\n    closeRegister() {\n      this.RegisterShow = false;\n    },\n  },\n  components: {\n    navbar,\n    Register,\n  },\n};\n</script>\n<style scoped>\n.content {\n  padding: 0 10px;\n  height: 90px;\n  font-size: 15px;\n}\n.title {\n  font-size: 0.426099rem;\n}\n.tel {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  border-bottom: 1px solid #cdcdcd;\n  margin-top: 5px;\n  z-index: 10;\n}\n.pwd {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  border-bottom: 1px solid #cdcdcd;\n  margin-top: 5px;\n  z-index: 10;\n}\n.text {\n  flex: 2;\n  line-height: 45px;\n}\n.text span {\n  float: right;\n}\n.input {\n  flex: 7;\n  /* line-height: 45px; */\n  margin-top: 4.1px;\n}\n.input input {\n  height: 35px;\n  border: 0;\n}\n.PhoneLogin {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #fff;\n  z-index: 52;\n}\n.box {\n  padding: 5px 10px;\n}\n.navbar {\n  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.5);\n}\n.left img {\n  width: 20px;\n  height: 20px;\n  margin-top: 12px;\n}\n.btn {\n  margin-top: 10px;\n  border-radius: 44px;\n  font-size: 0.426099rem;\n}\n.tip {\n  font-size: 13px;\n  text-align: center;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  color: #888888;\n}\n.v-enter {\n  opacity: 0;\n  /* 进来的时候从右 */\n  transform: translateX(100%);\n}\n.v-leave-to {\n  opacity: 0;\n  /* 离开的时候向左 */\n  transform: translateX(-100%);\n  position: absolute;\n}\n\n/* 动画执行期间 */\n.v-enter-active,\n.v-leave-active {\n  /* 添加动画效果 */\n  transition: all 0.2s linear;\n}\n</style>"]}]}