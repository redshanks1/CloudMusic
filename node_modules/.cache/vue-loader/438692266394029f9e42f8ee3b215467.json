{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\cloudVillage\\childrenComps\\Hotcomment.vue?vue&type=style&index=0&id=d5a6ffec&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\cloudVillage\\childrenComps\\Hotcomment.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbW1lbnRCb3ggewogIHdpZHRoOiAxMDAlOwogIHBhZGRpbmc6IDAuMzE5NTc0cmVtOwogIG1hcmdpbi1ib3R0b206IDAuMzk5NDY3cmVtOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBib3JkZXItcmFkaXVzOiAwLjI2NjMxMnJlbTsKICBvdmVyZmxvdzogaGlkZGVuOwogIGJveC1zaGFkb3c6IDAgNXB4IDRweCByZ2JhKDEyMSwgMTIxLCAxMjEsIDAuMzIyKTsKfQoudG9wYm94IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDAuNzk4OTM1cmVtOwogIGxpbmUtaGVpZ2h0OiAwLjc5ODkzNXJlbTsKICBmb250LXNpemU6IDAuMzQ2MjA1cmVtOwogIGNvbG9yOiAjZmZmOwp9Ci56aGV6IHsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIHRvcDogMDsKICBib3R0b206IDA7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDEwOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43MDUpOwp9Ci5jb250ZW50IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgei1pbmRleDogMTE7Cn0KLnRvcGJveCBpbWcgewogIHdpZHRoOiAwLjc5ODkzNXJlbTsKICBoZWlnaHQ6IDAuNzk4OTM1cmVtOwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBtYXJnaW4tcmlnaHQ6IDAuMTg2NDE4cmVtOwogIGZsb2F0OiBsZWZ0Owp9Ci5mdWhhbyB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAwLjUzMjYyM3JlbTsKICBmb250LXNpemU6IDIuMTMwNDkzcmVtOwogIGxpbmUtaGVpZ2h0OiA2MHB4OwogIGNvbG9yOiByZ2IoMTUwLCAxNTAsIDE1MCk7CiAgbWFyZ2luOiAwLjM5OTQ2N3JlbSAwIDAuMjEzMDQ5cmVtOwp9Ci50ZXh0Qm94IHsKICB3aWR0aDogMTAwJTsKICBjb2xvcjogI2ZmZjsKICBmb250LXNpemU6IDAuNDUyNzNyZW07CiAgbGV0dGVyLXNwYWNpbmc6IDFweDsKICBsaW5lLWhlaWdodDogMC45MzIwOTFyZW07CiAgZm9udC13ZWlnaHQ6IDU1MDsKICBtYXJnaW4tYm90dG9tOiAwLjIxMzA0OXJlbTsKfQoubXVzaWMgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMC43OTg5MzVyZW07CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGNvbG9yOiAjODY4Njg2OwogIGZvbnQtc2l6ZTogMC4zNDYyMDVyZW07Cn0KLm11c2ljIGltZyB7CiAgd2lkdGg6IDAuNzk4OTM1cmVtOwogIGhlaWdodDogMTAwJTsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgZmxvYXQ6IGxlZnQ7CiAgbWFyZ2luLXJpZ2h0OiAwLjE4NjQxOHJlbTsKfQoudGltZSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAwLjUzMjYyM3JlbTsKICBsaW5lLWhlaWdodDogMC41MzI2MjNyZW07CiAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgZm9udC1zaXplOiAwLjM0NjIwNXJlbTsKICBjb2xvcjogIzg2ODY4NjsKICBtYXJnaW4tYm90dG9tOiAwLjM5OTQ2N3JlbTsKfQouc2luZ2VyIHsKICB3aWR0aDogNy40NTY3MjRyZW07CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBoZWlnaHQ6IDAuNzk4OTM1cmVtOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgbGluZS1oZWlnaHQ6IDAuNzk4OTM1cmVtOwp9Ci5ib3R0b21EZXRhaWwgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMC41MzI2MjNyZW07CiAgbWFyZ2luLXRvcDogMC4xODY0MThyZW07Cn0KLmRldGFpbGJveCB7CiAgd2lkdGg6IDUwJTsKICBoZWlnaHQ6IDEwMCU7CiAgZmxvYXQ6IHJpZ2h0Owp9Ci5saWtlIHsKICB3aWR0aDogNTAlOwogIGhlaWdodDogMTAwJTsKICBmbG9hdDogbGVmdDsKICBsaW5lLWhlaWdodDogMC41ODU4ODVyZW07CiAgY29sb3I6ICNmZmY7CiAgZm9udC1zaXplOiAwLjM1OTUyMXJlbTsKfQoubGlrZSBpbWcgewogIHdpZHRoOiAwLjUwNTk5MnJlbTsKICBmbG9hdDogbGVmdDsKICBtYXJnaW4tcmlnaHQ6IDAuMTg2NDE4cmVtOwp9Cg=="},{"version":3,"sources":["Hotcomment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Hotcomment.vue","sourceRoot":"src/views/cloudVillage/childrenComps","sourcesContent":["<template>\n  <div class=\"Hotcomment\">\n    <div\n      class=\"commentBox\"\n      :style=\"{ background: 'url(' + item.songCoverUrl + ')' }\"\n      v-for=\"(item, index) in list\"\n      :key=\"index\"\n    >\n      <div class=\"zhez\"></div>\n      <div class=\"content\">\n        <div class=\"topbox\" @click=\"toUser(item.userId)\">\n          <img :src=\"item.avatar\" alt=\"\" />\n          <span>{{ item.nickname }}</span>\n        </div>\n        <div class=\"fuhao\">“</div>\n        <div class=\"textBox\">{{ item.content }}</div>\n        <div class=\"time\">{{ item.time | getTime(\"YYYY年MM月DD日\") }}</div>\n        <div class=\"music\" @click=\"toMusic(item.songId)\">\n          <img :src=\"item.songCoverUrl\" alt=\"\" />\n          <div class=\"singer\">\n            {{ item.songName }} -\n            <span v-for=\"(singer, index) in item.singers\" :key=\"index\">{{\n              index !== item.singers.length - 1\n                ? singer.name + \" / \"\n                : singer.name\n            }}</span>\n          </div>\n        </div>\n        <div class=\"bottomDetail\">\n          <div class=\"detailbox\">\n            <div class=\"like\">\n              <img src=\"~assets/img/cloudVillage/dianzan.svg\" alt=\"\" />\n              <span>{{ item.likedCount }}</span>\n            </div>\n            <div class=\"like\" @click=\"CommentFloor(item.id, item.songId)\">\n              <img src=\"~assets/img/cloudVillage/pinglun.svg\" alt=\"\" />\n              <span>{{ item.replyCount }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <comment-list\n      @loadingComment=\"loadingComment\"\n      :comLength=\"comLength\"\n      :isComment=\"true\"\n      :type=\"0\"\n      :t=\"2\"\n      ref=\"listShow\"\n      :comList=\"commentList\"\n    ></comment-list>\n  </div>\n</template>\n\n<script>\nimport commentList from \"components/context/commentList/CommentList\";\nimport { getHotwall, getCommentFloor } from \"network/cloudVillage\";\nexport default {\n  name: \"Hotcomment\",\n  data() {\n    return {\n      list: [],\n      time: 0, // 分页参数\n      comLength: \"\",\n      commentList: [],\n      threadId: 0, // 评论id\n      songId: 0, // 资源id\n      hasMore: true, // 更多评论\n    };\n  },\n  created() {\n    getHotwall(this.$store.state.cookie).then((res) => {\n      for (const item of res.data.data) {\n        this.list.push({\n          id: item.id,\n          likedCount: item.likedCount < 1000 ? item.likedCount : \"999+\", // 点赞数\n          replyCount: item.replyCount < 1000 ? item.replyCount : \"999+\", // 评论数\n          content: item.content, // 评论内容\n          threadId: item.threadId, // 评论id\n          time: item.time, // 发布时间\n          songName: item.simpleResourceInfo.name, // 歌曲名称\n          singers: item.simpleResourceInfo.artists, // 歌手名称\n          songCoverUrl: item.simpleResourceInfo.songCoverUrl, // 歌曲封面\n          songId: item.simpleResourceInfo.songId, // 歌曲id\n          avatar: item.simpleUserInfo.avatar, // 用户头像\n          nickname: item.simpleUserInfo.nickname, // 用户昵称\n          userId: item.simpleUserInfo.userId, // 用户id\n        });\n      }\n    });\n  },\n  methods: {\n    // 加载评论\n    loadingComment() {\n      this.CommentFloor(this.threadId, this.songId);\n    },\n\n    // 路由跳转\n    toMusic(id) {\n      this.$router.push(\"/playSong/\" + id);\n    },\n\n    toUser(id) {\n      this.$router.push(\"/Information/\" + id);\n    },\n\n    // 获取评论\n    CommentFloor(threadId, songId) {\n      this.songId = songId;\n      this.$refs.listShow.toggle();\n      if (this.threadId !== threadId) {\n        this.$store.state.threadId = threadId; // 评论id\n        \n        this.$store.state.typeId = songId; // 资源id\n        this.commentList = []; // 清空数组\n        this.time = 0; // 清空分页参数\n        getCommentFloor(threadId, songId, 0, 50, this.time).then((res) => {\n          for (const item of res.data.data.comments) {\n            this.commentList.push({\n              content: item.content,\n              avatarUrl: item.user.avatarUrl,\n              userId: item.user.userId,\n              nickname: item.user.nickname,\n              time: item.time,\n              likedCount: item.likedCount,\n              content: item.content,\n            });\n          }\n          this.comLength = \"评论(\" + res.data.data.totalCount + \")\";\n          this.time = res.data.data.time; // 分页参数\n          this.hasMore = res.data.data.hasMore; // 更多数据\n        });\n      } else {\n        if (this.hasMore) {\n          getCommentFloor(threadId, songId, 0, 50, this.time).then((res) => {\n            for (const item of res.data.data.comments) {\n              this.commentList.push({\n                content: item.content,\n                avatarUrl: item.user.avatarUrl,\n                userId: item.user.userId,\n                nickname: item.user.nickname,\n                time: item.time,\n                likedCount: item.likedCount,\n                content: item.content,\n              });\n            }\n            this.time = res.data.data.time; // 分页参数\n            this.hasMore = res.data.data.hasMore; // 更多数据\n          });\n        } else {\n          this.$toast.show(\"没有更多了:(\", 1900);\n        }\n      }\n      this.threadId = threadId;\n    },\n  },\n  components: {\n    commentList,\n  },\n};\n</script>\n<style scoped>\n.commentBox {\n  width: 100%;\n  padding: 0.319574rem;\n  margin-bottom: 0.399467rem;\n  position: relative;\n  border-radius: 0.266312rem;\n  overflow: hidden;\n  box-shadow: 0 5px 4px rgba(121, 121, 121, 0.322);\n}\n.topbox {\n  width: 100%;\n  height: 0.798935rem;\n  line-height: 0.798935rem;\n  font-size: 0.346205rem;\n  color: #fff;\n}\n.zhez {\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n  z-index: 10;\n  background-color: rgba(0, 0, 0, 0.705);\n}\n.content {\n  position: relative;\n  z-index: 11;\n}\n.topbox img {\n  width: 0.798935rem;\n  height: 0.798935rem;\n  border-radius: 50%;\n  margin-right: 0.186418rem;\n  float: left;\n}\n.fuhao {\n  width: 100%;\n  height: 0.532623rem;\n  font-size: 2.130493rem;\n  line-height: 60px;\n  color: rgb(150, 150, 150);\n  margin: 0.399467rem 0 0.213049rem;\n}\n.textBox {\n  width: 100%;\n  color: #fff;\n  font-size: 0.45273rem;\n  letter-spacing: 1px;\n  line-height: 0.932091rem;\n  font-weight: 550;\n  margin-bottom: 0.213049rem;\n}\n.music {\n  width: 100%;\n  height: 0.798935rem;\n  display: flex;\n  align-items: center;\n  color: #868686;\n  font-size: 0.346205rem;\n}\n.music img {\n  width: 0.798935rem;\n  height: 100%;\n  border-radius: 50%;\n  float: left;\n  margin-right: 0.186418rem;\n}\n.time {\n  width: 100%;\n  height: 0.532623rem;\n  line-height: 0.532623rem;\n  text-align: right;\n  font-size: 0.346205rem;\n  color: #868686;\n  margin-bottom: 0.399467rem;\n}\n.singer {\n  width: 7.456724rem;\n  overflow: hidden;\n  height: 0.798935rem;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 0.798935rem;\n}\n.bottomDetail {\n  width: 100%;\n  height: 0.532623rem;\n  margin-top: 0.186418rem;\n}\n.detailbox {\n  width: 50%;\n  height: 100%;\n  float: right;\n}\n.like {\n  width: 50%;\n  height: 100%;\n  float: left;\n  line-height: 0.585885rem;\n  color: #fff;\n  font-size: 0.359521rem;\n}\n.like img {\n  width: 0.505992rem;\n  float: left;\n  margin-right: 0.186418rem;\n}\n</style>"]}]}