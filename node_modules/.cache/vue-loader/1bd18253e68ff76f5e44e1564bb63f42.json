{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\commentList\\CommentList.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\commentList\\CommentList.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzZW5kQ29tbWVudCBmcm9tICJjb21wb25lbnRzL2NvbnRleHQvc2VuZENvbW1lbnQvU2VuZENvbW1lbnQiOyAvLyDlj5HpgIHor4TorroKaW1wb3J0IG1zY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vbXVpU2Nyb2xsL011aVNjcm9sbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29tbWVudExpc3QiLAogIHByb3BzOiB7CiAgICBjb21Ib3Q6IHsKICAgICAgLy8g54Ot6K+E5pWw57uECiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwKICAgIH0sCgogICAgY29tTGlzdDogewogICAgICAvLyDmma7pgJror4TorrrmlbDnu4QKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKCiAgICB0eXBlOiB7CiAgICAgIC8vIOivhOiuuuexu+WeiwogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAsCiAgICB9LAoKICAgIGNvbUxlbmd0aDogewogICAgICAvLyDor4TorrrmlbDph48KICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIiwKICAgIH0sCgogICAgaXNDb21tZW50OiB7CiAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKCiAgICB0OiB7CiAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgIGRlZmF1bHQ6IDEKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93OiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDot7Povazot6/nlLEKICAgIHByb2ZpbGUoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9JbmZvcm1hdGlvbi8iICsgaWQpOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50b2dnbGVJbmZvcm1hdGlvbiA9IDE7CiAgICB9LAoKICAgIHN1Y2Nlc3NDb21tZW50KGNvbW1lbnREZXRhaWwpIHsKICAgICAgdGhpcy5jb21MaXN0LnVuc2hpZnQoewogICAgICAgIGNvbnRlbnQ6IGNvbW1lbnREZXRhaWwuY29udGVudCwgLy8g6K+E6K665YaF5a65CiAgICAgICAgbGlrZWRDb3VudDogMCwgLy8g5Zac5qyi5pWw6YePCiAgICAgICAgdGltZTogY29tbWVudERldGFpbC50aW1lLCAvLyDlj5HluIPml7bpl7TmiLMKICAgICAgICBhdmF0YXJVcmw6IGNvbW1lbnREZXRhaWwuYXZhdGFyVXJsLCAvLyDnlKjmiLflpLTlg48KICAgICAgICBuaWNrbmFtZTogY29tbWVudERldGFpbC5uaWNrbmFtZSwgLy8g55So5oi35pi156ewCiAgICAgICAgdXNlcklkOiBjb21tZW50RGV0YWlsLmlkLCAvLyDnlKjmiLdpZAogICAgICB9KTsKICAgIH0sCgogICAgLy8g5LiL5ouJ5Yqg6L29CiAgICBsb2FkQ29tbWVudCgpewogICAgICAgIHRoaXMuc2hvdyA9IHRydWUKICAgICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nQ29tbWVudCcpCiAgICB9LAoKICAgIHRvZ2dsZSgpIHsKICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBzZW5kQ29tbWVudCwKICAgIG1zY3JvbGwsCiAgfSwKICB3YXRjaDoge30sCn07Cg=="},{"version":3,"sources":["CommentList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentList.vue","sourceRoot":"src/components/context/commentList","sourcesContent":["<template>\n  <van-action-sheet\n    v-model=\"show\"\n    :title=\"comLength\"\n    :lock-scroll=\"false\"\n    class=\"commentDetail\"\n  >\n    <mscroll style=\"top: 1.198402rem; bottom: 1.065246rem\" :scrollY=\"true\">\n      <div\n        class=\"content\"\n        v-if=\"comHot.length !== 0 || comList.length !== 0\"\n        v-infinite-scroll=\"loadComment\"\n        infinite-scroll-distance=\"100\"\n        infinite-scroll-delay=\"500\"\n        infinite-scroll-immediate=\"fasle\"\n      >\n        <div class=\"topComment\" v-if=\"comHot.length !== 0\">\n          <div class=\"perCom\">精彩评论</div>\n          <div class=\"commentItem\" v-for=\"(item, index) in comHot\" :key=\"index\">\n            <div class=\"left\">\n              <img\n                @click.stop=\"profile(item.userId)\"\n                :src=\"item.avatarUrl\"\n                alt=\"\"\n              />\n            </div>\n            <div class=\"right\">\n              <div class=\"top\">\n                <div class=\"uDetail\">\n                  <div @click.stop=\"profile(item.userId)\" class=\"name\">\n                    {{ item.nickname }}\n                  </div>\n                  <div class=\"time\">{{ item.time | getTime }}</div>\n                </div>\n                <div class=\"like\">\n                  {{ item.likedCount }}\n                  <img src=\"~assets/img/commentList/zan.svg\" alt=\"\" srcset=\"\" />\n                </div>\n              </div>\n              <div class=\"bottom\">\n                {{ item.content }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"commentList\">\n          <div class=\"perCom\">最新评论</div>\n          <div\n            class=\"commentItem\"\n            v-for=\"(item, index) in comList\"\n            :key=\"index\"\n          >\n            <div class=\"left\">\n              <img\n                @click.stop=\"profile(item.userId)\"\n                :src=\"item.avatarUrl\"\n                alt=\"\"\n              />\n            </div>\n            <div class=\"right\">\n              <div class=\"top\">\n                <div class=\"uDetail\">\n                  <div @click.stop=\"profile(item.userId)\" class=\"name\">\n                    {{ item.nickname }}\n                  </div>\n                  <div class=\"time\">{{ item.time | getTime }}</div>\n                </div>\n                <div class=\"like\">\n                  {{ item.likedCount }}\n                  <img src=\"~assets/img/commentList/zan.svg\" alt=\"\" srcset=\"\" />\n                </div>\n              </div>\n              <div class=\"bottom\">\n                {{ item.content }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-else class=\"noComment\">动态还没有评论哦~</div>\n    </mscroll>\n\n    <send-comment\n      @successComment=\"successComment\"\n      :type=\"type\"\n      :t=\"t\"\n      :isComment=\"isComment\"\n      class=\"SendComment\"\n    ></send-comment>\n  </van-action-sheet>\n</template>\n\n<script>\nimport sendComment from \"components/context/sendComment/SendComment\"; // 发送评论\nimport mscroll from \"components/common/muiScroll/MuiScroll\";\nexport default {\n  name: \"CommentList\",\n  props: {\n    comHot: {\n      // 热评数组\n      type: Array,\n      default: () => [],\n    },\n\n    comList: {\n      // 普通评论数组\n      type: Array,\n      default: () => [],\n    },\n\n    type: {\n      // 评论类型\n      type: Number,\n      default: 0,\n    },\n\n    comLength: {\n      // 评论数量\n      type: String,\n      default: \"\",\n    },\n\n    isComment: {\n        type: Boolean,\n        default: false\n    },\n\n    t: {\n        type: Number,\n        default: 1\n    }\n  },\n  data() {\n    return {\n      show: false,\n    };\n  },\n  methods: {\n    // 跳转路由\n    profile(id) {\n      this.$router.push(\"/Information/\" + id);\n      this.$store.state.toggleInformation = 1;\n    },\n\n    successComment(commentDetail) {\n      this.comList.unshift({\n        content: commentDetail.content, // 评论内容\n        likedCount: 0, // 喜欢数量\n        time: commentDetail.time, // 发布时间戳\n        avatarUrl: commentDetail.avatarUrl, // 用户头像\n        nickname: commentDetail.nickname, // 用户昵称\n        userId: commentDetail.id, // 用户id\n      });\n    },\n\n    // 下拉加载\n    loadComment(){\n        this.show = true\n        this.$emit('loadingComment')\n    },\n\n    toggle() {\n      this.show = true;\n    },\n  },\n  components: {\n    sendComment,\n    mscroll,\n  },\n  watch: {},\n};\n</script>\n<style scoped>\n.commentDetail {\n  width: 100%;\n  height: 14.647137rem;\n  position: fixed;\n}\n.SendComment {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n}\n.CommentBox {\n  position: relative;\n  /* width: 100%;\n  height: 100vh; */\n}\n.commentList {\n  margin-top: 0.266312rem;\n}\n.noComment {\n  height: 13.315579rem;\n  line-height: 13.315579rem;\n  text-align: center;\n  font-size: 0.479361rem;\n  font-weight: 550;\n  color: #9c9c9c;\n}\n.van-action-sheet__header {\n  height: 1.198402rem;\n  line-height: 1.198402rem;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.116);\n  position: fixed;\n  border-top-left-radius: 0.532623rem;\n  border-top-right-radius: 0.532623rem;\n  z-index: 15;\n  left: 0;\n  right: 0;\n  background-color: #fff;\n}\n.perCom {\n  font-size: 0.399467rem;\n  font-weight: 550;\n  margin-bottom: 0.213049rem;\n}\n.content {\n  padding: 0 0.399467rem 0.399467rem;\n  position: relative;\n}\n.commentItem {\n  width: 100%;\n  display: flex;\n  margin-bottom: 0.213049rem;\n}\n.left {\n  flex: 1.5;\n}\n.left img {\n  width: 1.065246rem;\n  height: 1.065246rem;\n  border-radius: 50%;\n}\n.right {\n  flex: 8.5;\n  padding-bottom: 0.266312rem;\n  border-bottom: 1px solid #e9e9e9;\n  /* border-image: linear-gradient(#fff, #000); */\n}\n.top {\n  width: 100%;\n  height: 1.065246rem;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.name {\n  font-size: 0.346205rem;\n  height: 0.399467rem;\n  line-height: 0.399467rem;\n}\n.time {\n  font-size: 0.319574rem;\n  height: 0.399467rem;\n  line-height: 0.399467rem;\n  color: rgb(156, 156, 156);\n}\n.like {\n  font-size: 0.346205rem;\n  position: absolute;\n  right: 0;\n  color: rgb(161, 161, 161);\n}\n.like img {\n  width: 0.372836rem;\n  margin-left: 0.133156rem;\n}\n.bottom {\n  font-size: 0.372836rem;\n  /* margin-top: 0.213049rem; */\n}\n</style>"]}]}