{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailAlbum.vue?vue&type=style&index=0&id=3e0101e7&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\search\\childrenComps\\DetailAlbum.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouRGV0YWlsQWxidW0gewogIHdpZHRoOiAxMDAlOwogIG1pbi1oZWlnaHQ6IDEzLjMxNTU3OXJlbTsKICBtYXJnaW4tYm90dG9tOiAwLjEzMzE1NnJlbTsKICBtYXJnaW4tdG9wOiAyLjM5NjgwNHJlbTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwp9Ci5hbGJ1bUl0ZW0gewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMS4zMzE1NThyZW07CiAgZGlzcGxheTogZmxleDsKICBtYXJnaW4tYm90dG9tOiAwLjIxMzA0OXJlbTsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLmxlZnQgewogIGZsZXg6IDEuODsKfQoubGVmdCBpbWcgewogIHdpZHRoOiAxLjMzMTU1OHJlbTsKICBoZWlnaHQ6IDEuMzMxNTU4cmVtOwogIGJvcmRlci1yYWRpdXM6IDAuMTMzMTU2cmVtOwp9Ci5yaWdodCB7CiAgZmxleDogOC4yOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQouYmdjSW1nIHsKICB3aWR0aDogMS4zMzE1NThyZW07CiAgaGVpZ2h0OiAxLjMzMTU1OHJlbTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgei1pbmRleDogLTE7CiAgdG9wOiAwOwogIGxlZnQ6IDAuMjY2MzEycmVtOwp9Ci5jb250ZW50IHsKICBtYXJnaW4tbGVmdDogMC4yNjYzMTJyZW07Cn0KLnRpdGxlIHsKICB3aWR0aDogNi42NTc3OXJlbTsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgaGVpZ2h0OiAwLjQ3OTM2MXJlbTsKICBsaW5lLWhlaWdodDogMC40NzkzNjFyZW07CiAgZm9udC1zaXplOiAwLjM5OTQ2N3JlbTsKfQouc3AgewogIGNvbG9yOiAjOTc5Nzk3Owp9Ci5kZXRhaWwgewogIGhlaWdodDogMC40NzkzNjFyZW07CiAgbGluZS1oZWlnaHQ6IDAuNDc5MzYxcmVtOwogIGZvbnQtc2l6ZTogMC4zMTk1NzRyZW07CiAgY29sb3I6ICM5Nzk3OTc7Cn0K"},{"version":3,"sources":["DetailAlbum.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetailAlbum.vue","sourceRoot":"src/views/search/childrenComps","sourcesContent":["<template>\n  <div class=\"DetailAlbum\">\n    <div\n      class=\"albumItem\"\n      @click=\"showAlbum(item.id)\"\n      v-for=\"(item, index) in albumList\"\n      :key=\"index\"\n    >\n      <div class=\"left\">\n        <img :src=\"item.picUrl\" alt=\"\" />\n        <div class=\"bgcImg\">\n          <img src=\"~assets/img/information/yuan.svg\" alt=\"\" />\n        </div>\n      </div>\n      <div class=\"right\">\n        <div class=\"content\">\n          <div class=\"title\">\n            {{ item.name }}\n            <span class=\"sp\" v-if=\"item.alias.length !== 0\"\n              >({{ item.alias[0] }})</span\n            >\n          </div>\n          <div class=\"detail\">\n            {{ item.publishTime | getTime(\"YYYY.MM.DD\") }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { searchResult } from \"network/search\";\n\nexport default {\n  name: \"DetailAlbum\",\n  data() {\n    return {\n      albumList: [], // 专辑\n      offset: 0,\n      albumCount: 40,\n      result: null,\n    };\n  },\n  methods: {\n    showAlbum(id) {\n      this.$router.push(\"/playDetail/\" + id + \"&\" + true);\n    },\n\n    getSearchResult() {\n      searchResult(this.$route.params.keywords, 30, this.offset * 30, 10).then(\n        (res) => {\n          let path = res.data.result.albums;\n          this.result = res.data.result.songs || null;\n          if (this.result !== null) {\n            for (let i = 0; i < path.length; i++) {\n              this.albumList.push({\n                id: item.id,\n                name: item.name,\n                picUrl: item.picUrl,\n                publishTime: item.publishTime,\n                alias: item.alias,\n              });\n            }\n            this.offset++;\n          } else {\n            this.$toast.show('没有更多了:(',1900)\n          }\n        }\n      );\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.getSearchResult();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    searchResult(this.$route.params.keywords, 30, this.offset * 30, 10).then(\n      (res) => {\n        for (const item of res.data.result.albums) {\n          this.albumList.push({\n            id: item.id,\n            name: item.name,\n            picUrl: item.picUrl,\n            publishTime: item.publishTime,\n            alias: item.alias,\n          });\n        }\n        this.offset++;\n      }\n    );\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n    })\n  },\n  activated() {\n    this.$nextTick(() => {\n      document.addEventListener(\"scroll\", this.linearScroll);\n    });\n  },\n  deactivated() {\n    document.removeEventListener(\"scroll\", this.linearScroll);\n  },\n};\n</script>\n<style scoped>\n.DetailAlbum {\n  width: 100%;\n  min-height: 13.315579rem;\n  margin-bottom: 0.133156rem;\n  margin-top: 2.396804rem;\n  background-color: #fff;\n}\n.albumItem {\n  width: 100%;\n  height: 1.331558rem;\n  display: flex;\n  margin-bottom: 0.213049rem;\n  position: relative;\n}\n.left {\n  flex: 1.8;\n}\n.left img {\n  width: 1.331558rem;\n  height: 1.331558rem;\n  border-radius: 0.133156rem;\n}\n.right {\n  flex: 8.2;\n  display: flex;\n  align-items: center;\n}\n.bgcImg {\n  width: 1.331558rem;\n  height: 1.331558rem;\n  position: absolute;\n  z-index: -1;\n  top: 0;\n  left: 0.266312rem;\n}\n.content {\n  margin-left: 0.266312rem;\n}\n.title {\n  width: 6.65779rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 0.479361rem;\n  line-height: 0.479361rem;\n  font-size: 0.399467rem;\n}\n.sp {\n  color: #979797;\n}\n.detail {\n  height: 0.479361rem;\n  line-height: 0.479361rem;\n  font-size: 0.319574rem;\n  color: #979797;\n}\n</style>"]}]}