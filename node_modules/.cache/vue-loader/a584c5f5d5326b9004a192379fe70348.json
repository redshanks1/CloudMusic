{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\commentBox\\CommentBox.vue?vue&type=style&index=0&id=3b01bb62&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\components\\context\\commentBox\\CommentBox.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouU2VuZENvbW1lbnQgewogIHBvc2l0aW9uOiBmaXhlZDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIGJvdHRvbTogMDsKICB6LWluZGV4OiAyMDsKfQouQ29tbWVudEJveCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIC8qIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwdmg7ICovCn0KLmNvbW1lbnRMaXN0IHsKICBtYXJnaW4tdG9wOiAwLjI2NjMxMnJlbTsKfQoubm9Db21tZW50IHsKICBoZWlnaHQ6IDEzLjMxNTU3OXJlbTsKICBsaW5lLWhlaWdodDogMTMuMzE1NTc5cmVtOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBmb250LXNpemU6IDAuNDc5MzYxcmVtOwogIGZvbnQtd2VpZ2h0OiA1NTA7CiAgY29sb3I6ICM5YzljOWM7Cn0KLnZhbi1hY3Rpb24tc2hlZXRfX2hlYWRlciB7CiAgaGVpZ2h0OiAxLjE5ODQwMnJlbTsKICBsaW5lLWhlaWdodDogMS4xOTg0MDJyZW07CiAgYm94LXNoYWRvdzogMXB4IDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjExNik7CiAgcG9zaXRpb246IGZpeGVkOwogIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDAuNTMyNjIzcmVtOwogIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwLjUzMjYyM3JlbTsKICB6LWluZGV4OiAxNTsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KLnBlckNvbSB7CiAgZm9udC1zaXplOiAwLjM5OTQ2N3JlbTsKICBmb250LXdlaWdodDogNTUwOwogIG1hcmdpbi1ib3R0b206IDAuMjEzMDQ5cmVtOwp9Ci5jb250ZW50IHsKICBwYWRkaW5nOiAwIDAuMzk5NDY3cmVtIDAuMzk5NDY3cmVtOwogIG1pbi1oZWlnaHQ6IDEzLjMxNTU3OXJlbTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWFyZ2luOiAxLjQzODA4M3JlbSAwIDEuMDY1MjQ2cmVtOwp9Ci5jb21tZW50SXRlbSB7CiAgd2lkdGg6IDEwMCU7CiAgZGlzcGxheTogZmxleDsKICBtYXJnaW4tYm90dG9tOiAwLjIxMzA0OXJlbTsKfQoubGVmdCB7CiAgZmxleDogMS41Owp9Ci5sZWZ0IGltZyB7CiAgd2lkdGg6IDEuMDY1MjQ2cmVtOwogIGhlaWdodDogMS4wNjUyNDZyZW07CiAgYm9yZGVyLXJhZGl1czogNTAlOwp9Ci5yaWdodCB7CiAgZmxleDogOC41OwogIHBhZGRpbmctYm90dG9tOiAwLjI2NjMxMnJlbTsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U5ZTllOTsKICAvKiBib3JkZXItaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZmZmLCAjMDAwKTsgKi8KfQoudG9wIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEuMDY1MjQ2cmVtOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLm5hbWUgewogIGZvbnQtc2l6ZTogMC4zNDYyMDVyZW07CiAgaGVpZ2h0OiAwLjM5OTQ2N3JlbTsKICBsaW5lLWhlaWdodDogMC4zOTk0NjdyZW07Cn0KLnRpbWUgewogIGZvbnQtc2l6ZTogMC4zMTk1NzRyZW07CiAgaGVpZ2h0OiAwLjM5OTQ2N3JlbTsKICBsaW5lLWhlaWdodDogMC4zOTk0NjdyZW07CiAgY29sb3I6IHJnYigxNTYsIDE1NiwgMTU2KTsKfQoubGlrZSB7CiAgZm9udC1zaXplOiAwLjM0NjIwNXJlbTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgcmlnaHQ6IDA7CiAgY29sb3I6IHJnYigxNjEsIDE2MSwgMTYxKTsKfQoubGlrZSBpbWcgewogIHdpZHRoOiAwLjM3MjgzNnJlbTsKICBtYXJnaW4tbGVmdDogMC4xMzMxNTZyZW07Cn0KLmJvdHRvbSB7CiAgZm9udC1zaXplOiAwLjM3MjgzNnJlbTsKICBtYXJnaW4tdG9wOiAwLjIxMzA0OXJlbTsKfQo="},{"version":3,"sources":["CommentBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentBox.vue","sourceRoot":"src/components/context/commentBox","sourcesContent":["<template>\n  <van-action-sheet\n    v-model=\"show\"\n    :title=\"comLength\"\n    :lock-scroll=\"false\"\n    class=\"commentDetail\"\n  >\n    <div class=\"content\" v-if=\"comHot.length !== 0 || comList.length !== 0\">\n      <div class=\"topComment\" v-if=\"comHot.length !== 0\">\n        <div class=\"perCom\">精彩评论</div>\n        <div class=\"commentItem\" v-for=\"(item, index) in comHot\" :key=\"index\">\n          <div class=\"left\">\n            <img @click.stop=\"profile(item.userId)\" :src=\"item.avatarUrl\" alt=\"\" />\n          </div>\n          <div class=\"right\">\n            <div class=\"top\">\n              <div class=\"uDetail\">\n                <div @click.stop=\"profile(item.userId)\" class=\"name\">\n                  {{ item.nickname }}\n                </div>\n                <div class=\"time\">{{ item.time | getTime }}</div>\n              </div>\n              <div class=\"like\">\n                {{ item.likedCount }}\n                <img src=\"~assets/img/commentList/zan.svg\" alt=\"\" srcset=\"\" />\n              </div>\n            </div>\n            <div class=\"bottom\">\n              {{ item.content }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"commentList\">\n        <div class=\"perCom\">最新评论</div>\n        <div class=\"commentItem\" v-for=\"(item, index) in comList\" :key=\"index\">\n          <div class=\"left\">\n            <img @click.stop=\"profile(item.userId)\" :src=\"item.avatarUrl\" alt=\"\" />\n          </div>\n          <div class=\"right\">\n            <div class=\"top\">\n              <div class=\"uDetail\">\n                <div @click.stop=\"profile(item.userId)\" class=\"name\">\n                  {{ item.nickname }}\n                </div>\n                <div class=\"time\">{{ item.time | getTime }}</div>\n              </div>\n              <div class=\"like\">\n                {{ item.likedCount }}\n                <img src=\"~assets/img/commentList/zan.svg\" alt=\"\" srcset=\"\" />\n              </div>\n            </div>\n            <div class=\"bottom\">\n              {{ item.content }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"noComment\">动态还没有评论哦~</div>\n    <send-comment\n      @successComment=\"successComment\"\n      :type=\"type\"\n      :isDynamic='true'\n      :id=\"$store.state.commentId\"\n      class=\"SendComment\"\n    ></send-comment>\n  </van-action-sheet>\n</template>\n\n<script>\nimport { getDynamicCom } from \"network/dynamic\";\nimport sendComment from \"components/context/sendComment/SendComment\"; // 发送评论\n\nexport default {\n  name: \"CommentBox\",\n  props: [\"isShow\", \"commentId\"],\n  data() {\n    return {\n      show: false,\n      cthreadId: 0,\n      comLength: \"\",\n      comHot: [], // 热评数组\n      comList: [], // 普通评论数组\n      type: 6, // 评论类型\n    };\n  },\n  methods: {\n    // 跳转路由\n    profile(id) {\n      this.$router.push(\"/Information/\" + id);\n      this.$store.state.toggleInformation = 1;\n    },\n\n    successComment(commentDetail) {\n      this.comList.unshift({\n        content: commentDetail.content, // 评论内容\n        likedCount: 0, // 喜欢数量\n        time: commentDetail.time, // 发布时间戳\n        avatarUrl: commentDetail.avatarUrl, // 用户头像\n        nickname: commentDetail.nickname, // 用户昵称\n        userId: commentDetail.id, // 用户id\n      });\n    },\n  },\n  components: {\n    sendComment,\n  },\n  watch: {\n    show() {\n      if (this.show) {\n        this.$loading.loadingShow();\n        this.comid = this.$store.state.commentId;\n        getDynamicCom(this.comid).then((res) => {\n          this.comLength = \"评论(\" + res.data.total + \")\";\n          for (const item of res.data.hotComments) {\n            this.comHot.push({\n              content: item.content, // 评论内容\n              likedCount: item.likedCount, // 点赞数\n              commentId: item.commentId, // 评论id\n              time: item.time, // 发布时间\n              nickname: item.user.nickname, // 用户名\n              userId: item.user.userId, // 用户id\n              avatarUrl: item.user.avatarUrl, // 用户头像\n            });\n          }\n\n          for (const item of res.data.comments) {\n            this.comList.push({\n              content: item.content, // 评论内容\n              likedCount: item.likedCount, // 点赞数\n              commentId: item.commentId, // 评论id\n              time: item.time, // 发布时间\n              nickname: item.user.nickname, // 用户名\n              userId: item.user.userId, // 用户id\n              avatarUrl: item.user.avatarUrl, // 用户头像\n            });\n          }\n          this.$loading.loadingNo();\n        });\n        this.$store.state.isShowNav = false; // 隐藏底部播放栏\n      } else {\n        this.$store.state.isShowNav = true;\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.SendComment {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n}\n.CommentBox {\n  position: relative;\n  /* width: 100%;\n  height: 100vh; */\n}\n.commentList {\n  margin-top: 0.266312rem;\n}\n.noComment {\n  height: 13.315579rem;\n  line-height: 13.315579rem;\n  text-align: center;\n  font-size: 0.479361rem;\n  font-weight: 550;\n  color: #9c9c9c;\n}\n.van-action-sheet__header {\n  height: 1.198402rem;\n  line-height: 1.198402rem;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.116);\n  position: fixed;\n  border-top-left-radius: 0.532623rem;\n  border-top-right-radius: 0.532623rem;\n  z-index: 15;\n  left: 0;\n  right: 0;\n  background-color: #fff;\n}\n.perCom {\n  font-size: 0.399467rem;\n  font-weight: 550;\n  margin-bottom: 0.213049rem;\n}\n.content {\n  padding: 0 0.399467rem 0.399467rem;\n  min-height: 13.315579rem;\n  position: relative;\n  margin: 1.438083rem 0 1.065246rem;\n}\n.commentItem {\n  width: 100%;\n  display: flex;\n  margin-bottom: 0.213049rem;\n}\n.left {\n  flex: 1.5;\n}\n.left img {\n  width: 1.065246rem;\n  height: 1.065246rem;\n  border-radius: 50%;\n}\n.right {\n  flex: 8.5;\n  padding-bottom: 0.266312rem;\n  border-bottom: 1px solid #e9e9e9;\n  /* border-image: linear-gradient(#fff, #000); */\n}\n.top {\n  width: 100%;\n  height: 1.065246rem;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.name {\n  font-size: 0.346205rem;\n  height: 0.399467rem;\n  line-height: 0.399467rem;\n}\n.time {\n  font-size: 0.319574rem;\n  height: 0.399467rem;\n  line-height: 0.399467rem;\n  color: rgb(156, 156, 156);\n}\n.like {\n  font-size: 0.346205rem;\n  position: absolute;\n  right: 0;\n  color: rgb(161, 161, 161);\n}\n.like img {\n  width: 0.372836rem;\n  margin-left: 0.133156rem;\n}\n.bottom {\n  font-size: 0.372836rem;\n  margin-top: 0.213049rem;\n}\n</style>"]}]}