{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\discover\\childrenComps\\moreComps\\moreAlbum.vue?vue&type=style&index=0&id=e4a11338&scoped=true&lang=css&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\discover\\childrenComps\\moreComps\\moreAlbum.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5uYXYgewogIHBvc2l0aW9uOiBmaXhlZDsKICB6LWluZGV4OiAyMDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICByaWdodDogMDsKfQouc25hdiB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogNDRweDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIHotaW5kZXg6IDE5Owp9Ci5tb3JlQWxidW0gewogIHdpZHRoOiAxMDAlOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KLnZpZGVvIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgcG9zaXRpb246IGFic29sdXRlOwp9Ci56aGV6IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA0Ljc5MzYwOXJlbTsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgei1pbmRleDogOTsKfQoudG9wQm94IHsKICBtYXJnaW4tdG9wOiAyLjIzNzAxN3JlbTsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDQuNTI3Mjk3cmVtOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB6LWluZGV4OiAxMDsKICB0b3A6IC0wLjA3OTg5M3JlbTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjZWJlYmViOwp9Ci50aXRsZSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAyOCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDEwOwogIG1hcmdpbi1sZWZ0OiAwLjM5OTQ2N3JlbTsKICBib3R0b206IDA7CiAgY29sb3I6ICNmZmY7Cn0KLm5hbWUgewogIHdpZHRoOiAxMDAlOwogIGZvbnQtd2VpZ2h0OiA1NTA7CiAgbWFyZ2luLWJvdHRvbTogMC4xMzMxNTZyZW07Cn0KLnRlc3QgewogIHdpZHRoOiAxMDAlOwogIGZvbnQtc2l6ZTogMC4zNDYyMDVyZW07CiAgbGV0dGVyLXNwYWNpbmc6IDFweDsKICBjb2xvcjogI2IzYjFiMTsKfQouY29udGVudCB7CiAgcGFkZGluZzogMC4yNjYzMTJyZW0gMC4zOTk0NjdyZW07CiAgbWFyZ2luLXRvcDogMC4yNjYzMTJyZW07CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgZmxleC13cmFwOiB3cmFwOwogIG1hcmdpbi1ib3R0b206IDEuMzMxNTU4cmVtOwp9Ci5hbGJ1bUl0ZW0gewogIHdpZHRoOiA0NSU7CiAgaGVpZ2h0OiA0Ljc5MzYwOXJlbTsKICBtYXJnaW4tYm90dG9tOiAwLjIxMzA0OXJlbTsKfQoudG9waW1nIHsKICB3aWR0aDogMy41OTUyMDZyZW07CiAgaGVpZ2h0OiAzLjQ2MjA1MXJlbTsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLnRvcGltZyAuaW1nIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYm9yZGVyLXJhZGl1czogMC4yMTMwNDlyZW07CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHotaW5kZXg6IDU7Cn0KLmJnY0ltZyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHJpZ2h0OiAtMC41MzI2MjNyZW07CiAgdG9wOiAwOwp9Ci5hbGJ1bW5hbWUgewogIHdpZHRoOiA0LjEyNzgzcmVtOwogIG92ZXJmbG93OiBoaWRkZW47CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBmb250LXNpemU6IDAuMzcyODM2cmVtOwogIG1hcmdpbi10b3A6IDAuMTMzMTU2cmVtOwp9Ci5hcnRpc3QgewogIHdpZHRoOiA0LjEyNzgzcmVtOwogIG92ZXJmbG93OiBoaWRkZW47CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBmb250LXNpemU6IDAuMzE5NTc0cmVtOwogIGNvbG9yOiAjYjNiMWIxOwp9Cg=="},{"version":3,"sources":["moreAlbum.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"moreAlbum.vue","sourceRoot":"src/views/discover/childrenComps/moreComps","sourcesContent":["<template>\n  <div class=\"moreAlbum\">\n    <menunav class=\"nav\" :navTitle=\"'更多专辑'\"></menunav>\n    <scrollnav\n      @tabToggle=\"tabToggle\"\n      class=\"snav\"\n      :itemList=\"tagList\"\n      :firstIndex=\"0\"\n    ></scrollnav>\n    <div class=\"topBox\">\n      <div class=\"video\">\n        <video\n          style=\"width: 100%; height: 4.793609rem; object-fit: fill\"\n          src=\"~assets/video/album.mp4\"\n          loop=\"loop\"\n          autoplay\n        ></video>\n      </div>\n      <div class=\"zhez\"></div>\n      <div class=\"title\">\n        <div class=\"name\">{{ name }}</div>\n        <div class=\"test\">{{ test }}</div>\n      </div>\n    </div>\n    <div class=\"content\">\n      <div\n        class=\"albumItem\"\n        @click=\"albumShow(item.id)\"\n        v-for=\"(item, index) in albumList\"\n        :key=\"index\"\n      >\n        <div class=\"topimg\">\n          <img class=\"img\" @load=\"imgload(index)\" v-lazy=\"item.picUrl\" alt=\"\" />\n          <img\n            v-show=\"item.showBlack\"\n            class=\"bgcImg\"\n            src=\"~assets/img/discover/moreAlbum/heiyuan.svg\"\n            alt=\"\"\n          />\n        </div>\n        <div class=\"albumname\">{{ item.name }}</div>\n        <div class=\"artist\">{{ item.artist }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport menunav from \"components/context/menuNav/MenuNav\";\nimport scrollnav from \"components/context/scrollNav/ScrollNav\";\n\nimport { getAlbum } from \"network/discover\";\n\nexport default {\n  name: \"moreAlbum\",\n  data() {\n    return {\n      offset: 0,\n      tagList: [\"全部\", \"华语\", \"欧美\", \"韩国\", \"日本\"],\n      albumList: [], // 专辑数组\n      name: \"推荐\",\n      test: \"Recommend\",\n      Area: \"全部\",\n      loading: false,     \n    };\n  },\n  components: {\n    menunav,\n    scrollnav,\n  },\n  methods: {\n    // 图片加载事件\n    imgload(index){\n      this.albumList[index].showBlack = true\n    },\n\n    // 路由跳转\n    albumShow(id) {\n      this.$router.push(\"/playDetail/\" + id + \"&\" + true);\n    },\n\n    // 导航栏切换\n    tabToggle(index) {\n      switch (index) {\n        case 0:\n          this.album(\"ALL\", \"hot\");\n          this.Area = \"全部\";\n          this.name = \"全部\";\n          this.test = \"Recommend\";\n          break;\n        case 1:\n          this.album(\"ZH\", \"hot\");\n          this.Area = \"华语\";\n          this.name = \"华语\";\n          this.test = \"Mandarin Music\";\n          break;\n        case 2:\n          this.album(\"EA\", \"hot\");\n          this.Area = \"欧美\";\n          this.name = \"欧美\";\n          this.test = \"Western Music\";\n          break;\n        case 3:\n          this.album(\"KR\", \"hot\");\n          this.Area = \"韩国\";\n          this.name = \"韩国\";\n          this.test = \"Korean Music\";\n          break;\n        case 4:\n          this.album(\"JP\", \"hot\");\n          this.Area = \"日本\";\n          this.name = \"日本\";\n          this.test = \"Japanese Music\";\n          break;\n        default:\n          break;\n      }\n    },\n\n    // 封装方法\n    album(area, type) {\n      this.$loading.loadingShow();\n      if (this.Area !== area) {\n        this.offset = 0;\n        this.albumList = [];\n        getAlbum(30, this.offset * 30, area, type).then((res) => {\n          for (const item of res.data.monthData) {\n            this.albumList.push({\n              id: item.id,\n              name: item.name,\n              picUrl: item.picUrl,\n              artist: item.artist.name,\n              showBlack: false,\n            });\n            this.$loading.loadingNo();\n          }\n        });\n      }\n      this.Area = area;\n    },\n\n    // 下拉加载\n    loadingAlbum() {\n      this.$loading.loadingShow();\n      this.offset = 1;\n      getAlbum(30, this.offset * 30, this.Area, \"hot\").then((res) => {\n        for (const item of res.data.monthData) {\n          this.albumList.push({\n            id: item.id,\n            name: item.name,\n            picUrl: item.picUrl,\n            artist: item.artist.name,\n            showBlack: false,\n          });\n          this.$loading.loadingNo();\n        }\n        this.offset++;\n      });\n    },\n\n    // 监听滚动事件\n    linearScroll() {\n      // 滚动条距离顶部的距离\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 可视区的高度\n      let clientHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      // 滚动条可滚动的高度\n      let scrollHeight =\n        document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (scrollTop + clientHeight >= scrollHeight - 1) {\n        this.$loading.loadingShow();\n        setTimeout(() => {\n          this.loadingAlbum();\n          this.$loading.loadingNo();\n        }, 1000);\n      }\n    },\n  },\n  created() {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n    this.album(\"ALL\", \"hot\");\n  },\n\n  mounted() {\n    // 绑定滚动事件\n    document.addEventListener(\"scroll\", this.linearScroll);\n  },\n  destroyed () {\n    document.removeEventListener(\"scroll\", this.linearScroll)\n  }\n};\n</script>\n<style scoped>\n.nav {\n  position: fixed;\n  z-index: 20;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.snav {\n  position: fixed;\n  top: 44px;\n  left: 0;\n  right: 0;\n  z-index: 19;\n}\n.moreAlbum {\n  width: 100%;\n  background-color: #fff;\n}\n.video {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n.zhez {\n  position: absolute;\n  width: 100%;\n  height: 4.793609rem;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 9;\n}\n.topBox {\n  margin-top: 2.237017rem;\n  width: 100%;\n  height: 4.527297rem;\n  position: relative;\n  z-index: 10;\n  top: -0.079893rem;\n  background-color: #fff;\n  border-bottom: 8px solid #ebebeb;\n}\n.title {\n  width: 100%;\n  height: 28%;\n  position: absolute;\n  z-index: 10;\n  margin-left: 0.399467rem;\n  bottom: 0;\n  color: #fff;\n}\n.name {\n  width: 100%;\n  font-weight: 550;\n  margin-bottom: 0.133156rem;\n}\n.test {\n  width: 100%;\n  font-size: 0.346205rem;\n  letter-spacing: 1px;\n  color: #b3b1b1;\n}\n.content {\n  padding: 0.266312rem 0.399467rem;\n  margin-top: 0.266312rem;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  margin-bottom: 1.331558rem;\n}\n.albumItem {\n  width: 45%;\n  height: 4.793609rem;\n  margin-bottom: 0.213049rem;\n}\n.topimg {\n  width: 3.595206rem;\n  height: 3.462051rem;\n  position: relative;\n}\n.topimg .img {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.213049rem;\n  position: relative;\n  z-index: 5;\n}\n.bgcImg {\n  position: absolute;\n  right: -0.532623rem;\n  top: 0;\n}\n.albumname {\n  width: 4.12783rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 0.372836rem;\n  margin-top: 0.133156rem;\n}\n.artist {\n  width: 4.12783rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 0.319574rem;\n  color: #b3b1b1;\n}\n</style>"]}]}