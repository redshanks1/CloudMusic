{"remainingRequest":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\rankingList.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vscode\\gocode\\cloudMusic\\src\\views\\radioStation\\childrenComps\\rankingList.vue","mtime":1605347186000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\vscode\\gocode\\cloudMusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtZW51TmF2IGZyb20gImNvbXBvbmVudHMvY29udGV4dC9tZW51TmF2L01lbnVOYXYiOwppbXBvcnQgdGFibmF2IGZyb20gImNvbXBvbmVudHMvY29udGV4dC90YWJOYXYvVGFiTmF2IjsKaW1wb3J0IG1zY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vbXVpU2Nyb2xsL011aVNjcm9sbCI7IC8vIOa7muWKqOe7hOS7tgppbXBvcnQgYW5jaG9yTGlzdCBmcm9tICIuL2FuY2hvckxpc3QiOyAgIC8vIOS4u+aSreamnAppbXBvcnQgc3RhdGlvbkxpc3QgZnJvbSAnLi9zdGF0aW9uTGlzdCc7ICAvLyDnlLXlj7DmppwKCmltcG9ydCB7IHRvU3RyaW5nTnVtIH0gZnJvbSAnY29tbW9uL2NvbW1vbicKaW1wb3J0IHsgZ2V0UHJvZ3JhbUxpc3QsIGdldFByb2dyYW1Ub3BMaXN0IH0gZnJvbSAibmV0d29yay9yYWRpb1N0YXRpb24iOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyYW5raW5nTGlzdCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hdlRpdGxlOiAi5Li75pKt55S15Y+w5o6S6KGM5qacIiwKICAgICAgaXRlbUxpc3Q6IFsi5Li75pKt5qacIiwgIuiKguebruamnCIsICLnlLXlj7DmppwiXSwKICAgICAgb2Zmc2V0OiAwLAogICAgICB0b3BMaXN0OiBbXSwgLy8gMjTlsI/ml7bmppwKICAgICAgcHJvTGlzdDogW10sIC8vIOiKguebruamnAogICAgICBzaG93UHJvZ3JhbTogdHJ1ZSwgIC8vIOiKguebruamnAogICAgICBzaG93QW5jaG9yOiBmYWxzZSwgIC8vIOS4u+aSreamnAogICAgICBzaG93QXVkaW86IGZhbHNlLCAgLy8g55S15Y+w5qacCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgbWVudU5hdiwKICAgIHRhYm5hdiwKICAgIG1zY3JvbGwsCiAgICBhbmNob3JMaXN0LAogICAgc3RhdGlvbkxpc3QKICB9LAogIG1ldGhvZHM6IHsKICAgIHRhYlRvZ2dsZShpbmRleCl7CiAgICAgIC8vIHRoaXMuJHJlZnMucmFua1RhYi50YWJJbmRleCA9IGluZGV4OwogICAgICAvLyB0aGlzLiRyZWZzLnJhbmtUYWIudGFiSXRlbShpbmRleCk7CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLnNob3dQcm9ncmFtID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNob3dBbmNob3IgPSB0cnVlOwogICAgICAgICAgdGhpcy5zaG93QXVkaW8gPSBmYWxzZQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdGhpcy5zaG93UHJvZ3JhbSA9IHRydWU7CiAgICAgICAgICB0aGlzLnNob3dBbmNob3IgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2hvd0F1ZGlvID0gZmFsc2UKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuc2hvd1Byb2dyYW0gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2hvd0FuY2hvciA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zaG93QXVkaW8gPSB0cnVlCiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCgogICAgLy8g6Lev55Sx6Lez6L2sCiAgICB0b1BsYXkoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hdWRpb1BsYXkvIiArIGlkKTsKICAgIH0sCgogICAgcHJvZ3JhbVRvcExpc3QoKSB7CiAgICAgIGdldFByb2dyYW1Ub3BMaXN0KDMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByZXMuZGF0YS5kYXRhLmxpc3QpIHsKICAgICAgICAgIHRoaXMudG9wTGlzdC5wdXNoKHsKICAgICAgICAgICAgaWQ6IGl0ZW0ucHJvZ3JhbS5pZCwKICAgICAgICAgICAgY292ZXJVcmw6IGl0ZW0ucHJvZ3JhbS5jb3ZlclVybCwKICAgICAgICAgICAgbmFtZTogaXRlbS5wcm9ncmFtLm5hbWUsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBwcm9ncmFtTGlzdCgpIHsKICAgICAgZ2V0UHJvZ3JhbUxpc3QoMTAwKS50aGVuKChyZXMpID0+IHsKICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzLmRhdGEudG9wbGlzdCkgewogICAgICAgICAgdGhpcy5wcm9MaXN0LnB1c2goewogICAgICAgICAgICBsYXN0UmFuazogaXRlbS5sYXN0UmFuaywgLy8g5LiK5qyh5o6S5ZCN5riF56m6IC0x6KGo56S6bmV3CiAgICAgICAgICAgIHNjb3JlOiB0b1N0cmluZ051bShpdGVtLnNjb3JlKSwgLy8g6IqC55uu54Ot5bqmCiAgICAgICAgICAgIHJhbms6IGl0ZW0ucmFuaywgLy8g55uu5YmN5o6S5ZCNICDkuIrmrKHmjpLlkI0gbGFzdFJhbmsgLSByYW5rCiAgICAgICAgICAgIGNvdmVyVXJsOiBpdGVtLnByb2dyYW0uY292ZXJVcmwsIC8vIOiKguebruWwgemdogogICAgICAgICAgICBuYW1lOiBpdGVtLnByb2dyYW0ubmFtZSwgLy8g6IqC55uu5ZCN56ewCiAgICAgICAgICAgIG5pY2tOYW1lOiBpdGVtLnByb2dyYW0uZGoubmlja25hbWUsIC8vIOWIm+S9nOiAheWQjeensAogICAgICAgICAgICBwaWNVcmw6IGl0ZW0ucHJvZ3JhbS5kai5hdmF0YXJVcmwsIC8vIOWIm+S9nOiAheWktOWDjwogICAgICAgICAgICBpZDogaXRlbS5wcm9ncmFtLmlkLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kbG9hZGluZy5sb2FkaW5nU2hvdygpOwogICAgdGhpcy4kc3RvcmUuc3RhdGUuaXNTaG93TmF2ID0gZmFsc2U7IC8vIOmakOiXj+W6lemDqOaSreaUvuagjwogICAgdGhpcy5wcm9ncmFtTGlzdCgpOwogICAgdGhpcy5wcm9ncmFtVG9wTGlzdCgpOwogIH0sCiAgLy8g56a75byA55WM6Z2i5ZCOCiAgZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5zdGF0ZS5pc1Nob3dOYXYgPSB0cnVlOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy4kbG9hZGluZy5sb2FkaW5nTm8oKTsKICAgIH0pOwogIH0sCn07Cg=="},{"version":3,"sources":["rankingList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rankingList.vue","sourceRoot":"src/views/radioStation/childrenComps","sourcesContent":["<template>\n  <div class=\"rankingList\">\n    <menu-nav :navTitle=\"navTitle\"></menu-nav>\n    <tabnav :firstIndex='1' ref=\"rankTab\" @tabToggle='tabToggle' :itemList=\"itemList\"></tabnav>\n    <mscroll style=\"top: 84px\" :scrollY=\"true\">\n      <!-- 节目榜 -->\n      <div v-show=\"showProgram\" class=\"program\">\n        <div class=\"topContent\">\n          <div class=\"hour\">\n            24小时榜\n            <img src=\"~assets/img/radioStation/Ranking/you.svg\" alt=\"\" />\n          </div>\n          <div class=\"topList\">\n            <div\n              class=\"listItem\"\n              @click=\"toPlay(item.id)\"\n              v-for=\"(item, index) in topList\"\n              :key=\"index\"\n            >\n              <div class=\"box\">\n                <div class=\"topImg\">\n                  <img class=\"logo\" :src=\"item.coverUrl\" alt=\"\" />\n                  <div class=\"playBtn\">\n                    <img\n                      src=\"~assets/img/radioStation/Ranking/bof.svg\"\n                      alt=\"\"\n                    />\n                  </div>\n                </div>\n                <div class=\"bottomText\">\n                  {{ item.name }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"hotProgram\">\n          <div class=\"topText\">\n            热门节目\n            <img src=\"~assets/img/radioStation/Ranking/tishi.svg\" alt=\"\" />\n          </div>\n          <div class=\"hotList\" v-if=\"proList.length !== 0\">\n            <div\n              @click=\"toPlay(item.id)\"\n              class=\"hotListItem\"\n              v-for=\"(item, index) in proList\"\n              :key=\"index\"\n            >\n              <div class=\"left\">\n                <span :class=\"{ topActive: index < 3 }\">{{ index + 1 }}</span>\n                <div class=\"tag\">\n                  <img\n                    v-if=\"item.lastRank === -1\"\n                    class=\"new\"\n                    src=\"~assets/img/radioStation/Ranking/new.svg\"\n                    alt=\"\"\n                  />\n                  <div class=\"upbox\" v-else-if=\"item.lastRank - item.rank > 0\">\n                    <img\n                      class=\"up\"\n                      src=\"~assets/img/radioStation/Ranking/shang.svg\"\n                      alt=\"\"\n                    />{{ item.lastRank - item.rank }}\n                  </div>\n                  <div class=\"no\" v-else-if=\"item.lastRank - item.rank === 0\">\n                    - {{ \" \" + item.lastRank - item.rank }}\n                  </div>\n                  <div class=\"upbox\" v-else-if=\"item.lastRank - item.rank < 0\">\n                    <img\n                      class=\"down\"\n                      src=\"~assets/img/radioStation/Ranking/xia.svg\"\n                      alt=\"\"\n                    />{{ item.rank - item.lastRank }}\n                  </div>\n                </div>\n              </div>\n              <div class=\"userImg\">\n                <img v-lazy=\"item.coverUrl\" alt=\"\" />\n              </div>\n              <div class=\"center\">\n                <div class=\"centerbox\">\n                  <div class=\"title\">{{ item.name }}</div>\n                  <div class=\"detail\">\n                    <img :src=\"item.picUrl\" alt=\"\" />\n                    <div class=\"creater\">\n                      {{ item.nickName }}\n                    </div>\n                    <div class=\"redu\">\n                      <img\n                        src=\"~assets/img/radioStation/Ranking/redu.svg\"\n                        alt=\"\"\n                      />\n                      {{ item.score }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"right\">\n                <div class=\"rightImg\">\n                  <img\n                    src=\"~assets/img/radioStation/Ranking/bofang.svg\"\n                    alt=\"\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <anchor-list v-if=\"showAnchor\"></anchor-list>\n      <station-list v-if=\"showAudio\"></station-list>\n    </mscroll>\n  </div>\n</template>\n\n<script>\nimport menuNav from \"components/context/menuNav/MenuNav\";\nimport tabnav from \"components/context/tabNav/TabNav\";\nimport mscroll from \"components/common/muiScroll/MuiScroll\"; // 滚动组件\nimport anchorList from \"./anchorList\";   // 主播榜\nimport stationList from './stationList';  // 电台榜\n\nimport { toStringNum } from 'common/common'\nimport { getProgramList, getProgramTopList } from \"network/radioStation\";\n\nexport default {\n  name: \"rankingList\",\n  data() {\n    return {\n      navTitle: \"主播电台排行榜\",\n      itemList: [\"主播榜\", \"节目榜\", \"电台榜\"],\n      offset: 0,\n      topList: [], // 24小时榜\n      proList: [], // 节目榜\n      showProgram: true,  // 节目榜\n      showAnchor: false,  // 主播榜\n      showAudio: false,  // 电台榜\n    };\n  },\n  components: {\n    menuNav,\n    tabnav,\n    mscroll,\n    anchorList,\n    stationList\n  },\n  methods: {\n    tabToggle(index){\n      // this.$refs.rankTab.tabIndex = index;\n      // this.$refs.rankTab.tabItem(index);\n      switch (index) {\n        case 0:\n          this.showProgram = false;\n          this.showAnchor = true;\n          this.showAudio = false\n          break;\n        case 1:\n          this.showProgram = true;\n          this.showAnchor = false;\n          this.showAudio = false\n          break;\n        case 2:\n          this.showProgram = false;\n          this.showAnchor = false;\n          this.showAudio = true\n          break;\n        default:\n          break;\n      }\n    },\n\n    // 路由跳转\n    toPlay(id) {\n      this.$router.push(\"/audioPlay/\" + id);\n    },\n\n    programTopList() {\n      getProgramTopList(3).then((res) => {\n        for (const item of res.data.data.list) {\n          this.topList.push({\n            id: item.program.id,\n            coverUrl: item.program.coverUrl,\n            name: item.program.name,\n          });\n        }\n      });\n    },\n\n    programList() {\n      getProgramList(100).then((res) => {\n        for (const item of res.data.toplist) {\n          this.proList.push({\n            lastRank: item.lastRank, // 上次排名清空 -1表示new\n            score: toStringNum(item.score), // 节目热度\n            rank: item.rank, // 目前排名  上次排名 lastRank - rank\n            coverUrl: item.program.coverUrl, // 节目封面\n            name: item.program.name, // 节目名称\n            nickName: item.program.dj.nickname, // 创作者名称\n            picUrl: item.program.dj.avatarUrl, // 创作者头像\n            id: item.program.id,\n          });\n        }\n      });\n    },\n  },\n  created() {\n    this.$loading.loadingShow();\n    this.$store.state.isShowNav = false; // 隐藏底部播放栏\n    this.programList();\n    this.programTopList();\n  },\n  // 离开界面后\n  deactivated() {\n    this.$store.state.isShowNav = true;\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$loading.loadingNo();\n    });\n  },\n};\n</script>\n<style scoped>\n.rankingList {\n  position: relative;\n  width: 100%;\n  height: 100vh;\n  background-color: #fff;\n}\n.topContent {\n  padding: .45273rem .319574rem;\n  border-bottom: 8px solid #f0efef;\n}\n.hour {\n  font-size: 17px;\n  height: 20px;\n  line-height: 20px;\n}\n.topText {\n  font-size: 17px;\n  height: 20px;\n  line-height: 20px;\n}\n.topText img {\n  position: relative;\n  top: 2px;\n}\n.hour img {\n  width: 14px;\n  position: relative;\n  top: 1.5px;\n}\n.topList {\n  width: 100%;\n  height: 3.728362rem;\n  display: flex;\n  margin-top: 10px;\n}\n.listItem {\n  flex: 1;\n  text-align: center;\n}\n.box {\n  width: 90%;\n  height: 100%;\n  margin: 0 auto;\n}\n.topImg {\n  width: 100%;\n  height: 73%;\n  overflow: hidden;\n  border-radius: 5px;\n  position: relative;\n}\n.playBtn {\n  width: 0.532623rem;\n  height: 0.532623rem;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  z-index: 5;\n}\n.playBtn img {\n  width: 0.23968rem;\n  position: relative;\n  left: 0.029294rem;\n  top: -0.08522rem;\n}\n.bottomText {\n  width: 100%;\n  height: 25%;\n  margin-top: 2%;\n  text-overflow: -o-ellipsis-lastline;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  font-size: 13px;\n  line-height: 0.45273rem;\n}\n.topImg .logo {\n  width: 100%;\n  height: 100%;\n}\n.hotProgram {\n  padding: 17px 12px;\n}\n.hotList {\n  margin-top: 12px;\n}\n.hotListItem {\n  width: 100%;\n  height: 1.331558rem;\n  display: flex;\n  margin-bottom: 10px;\n}\n.left {\n  flex: 0.9;\n  margin-right: 5px;\n  font-size: 18px;\n  font-weight: 550;\n  /* line-height: ; */\n  text-align: center;\n  color: #6d6d6d;\n}\n.left span {\n  line-height: 1.011984rem;\n}\n.userImg {\n  flex: 1.4;\n  overflow: hidden;\n  border-radius: 5px;\n}\n.userImg img {\n  width: 100%;\n  height: 100%;\n}\n.center {\n  flex: 6;\n  display: flex;\n  align-items: center;\n}\n.centerbox {\n  margin-left: 10px;\n}\n.right {\n  flex: 1;\n  text-align: center;\n  display: flex;\n}\n.right img {\n  width: 30px;\n}\n.rightImg {\n  margin: auto;\n}\n.topActive {\n  color: #da231b;\n}\n.title {\n  width: 5.778961rem;\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.detail {\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n.creater {\n  padding-right: 8px;\n  border-right: 1px solid #d8d8d8;\n  font-size: 12px;\n  color: #696969;\n  line-height: 17px;\n  position: relative;\n  display: inline-block;\n  display: inline;\n  zoom: 1;\n}\n.detail img {\n  width: 17px;\n  height: 17px;\n  border-radius: 50%;\n  float: left;\n  margin-right: 4px;\n}\n.redu img {\n  width: 12px;\n  position: relative;\n  top: 1.5px;\n}\n.redu {\n  font-size: 12px;\n  color: #6d6d6d;\n  margin-left: 8px;\n}\n.tag {\n  height: 17px;\n  position: relative;\n  top: -0.399467rem;\n  font-size: 12px;\n  color: #696969;\n}\n.tag .new {\n  height: 20px;\n}\n.upbox {\n  width: 0.719041rem;\n  text-align: center;\n}\n.tag .up {\n  height: 13px;\n  float: left;\n  position: relative;\n  top: 0.093209rem;\n}\n.down {\n  height: 13px;\n  float: left;\n  position: relative;\n  top: 0.114514rem;\n}\n</style>"]}]}